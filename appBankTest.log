2023-11-22 17:48:34,245 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 31208 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-22 17:48:34,262 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-22 17:48:35,307 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-22 17:48:35,307 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-22 17:48:35,354 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 17:48:35,356 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 17:48:35,357 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 17:48:35,357 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 17:48:35,358 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 17:48:35,359 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 0 JDBC repository interfaces.
2023-11-22 17:48:35,367 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-22 17:48:35,368 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-22 17:48:35,408 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 5 JPA repository interfaces.
2023-11-22 17:48:36,264 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-22 17:48:36,351 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-22 17:48:36,354 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-22 17:48:36,533 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-22 17:48:36,687 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-22 17:48:36,697 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-22 17:48:37,020 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-22 17:48:37,021 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-22 17:48:37,277 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-22 17:48:37,905 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-22 17:48:37,907 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-22 17:48:38,980 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-22 17:48:40,738 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-22 17:48:41,192 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4fdc1a37, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61b4a433, org.springframework.security.web.context.SecurityContextHolderFilter@157312, org.springframework.security.web.header.HeaderWriterFilter@32daea66, org.springframework.security.web.authentication.logout.LogoutFilter@73c7a727, de.telran.bankapp.security.JwtAuthorisationFilter@6364e814, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@485e52c9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7bf75275, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@127abbbe, org.springframework.security.web.session.SessionManagementFilter@d6ff21e, org.springframework.security.web.access.ExceptionTranslationFilter@5f50f63e, org.springframework.security.web.access.intercept.AuthorizationFilter@3f098695]
2023-11-22 17:48:42,720 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-22 17:48:42,859 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-22 17:48:42,859 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-22 17:48:42,860 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-22 17:48:42,926 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Started ManagerControllerTest in 9.056 seconds (process running for 10.577)
2023-11-22 17:48:43,267 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener] for test method [void de.telran.bankapp.controller.ManagerControllerTest.shouldGetAllManagers() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ManagerControllerTest@7caf0725]
java.lang.IllegalStateException: Unable to create SecurityContext using @org.springframework.security.test.context.support.WithUserDetails(setupBefore=TEST_METHOD, userDetailsServiceBeanName="", value="vip@gmail.com")
	at org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.lambda$createTestSecurityContext$1(WithSecurityContextTestExecutionListener.java:143)
	at org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.beforeTestMethod(WithSecurityContextTestExecutionListener.java:90)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: java.lang.NullPointerException: Cannot invoke "de.telran.bankapp.entity.Client.getStatus()" because "client" is null
	at de.telran.bankapp.security.CustomUserDetailsService.loadUserByUsername(CustomUserDetailsService.java:25)
	at org.springframework.security.test.context.support.WithUserDetailsSecurityContextFactory.createSecurityContext(WithUserDetailsSecurityContextFactory.java:69)
	at org.springframework.security.test.context.support.WithUserDetailsSecurityContextFactory.createSecurityContext(WithUserDetailsSecurityContextFactory.java:44)
	at org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener.lambda$createTestSecurityContext$1(WithSecurityContextTestExecutionListener.java:140)
	... 57 common frames omitted
2023-11-22 17:48:43,789 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-22 17:48:43,799 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-22 17:48:43,802 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-22 17:54:17,105 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 38076 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-22 17:54:17,114 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-22 17:54:18,002 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-22 17:54:18,002 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-22 17:54:18,038 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 17:54:18,039 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 17:54:18,040 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 17:54:18,041 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 17:54:18,042 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 17:54:18,043 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 0 JDBC repository interfaces.
2023-11-22 17:54:18,051 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-22 17:54:18,052 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-22 17:54:18,094 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 5 JPA repository interfaces.
2023-11-22 17:54:18,855 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-22 17:54:18,933 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-22 17:54:18,939 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-22 17:54:19,143 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-22 17:54:19,287 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-22 17:54:19,303 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-22 17:54:19,621 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-22 17:54:19,632 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-22 17:54:19,868 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-22 17:54:20,504 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-22 17:54:20,507 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-22 17:54:21,359 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-22 17:54:22,897 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-22 17:54:23,398 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@cfec1ec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1af2c5c8, org.springframework.security.web.context.SecurityContextHolderFilter@47955046, org.springframework.security.web.header.HeaderWriterFilter@5deae5ef, org.springframework.security.web.authentication.logout.LogoutFilter@6eb1a122, de.telran.bankapp.security.JwtAuthorisationFilter@7ef60643, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61b2ca5a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58d7a3bb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3f5298a5, org.springframework.security.web.session.SessionManagementFilter@734df10b, org.springframework.security.web.access.ExceptionTranslationFilter@76466a5, org.springframework.security.web.access.intercept.AuthorizationFilter@55de1b68]
2023-11-22 17:54:25,035 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-22 17:54:25,153 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-22 17:54:25,153 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-22 17:54:25,155 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 2 ms
2023-11-22 17:54:25,216 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Started ManagerControllerTest in 8.455 seconds (process running for 9.428)
2023-11-22 17:54:26,041 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagers
2023-11-22 17:54:26,041 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagers
2023-11-22 17:54:26,063 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000002, firstName=Carlos, lastName=Garcia, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000077, firstName=Anna, lastName=Lee, status=FIRED)],[]>
END OF REQUEST
2023-11-22 17:54:26,160 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-22 17:54:26,167 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-22 17:54:26,193 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-22 17:57:58,954 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 20796 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-22 17:57:58,970 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-22 17:58:00,799 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-22 17:58:00,801 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-22 17:58:00,842 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 17:58:00,844 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 17:58:00,845 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 17:58:00,846 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 17:58:00,847 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 17:58:00,847 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 0 JDBC repository interfaces.
2023-11-22 17:58:00,864 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-22 17:58:00,865 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-22 17:58:00,914 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 5 JPA repository interfaces.
2023-11-22 17:58:01,882 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-22 17:58:02,004 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-22 17:58:02,008 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-22 17:58:02,400 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-22 17:58:02,663 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-22 17:58:02,688 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-22 17:58:03,283 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-22 17:58:03,288 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-22 17:58:03,720 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-22 17:58:04,557 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-22 17:58:04,560 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-22 17:58:05,571 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-22 17:58:07,361 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-22 17:58:07,792 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@13c9372a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@22672ebb, org.springframework.security.web.context.SecurityContextHolderFilter@99ec48f, org.springframework.security.web.header.HeaderWriterFilter@5afc655b, org.springframework.security.web.authentication.logout.LogoutFilter@13493515, de.telran.bankapp.security.JwtAuthorisationFilter@1f1685ca, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77a8ec44, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60a8459b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e35efbb, org.springframework.security.web.session.SessionManagementFilter@41cf5cc1, org.springframework.security.web.access.ExceptionTranslationFilter@36d61efd, org.springframework.security.web.access.intercept.AuthorizationFilter@6f167307]
2023-11-22 17:58:09,482 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-22 17:58:09,659 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-22 17:58:09,659 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-22 17:58:09,660 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-22 17:58:09,679 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 11.352 seconds (process running for 13.694)
2023-11-22 17:58:10,691 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-22 17:58:10,692 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-22 17:58:10,703 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-22 17:58:10,818 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/delete-accounts-without-transactions-and-created-earlier-than
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-22 17:58:10,820 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-22 17:58:10,896 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-22 17:58:10,944 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-22 17:58:10,945 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-22 17:58:10,953 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00)],[]>
END OF REQUEST
2023-11-22 17:58:11,048 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAllAccounts
2023-11-22 17:58:11,049 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAllAccounts
2023-11-22 17:58:11,061 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000001, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE89 3704 0044 0532 0130 00, type=CURRENT, status=ACTIVE, balance=5247.27, currencyCode=EUR, createdAt=2023-01-20T10:35:00, updatedAt=2023-10-05T12:02:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000002, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE12 1001 1001 2620 6568 90, type=CURRENT, status=ACTIVE, balance=2503.50, currencyCode=EUR, createdAt=2023-04-17T10:35:00, updatedAt=2023-10-05T12:02:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=ACTIVE, balance=0.00, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000004, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567), name=DE33 2004 1144 0199 9999 00, type=DEPOSIT, status=ACTIVE, balance=250000.00, currencyCode=EUR, createdAt=2023-07-25T10:35:00, updatedAt=2023-08-08T14:23:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000005, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE45 7002 0270 0015 7695 53, type=CURRENT, status=ACTIVE, balance=153256.00, currencyCode=EUR, createdAt=2022-11-25T10:35:00, updatedAt=2023-03-20T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=ACTIVE, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000007, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrasse 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), name=DE16 3706 0193 6001 2345 67, type=CURRENT, status=ACTIVE, balance=5151.15, currencyCode=EUR, createdAt=2023-02-14T10:35:00, updatedAt=2023-08-08T14:23:00)],[]>
END OF REQUEST
2023-11-22 17:58:11,074 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-22 17:58:11,078 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.AgreementControllerTest
2023-11-22 17:58:11,140 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AgreementController.getAllAgreements
2023-11-22 17:58:11,141 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AgreementServiceImpl.getAllAgreements
2023-11-22 17:58:11,167 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AgreementDto(creationDate=2023-01-20T10:35:00, clientName=Lukas Muller, account=DE89 3704 0044 0532 0130 00, product=Current account EUR, amountFromAgreement=0.00, amountFromAccount=5247.27, status=ACTIVE), AgreementDto(creationDate=2023-07-25T10:35:00, clientName=Markus Schmidt, account=DE33 2004 1144 0199 9999 00, product=Deposit up to 100.000 EUR, amountFromAgreement=250000.00, amountFromAccount=250000.00, status=ACTIVE), AgreementDto(creationDate=2022-11-25T10:35:00, clientName=Lena Weber, account=DE45 7002 0270 0015 7695 53, product=Current account EUR, amountFromAgreement=153256.00, amountFromAccount=153256.00, status=ACTIVE)],[]>
END OF REQUEST
2023-11-22 17:58:11,183 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ClientControllerTest]: ClientControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-22 17:58:11,187 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ClientControllerTest
2023-11-22 17:58:11,227 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/with-balance-more-than/100000
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getClientsWithBalanceMoreThan
2023-11-22 17:58:11,227 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getClientsWithBalanceMoreThan
2023-11-22 17:58:11,235 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-22 17:58:11,265 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/clients-accounts-with-balance-more-than/100000
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getClientsAndAccountsWithBalanceMoreThan
2023-11-22 17:58:11,266 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getClientsAndAccountsWithBalanceMoreThan
2023-11-22 17:58:11,270 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientWithAccountDto(clientId=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567, accountId=523e4567-e89b-12d3-a456-040000000004, accountNumber=DE33 2004 1144 0199 9999 00, balance=250000.00), ClientWithAccountDto(clientId=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543, accountId=523e4567-e89b-12d3-a456-040000000005, accountNumber=DE45 7002 0270 0015 7695 53, balance=153256.00)],[]>
END OF REQUEST
2023-11-22 17:58:11,304 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getAllClients
2023-11-22 17:58:11,304 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getAllClients
2023-11-22 17:58:11,308 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrasse 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), ClientDto(id=523e4567-e89b-12d3-a456-030000000005, firstName=Laura, lastName=Klein, email=vip@gmail.com, address=Goetheplatz 5, D-60311 Frankfurt am Main, Germany, phone=+49 69 8765432)],[]>
END OF REQUEST
2023-11-22 17:58:11,316 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-22 17:58:11,319 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ManagerControllerTest
2023-11-22 17:58:11,349 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagers
2023-11-22 17:58:11,349 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagers
2023-11-22 17:58:11,353 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000002, firstName=Carlos, lastName=Garcia, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000077, firstName=Anna, lastName=Lee, status=FIRED)],[]>
END OF REQUEST
2023-11-22 17:58:11,404 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-22 17:58:11,405 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-22 17:58:11,425 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=523e4567-e89b-12d3-a456-010000000018, firstName=NewFirstName, lastName=NewLastName, status=WORKING)]. Entity with ID 523e4567-e89b-12d3-a456-010000000018 is not found.
2023-11-22 17:58:11,428 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-22 17:58:11,428 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@7c91237c,[]>
END OF REQUEST
2023-11-22 17:58:11,434 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-22 17:58:11,435 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-22 17:58:11,435 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=, firstName=NewFirstName, lastName=NewLastName, status=WORKING)]. Manager creation error: ID canÂ´t be empty.
2023-11-22 17:58:11,436 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-22 17:58:11,436 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@7ffca9b2,[]>
END OF REQUEST
2023-11-22 17:58:11,484 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-22 17:58:11,484 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-22 17:58:11,509 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-22 17:58:11,512 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-22 17:58:11,512 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-22 17:58:11,527 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-22 17:58:11,529 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-22 17:58:11,530 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-22 17:58:11,531 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000011]. Entity Manager with id 523e4567-e89b-12d3-a456-010000000011 is not found.
2023-11-22 17:58:11,531 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-22 17:58:11,531 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@440f66ec,[]>
END OF REQUEST
2023-11-22 17:58:11,556 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-22 17:58:11,556 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-22 17:58:11,558 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=John, lastName=Smith, status=WORKING)]. Manager creation error: Manager with ID 523e4567-e89b-12d3-a456-010000000001 already exists
2023-11-22 17:58:11,558 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-22 17:58:11,559 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@6d2ecf65,[]>
END OF REQUEST
2023-11-22 17:58:11,561 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-22 17:58:11,561 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-22 17:58:11,562 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-22 17:58:11,593 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000018
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-22 17:58:11,594 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-22 17:58:11,596 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000018]. Entity Manager with id 523e4567-e89b-12d3-a456-010000000018 is not found.
2023-11-22 17:58:11,596 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000018
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-22 17:58:11,596 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@5235113e,[]>
END OF REQUEST
2023-11-22 17:58:11,599 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000018
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-22 17:58:11,599 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-22 17:58:11,600 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000018]. Entity with ID 523e4567-e89b-12d3-a456-010000000018 is not found.
2023-11-22 17:58:11,601 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000018
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-22 17:58:11,601 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@220a2ab9,[]>
END OF REQUEST
2023-11-22 17:58:11,628 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/get-all-by-clients-status/VIP
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagersByClientStatus
2023-11-22 17:58:11,628 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagersByClientStatus
2023-11-22 17:58:11,633 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING)],[]>
END OF REQUEST
2023-11-22 17:58:11,659 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-22 17:58:11,660 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-22 17:58:11,661 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=, firstName=John, lastName=Smith, status=WORKING)]. Manager creation error: ID canÂ´t be empty.
2023-11-22 17:58:11,661 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-22 17:58:11,661 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@4ba6aa2a,[]>
END OF REQUEST
2023-11-22 17:58:11,685 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-22 17:58:11,685 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-22 17:58:11,688 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-22 17:58:11,690 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-22 17:58:11,690 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-22 17:58:11,691 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-22 17:58:11,693 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-22 17:58:11,693 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-22 17:58:11,697 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-22 17:58:11,717 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-22 17:58:11,717 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-22 17:58:11,722 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-22 17:58:11,724 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-22 17:58:11,725 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-22 17:58:11,726 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=NewFirstName, lastName=NewLastName, status=FIRED),[]>
END OF REQUEST
2023-11-22 17:58:11,739 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-22 17:58:11,742 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ProductControllerTest
2023-11-22 17:58:11,764 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/523e4567-e89b-12d3-a456-020000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getProduct
2023-11-22 17:58:11,765 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getProductById
2023-11-22 17:58:11,766 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-020000000011]. Entity Product with id 523e4567-e89b-12d3-a456-020000000011 is not found.
2023-11-22 17:58:11,767 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/523e4567-e89b-12d3-a456-020000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-22 17:58:11,767 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@54874e6,[]>
END OF REQUEST
2023-11-22 17:58:11,788 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/523e4567-e89b-12d3-a456-020000000004
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getProduct
2023-11-22 17:58:11,788 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getProductById
2023-11-22 17:58:11,790 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ProductDto(id=523e4567-e89b-12d3-a456-020000000004, name=Current account EUR, status=ACTIVE, currencyCode=EUR),[]>
END OF REQUEST
2023-11-22 17:58:11,823 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/find-all-products-where-agreement-quantity-more-than/1
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.findAllProductsWhereAgreementsQuantityMoreThan
2023-11-22 17:58:11,824 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.findAllProductsWhereAgreementsQuantityMoreThan
2023-11-22 17:58:11,846 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000004, product_name=Current account EUR, manager_name=Carlos Garcia, quantity_of_use=2)],[]>
END OF REQUEST
2023-11-22 17:58:11,882 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getAllProducts
2023-11-22 17:58:11,883 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getAllProducts
2023-11-22 17:58:11,887 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductDto(id=523e4567-e89b-12d3-a456-020000000001, name=Mortgage up to 200.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000002, name=Mortgage up to 500.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000003, name=Deposit up to 100.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000004, name=Current account EUR, status=ACTIVE, currencyCode=EUR)],[]>
END OF REQUEST
2023-11-22 17:58:11,913 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/get-products-with-quantity-of-using
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getProductsWithQuantityOfUsing
2023-11-22 17:58:11,914 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getProductsWithQuantityOfUsing
2023-11-22 17:58:11,920 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000001, product_name=Mortgage up to 200.000 EUR, manager_name=James Smith, quantity_of_use=0), ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000002, product_name=Mortgage up to 500.000 EUR, manager_name=James Smith, quantity_of_use=0), ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000003, product_name=Deposit up to 100.000 EUR, manager_name=Anna Lee, quantity_of_use=1), ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000004, product_name=Current account EUR, manager_name=Carlos Garcia, quantity_of_use=2)],[]>
END OF REQUEST
2023-11-22 17:58:11,971 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-22 17:58:12,132 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-22 17:58:12,171 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-22 17:59:32,633 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 39276 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-22 17:59:32,640 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-22 17:59:33,490 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-22 17:59:33,491 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-22 17:59:33,529 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 17:59:33,530 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 17:59:33,532 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 17:59:33,533 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 17:59:33,534 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 17:59:33,535 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 0 JDBC repository interfaces.
2023-11-22 17:59:33,543 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-22 17:59:33,544 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-22 17:59:33,585 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 5 JPA repository interfaces.
2023-11-22 17:59:34,369 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-22 17:59:34,439 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-22 17:59:34,442 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-22 17:59:34,639 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-22 17:59:34,789 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-22 17:59:34,820 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-22 17:59:35,172 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-22 17:59:35,172 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-22 17:59:35,400 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-22 17:59:35,994 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-22 17:59:35,996 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-22 17:59:36,855 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-22 17:59:38,709 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-22 17:59:39,204 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@18ea91d7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33cbd883, org.springframework.security.web.context.SecurityContextHolderFilter@2dd7a886, org.springframework.security.web.header.HeaderWriterFilter@7231547f, org.springframework.security.web.authentication.logout.LogoutFilter@eb3ceb4, de.telran.bankapp.security.JwtAuthorisationFilter@67108db4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57c2bedf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5deae5ef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@735b2605, org.springframework.security.web.session.SessionManagementFilter@977a4ce, org.springframework.security.web.access.ExceptionTranslationFilter@24d6355c, org.springframework.security.web.access.intercept.AuthorizationFilter@745690d7]
2023-11-22 17:59:41,088 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-22 17:59:41,214 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-22 17:59:41,214 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-22 17:59:41,215 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-22 17:59:41,284 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 8.981 seconds (process running for 10.001)
2023-11-22 17:59:42,281 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-22 17:59:42,282 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-22 17:59:42,295 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-22 17:59:42,337 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/delete-accounts-without-transactions-and-created-earlier-than
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-22 17:59:42,338 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-22 17:59:42,398 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-22 17:59:42,423 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-22 17:59:42,423 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-22 17:59:42,427 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00)],[]>
END OF REQUEST
2023-11-22 17:59:42,461 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-22 17:59:42,463 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-22 17:59:42,491 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-22 18:00:24,486 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 22744 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-22 18:00:24,493 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-22 18:00:25,348 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-22 18:00:25,349 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-22 18:00:25,380 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 18:00:25,382 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 18:00:25,383 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 18:00:25,384 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 18:00:25,385 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 18:00:25,386 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 0 JDBC repository interfaces.
2023-11-22 18:00:25,395 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-22 18:00:25,395 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-22 18:00:25,441 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 5 JPA repository interfaces.
2023-11-22 18:00:26,266 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-22 18:00:26,334 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-22 18:00:26,338 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-22 18:00:26,539 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-22 18:00:26,669 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-22 18:00:26,694 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-22 18:00:26,992 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-22 18:00:26,994 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-22 18:00:27,231 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-22 18:00:27,849 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-22 18:00:27,851 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-22 18:00:28,891 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-22 18:00:30,565 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-22 18:00:31,033 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@52602c48, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78c7a736, org.springframework.security.web.context.SecurityContextHolderFilter@2031cad2, org.springframework.security.web.header.HeaderWriterFilter@2183db30, org.springframework.security.web.authentication.logout.LogoutFilter@3934574f, de.telran.bankapp.security.JwtAuthorisationFilter@1d7201cb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@515a3572, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6df38b48, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1dabeb92, org.springframework.security.web.session.SessionManagementFilter@3fbf4614, org.springframework.security.web.access.ExceptionTranslationFilter@5b3847f5, org.springframework.security.web.access.intercept.AuthorizationFilter@32daea66]
2023-11-22 18:00:32,578 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-22 18:00:32,710 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-22 18:00:32,711 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-22 18:00:32,712 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-22 18:00:32,751 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 8.602 seconds (process running for 9.56)
2023-11-22 18:00:33,569 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-22 18:00:33,569 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-22 18:00:33,588 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-22 18:00:33,639 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/delete-accounts-without-transactions-and-created-earlier-than
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-22 18:00:33,640 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-22 18:00:33,700 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-22 18:00:33,730 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-22 18:00:33,731 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-22 18:00:33,735 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00)],[]>
END OF REQUEST
2023-11-22 18:00:33,796 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAllAccounts
2023-11-22 18:00:33,796 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAllAccounts
2023-11-22 18:00:33,807 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000001, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE89 3704 0044 0532 0130 00, type=CURRENT, status=ACTIVE, balance=5247.27, currencyCode=EUR, createdAt=2023-01-20T10:35:00, updatedAt=2023-10-05T12:02:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000002, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE12 1001 1001 2620 6568 90, type=CURRENT, status=ACTIVE, balance=2503.50, currencyCode=EUR, createdAt=2023-04-17T10:35:00, updatedAt=2023-10-05T12:02:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=ACTIVE, balance=0.00, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000004, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567), name=DE33 2004 1144 0199 9999 00, type=DEPOSIT, status=ACTIVE, balance=250000.00, currencyCode=EUR, createdAt=2023-07-25T10:35:00, updatedAt=2023-08-08T14:23:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000005, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE45 7002 0270 0015 7695 53, type=CURRENT, status=ACTIVE, balance=153256.00, currencyCode=EUR, createdAt=2022-11-25T10:35:00, updatedAt=2023-03-20T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=ACTIVE, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000007, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrasse 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), name=DE16 3706 0193 6001 2345 67, type=CURRENT, status=ACTIVE, balance=5151.15, currencyCode=EUR, createdAt=2023-02-14T10:35:00, updatedAt=2023-08-08T14:23:00)],[]>
END OF REQUEST
2023-11-22 18:00:33,818 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-22 18:00:33,821 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-22 18:00:33,848 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-22 18:00:56,631 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 38412 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-22 18:00:56,645 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-22 18:00:57,954 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-22 18:00:57,957 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-22 18:00:58,000 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 18:00:58,001 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 18:00:58,002 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 18:00:58,003 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 18:00:58,004 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 18:00:58,005 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 0 JDBC repository interfaces.
2023-11-22 18:00:58,022 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-22 18:00:58,023 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-22 18:00:58,067 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 5 JPA repository interfaces.
2023-11-22 18:00:59,097 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-22 18:00:59,212 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-22 18:00:59,217 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-22 18:00:59,499 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-22 18:00:59,692 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-22 18:00:59,713 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-22 18:01:00,325 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-22 18:01:00,327 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-22 18:01:00,755 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-22 18:01:01,584 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-22 18:01:01,587 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-22 18:01:02,566 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-22 18:01:04,382 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-22 18:01:04,849 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5b710ce5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3cf197bb, org.springframework.security.web.context.SecurityContextHolderFilter@1832ab0a, org.springframework.security.web.header.HeaderWriterFilter@41f2b5f6, org.springframework.security.web.authentication.logout.LogoutFilter@65587896, de.telran.bankapp.security.JwtAuthorisationFilter@4307fd63, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d3229bf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@328c8678, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41f8c5cf, org.springframework.security.web.session.SessionManagementFilter@77602ba7, org.springframework.security.web.access.ExceptionTranslationFilter@648640c0, org.springframework.security.web.access.intercept.AuthorizationFilter@ebe695b]
2023-11-22 18:01:06,391 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-22 18:01:06,505 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-22 18:01:06,505 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-22 18:01:06,507 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-22 18:01:06,532 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 10.491 seconds (process running for 13.175)
2023-11-22 18:01:07,601 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-22 18:01:07,602 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-22 18:01:07,616 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-22 18:01:07,730 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/delete-accounts-without-transactions-and-created-earlier-than
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-22 18:01:07,731 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-22 18:01:07,800 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-22 18:01:07,845 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-22 18:01:07,845 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-22 18:01:07,852 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00)],[]>
END OF REQUEST
2023-11-22 18:01:07,950 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAllAccounts
2023-11-22 18:01:07,951 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAllAccounts
2023-11-22 18:01:07,962 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000001, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE89 3704 0044 0532 0130 00, type=CURRENT, status=ACTIVE, balance=5247.27, currencyCode=EUR, createdAt=2023-01-20T10:35:00, updatedAt=2023-10-05T12:02:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000002, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE12 1001 1001 2620 6568 90, type=CURRENT, status=ACTIVE, balance=2503.50, currencyCode=EUR, createdAt=2023-04-17T10:35:00, updatedAt=2023-10-05T12:02:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=ACTIVE, balance=0.00, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000004, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567), name=DE33 2004 1144 0199 9999 00, type=DEPOSIT, status=ACTIVE, balance=250000.00, currencyCode=EUR, createdAt=2023-07-25T10:35:00, updatedAt=2023-08-08T14:23:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000005, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE45 7002 0270 0015 7695 53, type=CURRENT, status=ACTIVE, balance=153256.00, currencyCode=EUR, createdAt=2022-11-25T10:35:00, updatedAt=2023-03-20T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=ACTIVE, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000007, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrasse 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), name=DE16 3706 0193 6001 2345 67, type=CURRENT, status=ACTIVE, balance=5151.15, currencyCode=EUR, createdAt=2023-02-14T10:35:00, updatedAt=2023-08-08T14:23:00)],[]>
END OF REQUEST
2023-11-22 18:01:07,974 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-22 18:01:07,978 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.AgreementControllerTest
2023-11-22 18:01:08,035 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AgreementController.getAllAgreements
2023-11-22 18:01:08,035 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AgreementServiceImpl.getAllAgreements
2023-11-22 18:01:08,055 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AgreementDto(creationDate=2023-01-20T10:35:00, clientName=Lukas Muller, account=DE89 3704 0044 0532 0130 00, product=Current account EUR, amountFromAgreement=0.00, amountFromAccount=5247.27, status=ACTIVE), AgreementDto(creationDate=2023-07-25T10:35:00, clientName=Markus Schmidt, account=DE33 2004 1144 0199 9999 00, product=Deposit up to 100.000 EUR, amountFromAgreement=250000.00, amountFromAccount=250000.00, status=ACTIVE), AgreementDto(creationDate=2022-11-25T10:35:00, clientName=Lena Weber, account=DE45 7002 0270 0015 7695 53, product=Current account EUR, amountFromAgreement=153256.00, amountFromAccount=153256.00, status=ACTIVE)],[]>
END OF REQUEST
2023-11-22 18:01:08,068 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ClientControllerTest]: ClientControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-22 18:01:08,071 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ClientControllerTest
2023-11-22 18:01:08,109 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/with-balance-more-than/100000
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getClientsWithBalanceMoreThan
2023-11-22 18:01:08,109 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getClientsWithBalanceMoreThan
2023-11-22 18:01:08,118 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-22 18:01:08,153 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/clients-accounts-with-balance-more-than/100000
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getClientsAndAccountsWithBalanceMoreThan
2023-11-22 18:01:08,153 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getClientsAndAccountsWithBalanceMoreThan
2023-11-22 18:01:08,159 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientWithAccountDto(clientId=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567, accountId=523e4567-e89b-12d3-a456-040000000004, accountNumber=DE33 2004 1144 0199 9999 00, balance=250000.00), ClientWithAccountDto(clientId=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543, accountId=523e4567-e89b-12d3-a456-040000000005, accountNumber=DE45 7002 0270 0015 7695 53, balance=153256.00)],[]>
END OF REQUEST
2023-11-22 18:01:08,195 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getAllClients
2023-11-22 18:01:08,195 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getAllClients
2023-11-22 18:01:08,199 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrasse 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), ClientDto(id=523e4567-e89b-12d3-a456-030000000005, firstName=Laura, lastName=Klein, email=vip@gmail.com, address=Goetheplatz 5, D-60311 Frankfurt am Main, Germany, phone=+49 69 8765432)],[]>
END OF REQUEST
2023-11-22 18:01:08,207 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-22 18:01:08,210 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ManagerControllerTest
2023-11-22 18:01:08,237 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagers
2023-11-22 18:01:08,237 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagers
2023-11-22 18:01:08,240 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000002, firstName=Carlos, lastName=Garcia, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000077, firstName=Anna, lastName=Lee, status=FIRED)],[]>
END OF REQUEST
2023-11-22 18:01:08,292 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-22 18:01:08,293 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-22 18:01:08,313 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=523e4567-e89b-12d3-a456-010000000018, firstName=NewFirstName, lastName=NewLastName, status=WORKING)]. Entity with ID 523e4567-e89b-12d3-a456-010000000018 is not found.
2023-11-22 18:01:08,317 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-22 18:01:08,318 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@66f25a89,[]>
END OF REQUEST
2023-11-22 18:01:08,323 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-22 18:01:08,323 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-22 18:01:08,324 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=, firstName=NewFirstName, lastName=NewLastName, status=WORKING)]. Manager creation error: ID canÂ´t be empty.
2023-11-22 18:01:08,325 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-22 18:01:08,325 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@45d683d4,[]>
END OF REQUEST
2023-11-22 18:01:08,379 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-22 18:01:08,380 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-22 18:01:08,411 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-22 18:01:08,414 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-22 18:01:08,415 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-22 18:01:08,429 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-22 18:01:08,431 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-22 18:01:08,432 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-22 18:01:08,434 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000011]. Entity Manager with id 523e4567-e89b-12d3-a456-010000000011 is not found.
2023-11-22 18:01:08,434 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-22 18:01:08,434 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@618eac09,[]>
END OF REQUEST
2023-11-22 18:01:08,457 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-22 18:01:08,458 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-22 18:01:08,459 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=John, lastName=Smith, status=WORKING)]. Manager creation error: Manager with ID 523e4567-e89b-12d3-a456-010000000001 already exists
2023-11-22 18:01:08,459 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-22 18:01:08,460 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@3bc9d4a5,[]>
END OF REQUEST
2023-11-22 18:01:08,462 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-22 18:01:08,462 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-22 18:01:08,463 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-22 18:01:08,490 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000018
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-22 18:01:08,490 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-22 18:01:08,491 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000018]. Entity Manager with id 523e4567-e89b-12d3-a456-010000000018 is not found.
2023-11-22 18:01:08,492 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000018
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-22 18:01:08,492 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@2815292a,[]>
END OF REQUEST
2023-11-22 18:01:08,494 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000018
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-22 18:01:08,494 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-22 18:01:08,496 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000018]. Entity with ID 523e4567-e89b-12d3-a456-010000000018 is not found.
2023-11-22 18:01:08,496 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000018
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-22 18:01:08,496 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@cad4543,[]>
END OF REQUEST
2023-11-22 18:01:08,520 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/get-all-by-clients-status/VIP
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagersByClientStatus
2023-11-22 18:01:08,520 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagersByClientStatus
2023-11-22 18:01:08,524 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING)],[]>
END OF REQUEST
2023-11-22 18:01:08,550 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-22 18:01:08,550 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-22 18:01:08,551 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=, firstName=John, lastName=Smith, status=WORKING)]. Manager creation error: ID canÂ´t be empty.
2023-11-22 18:01:08,552 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-22 18:01:08,552 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@67908d,[]>
END OF REQUEST
2023-11-22 18:01:08,578 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-22 18:01:08,579 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-22 18:01:08,583 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-22 18:01:08,585 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-22 18:01:08,585 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-22 18:01:08,587 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-22 18:01:08,589 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-22 18:01:08,589 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-22 18:01:08,592 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-22 18:01:08,617 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-22 18:01:08,621 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-22 18:01:08,626 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-22 18:01:08,630 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-22 18:01:08,630 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-22 18:01:08,632 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=NewFirstName, lastName=NewLastName, status=FIRED),[]>
END OF REQUEST
2023-11-22 18:01:08,641 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-22 18:01:08,644 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ProductControllerTest
2023-11-22 18:01:08,669 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/523e4567-e89b-12d3-a456-020000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getProduct
2023-11-22 18:01:08,669 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getProductById
2023-11-22 18:01:08,672 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-020000000011]. Entity Product with id 523e4567-e89b-12d3-a456-020000000011 is not found.
2023-11-22 18:01:08,672 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/523e4567-e89b-12d3-a456-020000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-22 18:01:08,672 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@329a4133,[]>
END OF REQUEST
2023-11-22 18:01:08,695 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/523e4567-e89b-12d3-a456-020000000004
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getProduct
2023-11-22 18:01:08,696 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getProductById
2023-11-22 18:01:08,698 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ProductDto(id=523e4567-e89b-12d3-a456-020000000004, name=Current account EUR, status=ACTIVE, currencyCode=EUR),[]>
END OF REQUEST
2023-11-22 18:01:08,726 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/find-all-products-where-agreement-quantity-more-than/1
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.findAllProductsWhereAgreementsQuantityMoreThan
2023-11-22 18:01:08,727 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.findAllProductsWhereAgreementsQuantityMoreThan
2023-11-22 18:01:08,758 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000004, product_name=Current account EUR, manager_name=Carlos Garcia, quantity_of_use=2)],[]>
END OF REQUEST
2023-11-22 18:01:08,796 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getAllProducts
2023-11-22 18:01:08,796 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getAllProducts
2023-11-22 18:01:08,800 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductDto(id=523e4567-e89b-12d3-a456-020000000001, name=Mortgage up to 200.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000002, name=Mortgage up to 500.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000003, name=Deposit up to 100.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000004, name=Current account EUR, status=ACTIVE, currencyCode=EUR)],[]>
END OF REQUEST
2023-11-22 18:01:08,830 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/get-products-with-quantity-of-using
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getProductsWithQuantityOfUsing
2023-11-22 18:01:08,831 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getProductsWithQuantityOfUsing
2023-11-22 18:01:08,837 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000001, product_name=Mortgage up to 200.000 EUR, manager_name=James Smith, quantity_of_use=0), ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000002, product_name=Mortgage up to 500.000 EUR, manager_name=James Smith, quantity_of_use=0), ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000003, product_name=Deposit up to 100.000 EUR, manager_name=Anna Lee, quantity_of_use=1), ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000004, product_name=Current account EUR, manager_name=Carlos Garcia, quantity_of_use=2)],[]>
END OF REQUEST
2023-11-22 18:01:08,887 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-22 18:01:09,047 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-22 18:01:09,076 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-22 18:03:23,881 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 33888 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-22 18:03:23,909 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-22 18:03:25,203 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-22 18:03:25,204 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-22 18:03:25,247 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 18:03:25,249 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 18:03:25,249 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 18:03:25,250 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 18:03:25,252 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-22 18:03:25,252 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 0 JDBC repository interfaces.
2023-11-22 18:03:25,264 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-22 18:03:25,265 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-22 18:03:25,311 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 5 JPA repository interfaces.
2023-11-22 18:03:26,357 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-22 18:03:26,475 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-22 18:03:26,478 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-22 18:03:26,752 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-22 18:03:26,931 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-22 18:03:26,956 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-22 18:03:27,526 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-22 18:03:27,529 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-22 18:03:27,976 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-22 18:03:28,934 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-22 18:03:28,937 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-22 18:03:29,911 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-22 18:03:31,784 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-22 18:03:32,271 INFO  [main] org.springframework.security.web.DefaultSecurityFilterChain : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2fca2914, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f13a21b, org.springframework.security.web.context.SecurityContextHolderFilter@1e005438, org.springframework.security.web.header.HeaderWriterFilter@27505ef5, org.springframework.security.web.authentication.logout.LogoutFilter@3cfce6be, de.telran.bankapp.security.JwtAuthorisationFilter@1503a120, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@62237fd1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13493515, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9f20d1e, org.springframework.security.web.session.SessionManagementFilter@2e98271a, org.springframework.security.web.access.ExceptionTranslationFilter@10b1d9, org.springframework.security.web.access.intercept.AuthorizationFilter@4b2faf08]
2023-11-22 18:03:33,934 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-22 18:03:34,140 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-22 18:03:34,140 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-22 18:03:34,141 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-22 18:03:34,175 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 10.883 seconds (process running for 13.489)
2023-11-22 18:03:35,341 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-22 18:03:35,342 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-22 18:03:35,354 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-22 18:03:35,459 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/delete-accounts-without-transactions-and-created-earlier-than
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-22 18:03:35,461 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-22 18:03:35,541 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-22 18:03:35,587 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-22 18:03:35,587 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-22 18:03:35,592 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00)],[]>
END OF REQUEST
2023-11-22 18:03:35,691 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAllAccounts
2023-11-22 18:03:35,692 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAllAccounts
2023-11-22 18:03:35,705 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000001, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE89 3704 0044 0532 0130 00, type=CURRENT, status=ACTIVE, balance=5247.27, currencyCode=EUR, createdAt=2023-01-20T10:35:00, updatedAt=2023-10-05T12:02:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000002, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE12 1001 1001 2620 6568 90, type=CURRENT, status=ACTIVE, balance=2503.50, currencyCode=EUR, createdAt=2023-04-17T10:35:00, updatedAt=2023-10-05T12:02:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=ACTIVE, balance=0.00, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000004, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567), name=DE33 2004 1144 0199 9999 00, type=DEPOSIT, status=ACTIVE, balance=250000.00, currencyCode=EUR, createdAt=2023-07-25T10:35:00, updatedAt=2023-08-08T14:23:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000005, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE45 7002 0270 0015 7695 53, type=CURRENT, status=ACTIVE, balance=153256.00, currencyCode=EUR, createdAt=2022-11-25T10:35:00, updatedAt=2023-03-20T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=ACTIVE, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000007, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrasse 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), name=DE16 3706 0193 6001 2345 67, type=CURRENT, status=ACTIVE, balance=5151.15, currencyCode=EUR, createdAt=2023-02-14T10:35:00, updatedAt=2023-08-08T14:23:00)],[]>
END OF REQUEST
2023-11-22 18:03:35,719 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-22 18:03:35,723 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.AgreementControllerTest
2023-11-22 18:03:35,790 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AgreementController.getAllAgreements
2023-11-22 18:03:35,790 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AgreementServiceImpl.getAllAgreements
2023-11-22 18:03:35,817 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AgreementDto(creationDate=2023-01-20T10:35:00, clientName=Lukas Muller, account=DE89 3704 0044 0532 0130 00, product=Current account EUR, amountFromAgreement=0.00, amountFromAccount=5247.27, status=ACTIVE), AgreementDto(creationDate=2023-07-25T10:35:00, clientName=Markus Schmidt, account=DE33 2004 1144 0199 9999 00, product=Deposit up to 100.000 EUR, amountFromAgreement=250000.00, amountFromAccount=250000.00, status=ACTIVE), AgreementDto(creationDate=2022-11-25T10:35:00, clientName=Lena Weber, account=DE45 7002 0270 0015 7695 53, product=Current account EUR, amountFromAgreement=153256.00, amountFromAccount=153256.00, status=ACTIVE)],[]>
END OF REQUEST
2023-11-22 18:03:35,831 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ClientControllerTest]: ClientControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-22 18:03:35,834 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ClientControllerTest
2023-11-22 18:03:35,872 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/with-balance-more-than/100000
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getClientsWithBalanceMoreThan
2023-11-22 18:03:35,872 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getClientsWithBalanceMoreThan
2023-11-22 18:03:35,881 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-22 18:03:35,918 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/clients-accounts-with-balance-more-than/100000
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getClientsAndAccountsWithBalanceMoreThan
2023-11-22 18:03:35,918 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getClientsAndAccountsWithBalanceMoreThan
2023-11-22 18:03:35,924 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientWithAccountDto(clientId=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567, accountId=523e4567-e89b-12d3-a456-040000000004, accountNumber=DE33 2004 1144 0199 9999 00, balance=250000.00), ClientWithAccountDto(clientId=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543, accountId=523e4567-e89b-12d3-a456-040000000005, accountNumber=DE45 7002 0270 0015 7695 53, balance=153256.00)],[]>
END OF REQUEST
2023-11-22 18:03:35,963 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getAllClients
2023-11-22 18:03:35,964 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getAllClients
2023-11-22 18:03:35,968 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=regular@gmail.com, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrasse 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), ClientDto(id=523e4567-e89b-12d3-a456-030000000005, firstName=Laura, lastName=Klein, email=vip@gmail.com, address=Goetheplatz 5, D-60311 Frankfurt am Main, Germany, phone=+49 69 8765432)],[]>
END OF REQUEST
2023-11-22 18:03:35,980 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-22 18:03:35,983 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ManagerControllerTest
2023-11-22 18:03:36,012 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagers
2023-11-22 18:03:36,013 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagers
2023-11-22 18:03:36,016 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000002, firstName=Carlos, lastName=Garcia, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000077, firstName=Anna, lastName=Lee, status=FIRED)],[]>
END OF REQUEST
2023-11-22 18:03:36,074 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-22 18:03:36,075 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-22 18:03:36,128 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=523e4567-e89b-12d3-a456-010000000018, firstName=NewFirstName, lastName=NewLastName, status=WORKING)]. Entity with ID 523e4567-e89b-12d3-a456-010000000018 is not found.
2023-11-22 18:03:36,130 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-22 18:03:36,131 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@79155c6d,[]>
END OF REQUEST
2023-11-22 18:03:36,137 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-22 18:03:36,137 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-22 18:03:36,138 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=, firstName=NewFirstName, lastName=NewLastName, status=WORKING)]. Manager creation error: ID canÂ´t be empty.
2023-11-22 18:03:36,138 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-22 18:03:36,138 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@5cc4d4e2,[]>
END OF REQUEST
2023-11-22 18:03:36,172 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-22 18:03:36,173 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-22 18:03:36,206 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-22 18:03:36,209 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-22 18:03:36,210 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-22 18:03:36,229 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-22 18:03:36,231 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-22 18:03:36,232 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-22 18:03:36,234 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000011]. Entity Manager with id 523e4567-e89b-12d3-a456-010000000011 is not found.
2023-11-22 18:03:36,235 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-22 18:03:36,235 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@285c997f,[]>
END OF REQUEST
2023-11-22 18:03:36,259 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-22 18:03:36,260 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-22 18:03:36,261 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=John, lastName=Smith, status=WORKING)]. Manager creation error: Manager with ID 523e4567-e89b-12d3-a456-010000000001 already exists
2023-11-22 18:03:36,262 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-22 18:03:36,262 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@65c933eb,[]>
END OF REQUEST
2023-11-22 18:03:36,264 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-22 18:03:36,264 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-22 18:03:36,265 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-22 18:03:36,297 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000018
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-22 18:03:36,297 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-22 18:03:36,299 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000018]. Entity Manager with id 523e4567-e89b-12d3-a456-010000000018 is not found.
2023-11-22 18:03:36,299 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000018
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-22 18:03:36,299 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@16a86f9a,[]>
END OF REQUEST
2023-11-22 18:03:36,301 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000018
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-22 18:03:36,301 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-22 18:03:36,302 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000018]. Entity with ID 523e4567-e89b-12d3-a456-010000000018 is not found.
2023-11-22 18:03:36,303 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000018
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-22 18:03:36,303 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@701b1a8a,[]>
END OF REQUEST
2023-11-22 18:03:36,328 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/get-all-by-clients-status/VIP
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagersByClientStatus
2023-11-22 18:03:36,328 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagersByClientStatus
2023-11-22 18:03:36,333 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING)],[]>
END OF REQUEST
2023-11-22 18:03:36,361 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-22 18:03:36,362 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-22 18:03:36,363 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=, firstName=John, lastName=Smith, status=WORKING)]. Manager creation error: ID canÂ´t be empty.
2023-11-22 18:03:36,363 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-22 18:03:36,363 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@79111b48,[]>
END OF REQUEST
2023-11-22 18:03:36,388 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-22 18:03:36,389 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-22 18:03:36,393 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-22 18:03:36,396 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-22 18:03:36,396 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-22 18:03:36,398 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-22 18:03:36,401 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-22 18:03:36,401 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-22 18:03:36,405 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-22 18:03:36,433 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-22 18:03:36,434 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-22 18:03:36,441 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-22 18:03:36,444 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-22 18:03:36,444 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-22 18:03:36,447 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=NewFirstName, lastName=NewLastName, status=FIRED),[]>
END OF REQUEST
2023-11-22 18:03:36,455 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-22 18:03:36,460 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ProductControllerTest
2023-11-22 18:03:36,487 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/523e4567-e89b-12d3-a456-020000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getProduct
2023-11-22 18:03:36,487 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getProductById
2023-11-22 18:03:36,490 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-020000000011]. Entity Product with id 523e4567-e89b-12d3-a456-020000000011 is not found.
2023-11-22 18:03:36,490 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/523e4567-e89b-12d3-a456-020000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-22 18:03:36,490 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@6e9f23f,[]>
END OF REQUEST
2023-11-22 18:03:36,510 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/523e4567-e89b-12d3-a456-020000000004
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getProduct
2023-11-22 18:03:36,510 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getProductById
2023-11-22 18:03:36,512 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ProductDto(id=523e4567-e89b-12d3-a456-020000000004, name=Current account EUR, status=ACTIVE, currencyCode=EUR),[]>
END OF REQUEST
2023-11-22 18:03:36,541 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/find-all-products-where-agreement-quantity-more-than/1
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.findAllProductsWhereAgreementsQuantityMoreThan
2023-11-22 18:03:36,541 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.findAllProductsWhereAgreementsQuantityMoreThan
2023-11-22 18:03:36,568 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000004, product_name=Current account EUR, manager_name=Carlos Garcia, quantity_of_use=2)],[]>
END OF REQUEST
2023-11-22 18:03:36,605 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getAllProducts
2023-11-22 18:03:36,606 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getAllProducts
2023-11-22 18:03:36,610 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductDto(id=523e4567-e89b-12d3-a456-020000000001, name=Mortgage up to 200.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000002, name=Mortgage up to 500.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000003, name=Deposit up to 100.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000004, name=Current account EUR, status=ACTIVE, currencyCode=EUR)],[]>
END OF REQUEST
2023-11-22 18:03:36,639 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/get-products-with-quantity-of-using
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getProductsWithQuantityOfUsing
2023-11-22 18:03:36,640 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getProductsWithQuantityOfUsing
2023-11-22 18:03:36,647 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000001, product_name=Mortgage up to 200.000 EUR, manager_name=James Smith, quantity_of_use=0), ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000002, product_name=Mortgage up to 500.000 EUR, manager_name=James Smith, quantity_of_use=0), ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000003, product_name=Deposit up to 100.000 EUR, manager_name=Anna Lee, quantity_of_use=1), ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000004, product_name=Current account EUR, manager_name=Carlos Garcia, quantity_of_use=2)],[]>
END OF REQUEST
2023-11-22 18:03:36,749 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-22 18:03:36,906 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-22 18:03:36,956 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
