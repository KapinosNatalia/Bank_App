2023-11-07 14:56:51,733 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 36900 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-07 14:56:51,743 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-07 14:56:52,898 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-07 14:56:52,900 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-07 14:56:52,932 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 14:56:52,933 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 14:56:52,935 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 14:56:52,935 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 14:56:52,936 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 14:56:52,937 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 0 JDBC repository interfaces.
2023-11-07 14:56:52,946 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-07 14:56:52,947 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-07 14:56:52,981 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 5 JPA repository interfaces.
2023-11-07 14:56:53,598 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-07 14:56:53,934 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-07 14:56:53,935 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-07 14:56:53,986 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-07 14:56:54,202 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-07 14:56:54,208 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-07 14:56:54,355 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-07 14:56:54,364 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-07 14:56:54,365 INFO  [main] liquibase.command : Command execution complete
2023-11-07 14:56:55,055 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-07 14:56:55,060 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-07 14:56:55,133 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-07 14:56:55,148 INFO  [main] liquibase.command : Using deploymentId: 9365415148
2023-11-07 14:56:55,148 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-07 14:56:55,242 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-07 14:56:55,258 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-07 14:56:55,258 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-07 14:56:55,258 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-07 14:56:55,274 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-07 14:56:55,274 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-07 14:56:55,290 INFO  [main] liquibase.changelog : Table managers created
2023-11-07 14:56:55,290 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 16ms
2023-11-07 14:56:55,306 INFO  [main] liquibase.changelog : Table products created
2023-11-07 14:56:55,306 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 16ms
2023-11-07 14:56:55,322 INFO  [main] liquibase.changelog : Table clients created
2023-11-07 14:56:55,322 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 13ms
2023-11-07 14:56:55,324 INFO  [main] liquibase.changelog : Table accounts created
2023-11-07 14:56:55,324 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 0ms
2023-11-07 14:56:55,338 INFO  [main] liquibase.changelog : Table agreements created
2023-11-07 14:56:55,338 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 14ms
2023-11-07 14:56:55,353 INFO  [main] liquibase.changelog : Table transactions created
2023-11-07 14:56:55,353 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 15ms
2023-11-07 14:56:55,353 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-07 14:56:55,353 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-07 14:56:55,353 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-07 14:56:55,353 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-07 14:56:55,353 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 0ms
2023-11-07 14:56:55,353 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-07 14:56:55,369 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-07 14:56:55,369 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-07 14:56:55,369 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-07 14:56:55,369 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 16ms
2023-11-07 14:56:55,369 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-07 14:56:55,369 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-07 14:56:55,369 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-07 14:56:55,369 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-07 14:56:55,369 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-07 14:56:55,369 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 0ms
2023-11-07 14:56:55,385 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-07 14:56:55,385 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-07 14:56:55,385 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-07 14:56:55,385 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-07 14:56:55,385 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-07 14:56:55,385 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-07 14:56:55,385 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-07 14:56:55,385 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 0ms
2023-11-07 14:56:55,385 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-07 14:56:55,385 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-07 14:56:55,385 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-07 14:56:55,385 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-insert_test_data_agreements-changelog.xml::insert test data into agreements table::n.kapinos ran successfully in 0ms
2023-11-07 14:56:55,400 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-07 14:56:55,400 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-07 14:56:55,400 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-07 14:56:55,400 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-insert_test_data_transactions-changelog.xml::insert test data into transactions table::n.kapinos ran successfully in 0ms
2023-11-07 14:56:55,405 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-07 14:56:55,405 INFO  [main] liquibase.util : Run:                         18
2023-11-07 14:56:55,405 INFO  [main] liquibase.util : Previously run:               0
2023-11-07 14:56:55,405 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-07 14:56:55,405 INFO  [main] liquibase.util : -------------------------------
2023-11-07 14:56:55,405 INFO  [main] liquibase.util : Total change sets:           18

2023-11-07 14:56:55,405 INFO  [main] liquibase.util : Update summary generated
2023-11-07 14:56:55,416 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-07 14:56:55,416 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-07 14:56:55,416 INFO  [main] liquibase.command : Command execution complete
2023-11-07 14:56:55,678 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-07 14:56:55,860 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-07 14:56:55,866 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-07 14:56:55,990 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-07 14:56:56,112 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-07 14:56:56,381 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-07 14:56:56,999 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-07 14:56:56,999 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-07 14:56:58,131 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-07 14:57:00,195 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-07 14:57:01,483 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-07 14:57:01,547 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-07 14:57:01,547 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-07 14:57:01,547 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 0 ms
2023-11-07 14:57:01,587 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Started ManagerControllerTest in 10.199 seconds (process running for 11.425)
2023-11-07 14:57:02,162 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-07 14:57:02,162 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-07 14:57:02,332 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-07 14:57:02,350 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-07 14:57:02,350 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-07 14:57:02,376 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-07 14:57:02,383 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-07 14:57:02,383 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-07 14:57:02,387 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000011]. Entity Manager with id 523e4567-e89b-12d3-a456-010000000011 is not found.
2023-11-07 14:57:02,392 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-07 14:57:02,392 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@68c615f3,[]>
END OF REQUEST
2023-11-07 14:57:02,424 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-07 14:57:02,426 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-07 14:57:02,428 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-07 20:55:32,992 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 35128 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-07 20:55:33,013 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-07 20:55:34,508 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-07 20:55:34,510 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-07 20:55:34,570 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 20:55:34,571 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 20:55:34,572 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 20:55:34,573 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 20:55:34,574 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 20:55:34,574 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 0 JDBC repository interfaces.
2023-11-07 20:55:34,601 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-07 20:55:34,604 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-07 20:55:34,677 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53 ms. Found 5 JPA repository interfaces.
2023-11-07 20:55:36,171 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-07 20:55:36,333 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-07 20:55:36,341 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-07 20:55:36,690 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-07 20:55:36,925 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-07 20:55:36,942 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-07 20:55:37,385 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-07 20:55:37,387 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-07 20:55:37,857 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-07 20:55:38,805 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-07 20:55:38,807 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-07 20:55:40,309 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-07 20:55:43,247 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-07 20:55:45,290 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-07 20:55:45,369 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-07 20:55:45,370 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-07 20:55:45,371 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-07 20:55:45,453 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Started ManagerControllerTest in 13.051 seconds (process running for 15.34)
2023-11-07 20:55:46,608 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-07 20:55:46,609 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-07 20:55:46,941 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-07 20:55:46,953 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-07 20:55:46,953 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-07 20:55:46,965 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-07 20:55:46,972 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-07 20:55:46,973 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-07 20:55:47,008 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-07 20:55:47,045 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-07 20:55:47,057 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-07 20:55:47,061 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-07 20:56:57,069 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 34544 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-07 20:56:57,088 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-07 20:56:58,450 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-07 20:56:58,451 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-07 20:56:58,495 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 20:56:58,496 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 20:56:58,497 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 20:56:58,500 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 20:56:58,505 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 20:56:58,506 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 0 JDBC repository interfaces.
2023-11-07 20:56:58,523 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-07 20:56:58,526 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-07 20:56:58,581 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 5 JPA repository interfaces.
2023-11-07 20:56:59,747 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-07 20:56:59,907 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-07 20:56:59,938 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-07 20:57:00,397 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-07 20:57:00,658 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-07 20:57:00,672 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-07 20:57:01,056 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-07 20:57:01,058 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-07 20:57:01,532 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-07 20:57:02,478 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-07 20:57:02,480 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-07 20:57:04,011 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-07 20:57:07,049 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-07 20:57:08,821 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-07 20:57:08,913 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-07 20:57:08,913 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-07 20:57:08,915 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 2 ms
2023-11-07 20:57:09,005 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Started ManagerControllerTest in 12.517 seconds (process running for 14.086)
2023-11-07 20:57:09,274 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ManagerControllerTest.shouldGetAllManagers() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ManagerControllerTest@3925aa6a]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 69 common frames omitted
2023-11-07 20:57:10,092 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-07 20:57:10,098 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-07 20:57:10,133 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-07 21:47:49,755 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 16504 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-07 21:47:49,772 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-07 21:47:52,415 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-07 21:47:52,418 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-07 21:47:52,504 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:47:52,509 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:47:52,512 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:47:52,515 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:47:52,518 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:47:52,519 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 89 ms. Found 0 JDBC repository interfaces.
2023-11-07 21:47:52,540 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-07 21:47:52,542 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-07 21:47:52,625 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 78 ms. Found 5 JPA repository interfaces.
2023-11-07 21:47:54,222 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-07 21:47:54,400 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-07 21:47:54,405 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-07 21:47:54,958 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-07 21:47:55,316 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-07 21:47:55,397 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-07 21:47:56,393 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-07 21:47:56,399 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-07 21:47:57,207 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-07 21:47:58,701 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-07 21:47:58,707 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-07 21:48:00,082 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-07 21:48:03,319 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-07 21:48:06,079 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-07 21:48:06,200 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-07 21:48:06,201 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-07 21:48:06,203 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 2 ms
2023-11-07 21:48:06,286 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 17.629 seconds (process running for 21.619)
2023-11-07 21:48:06,654 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.AccountControllerTest.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.AccountControllerTest@24f647a6]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
2023-11-07 21:48:07,922 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.AccountControllerTest.shouldGetAllAccounts() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.AccountControllerTest@34db71a9]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
2023-11-07 21:48:07,950 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-07 21:48:07,955 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.AgreementControllerTest
2023-11-07 21:48:08,001 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.AgreementControllerTest.shouldGetAllAgreements() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.AgreementControllerTest@1e23eca7]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
2023-11-07 21:48:08,024 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ClientControllerTest]: ClientControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-07 21:48:08,029 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ClientControllerTest
2023-11-07 21:48:08,067 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ClientControllerTest.shouldGetClientsWithBalanceMoreThan() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ClientControllerTest@5098b0a6]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
2023-11-07 21:48:08,092 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ClientControllerTest.shouldGetClientsAndAccountsWithBalanceMoreThan() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ClientControllerTest@1198f152]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
2023-11-07 21:48:08,123 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ClientControllerTest.shouldGetAllClients() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ClientControllerTest@1ae2a510]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
2023-11-07 21:48:08,135 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-07 21:48:08,140 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ManagerControllerTest
2023-11-07 21:48:08,162 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ManagerControllerTest.shouldGetAllManagers() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ManagerControllerTest@37d4914e]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
2023-11-07 21:48:08,198 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ManagerControllerTest.shouldReceiveExceptionUpdateManager() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ManagerControllerTest@77329ddb]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
2023-11-07 21:48:08,227 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ManagerControllerTest.shouldDeleteManagerByID() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ManagerControllerTest@1d8c0504]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
2023-11-07 21:48:08,252 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ManagerControllerTest.shouldReceiveCreationExceptionAlreadyExist() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ManagerControllerTest@18df0e93]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
2023-11-07 21:48:08,272 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ManagerControllerTest.shouldReceiveExceptionDeleteManagerByID() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ManagerControllerTest@5b3d2996]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
2023-11-07 21:48:08,292 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ManagerControllerTest.shouldGetAllManagersByClientStatus() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ManagerControllerTest@7b045db]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
2023-11-07 21:48:08,311 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ManagerControllerTest.shouldReceiveCreationExceptionIDIsEmpty() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ManagerControllerTest@6a0b8f6e]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
2023-11-07 21:48:08,338 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ManagerControllerTest.shouldCreateManager() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ManagerControllerTest@288aee32]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
2023-11-07 21:48:08,355 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ManagerControllerTest.shouldUpdateManager() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ManagerControllerTest@51a73ec8]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
2023-11-07 21:48:08,362 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-07 21:48:08,367 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ProductControllerTest
2023-11-07 21:48:08,392 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ProductControllerTest.shouldGetProductNotFoundException() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ProductControllerTest@2fcc04f4]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
2023-11-07 21:48:08,416 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ProductControllerTest.shouldGetProduct() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ProductControllerTest@1b99d625]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
2023-11-07 21:48:08,434 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ProductControllerTest.shouldFindAllProductsWhereAgreementsQuantityMoreThan() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ProductControllerTest@6245b808]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
2023-11-07 21:48:08,462 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ProductControllerTest.shouldGetAllProducts() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ProductControllerTest@1395e569]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
2023-11-07 21:48:08,495 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ProductControllerTest.shouldGetProductsWithQuantityOfUsing() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ProductControllerTest@7f410f1c]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.apache.maven.surefire.junitplatform.LazyLauncher.execute(LazyLauncher.java:50)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:184)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:148)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:122)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 70 common frames omitted
2023-11-07 21:48:08,625 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-07 21:48:08,800 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-07 21:48:08,803 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-07 21:49:26,321 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 36840 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-07 21:49:26,342 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-07 21:49:27,804 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-07 21:49:27,806 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-07 21:49:27,858 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:49:27,860 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:49:27,864 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:49:27,868 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:49:27,872 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:49:27,873 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 0 JDBC repository interfaces.
2023-11-07 21:49:27,891 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-07 21:49:27,893 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-07 21:49:27,941 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 5 JPA repository interfaces.
2023-11-07 21:49:29,156 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-07 21:49:29,289 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-07 21:49:29,307 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-07 21:49:29,648 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-07 21:49:29,965 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-07 21:49:29,985 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-07 21:49:30,470 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-07 21:49:30,473 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-07 21:49:30,917 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-07 21:49:32,027 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-07 21:49:32,031 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-07 21:49:35,450 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-07 21:49:38,827 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-07 21:49:41,135 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-07 21:49:41,250 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-07 21:49:41,250 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-07 21:49:41,252 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 2 ms
2023-11-07 21:49:41,345 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Started ManagerControllerTest in 15.597 seconds (process running for 17.261)
2023-11-07 21:49:41,613 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ManagerControllerTest.shouldGetAllManagers() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ManagerControllerTest@3b477ce8]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #4 of class path resource [db/create_scheme.sql]: CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) )
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Constraint "PRIMARY KEY | UNIQUE (ID)" not found; SQL statement:
CREATE TABLE IF NOT EXISTS accounts ( id uuid, client_id uuid, name varchar(32), type varchar(32), status varchar(32), balance numeric(15, 2), currency_code varchar(3), created_at timestamp, updated_at timestamp, FOREIGN KEY (client_id) REFERENCES clients (id) ) [90057-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:632)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:258)
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:72)
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46)
	at org.h2.command.ddl.CommandWithColumns.createConstraints(CommandWithColumns.java:83)
	at org.h2.command.ddl.CreateTable.update(CreateTable.java:134)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 69 common frames omitted
2023-11-07 21:49:42,531 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-07 21:49:42,538 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-07 21:49:42,578 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-07 21:52:32,637 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 33532 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-07 21:52:32,646 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-07 21:52:33,460 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-07 21:52:33,461 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-07 21:52:33,497 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:52:33,499 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:52:33,500 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:52:33,501 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:52:33,502 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:52:33,504 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 0 JDBC repository interfaces.
2023-11-07 21:52:33,518 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-07 21:52:33,519 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-07 21:52:33,557 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 5 JPA repository interfaces.
2023-11-07 21:52:34,201 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-07 21:52:34,254 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-07 21:52:34,256 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-07 21:52:34,448 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-07 21:52:34,577 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-07 21:52:34,590 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-07 21:52:34,895 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-07 21:52:34,896 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-07 21:52:35,166 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-07 21:52:35,744 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-07 21:52:35,746 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-07 21:52:36,736 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-07 21:52:38,574 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-07 21:52:39,633 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-07 21:52:39,688 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-07 21:52:39,689 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-07 21:52:39,690 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-07 21:52:39,735 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Started ManagerControllerTest in 7.422 seconds (process running for 8.387)
2023-11-07 21:52:39,908 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ManagerControllerTest.shouldGetAllManagers() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ManagerControllerTest@6c4d8b04]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #3 of class path resource [db/insert_test_data.sql]: INSERT INTO CLIENTS (ID, MANAGER_ID, STATUS, TAX_CODE, FIRST_NAME, LAST_NAME, EMAIL, ADDRESS, PHONE, CREATED_AT, UPDATED_AT) VALUES ('523e4567-e89b-12d3-a456-030000000001', '523e4567-e89b-12d3-a456-010000000001', 'REGULAR', '133/8150/8159', 'Lukas', 'Muller', 'lukas.muller@web.de', 'Lansstrasse 81, D-11179 Berlin, Germany', '+49 30 5684962', '2023-01-20 10:35', '2023-01-20 10:35'), ('523e4567-e89b-12d3-a456-030000000002', '523e4567-e89b-12d3-a456-010000000002', 'REGULAR', '513/3081/5081', 'Markus', 'Schmidt', 'markus.schmidt@gmx.de', 'Musterstrasse 17, D-80331 Munchen, Germany', '+49 89 1234567', '2023-02-15 10:48', '2023-04-05 17:23'), ('523e4567-e89b-12d3-a456-030000000003', '523e4567-e89b-12d3-a456-010000000001', 'REGULAR', '241/5678/9012', 'Lena', 'Weber', 'lena.weber@yahoo.de', 'Hauptstrasse 25, D-50667 Koln, Germany', '+49 221 9876543', '2023-03-02 14:05', '2023-03-02 14:05'), ('523e4567-e89b-12d3-a456-030000000004', '523e4567-e89b-12d3-a456-010000000003', 'VIP', '312/4927/3045', 'Sara', 'Fischer', 'sara.fischer@outlook.de', 'Schillerstrasse 12, D-70173 Stuttgart, Germany', '+49 711 4567890', '2023-04-01 12:33', '2023-04-24 16:07'), ('523e4567-e89b-12d3-a456-030000000005', '523e4567-e89b-12d3-a456-010000000001', 'VIP', '152/8436/7190', 'Laura', 'Klein', 'laura.klein@gmail.com', 'Goetheplatz 5, D-60311 Frankfurt am Main, Germany', '+49 69 8765432', '2023-04-04 15:23', '2023-04-04 15:23')
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:314)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.h2.jdbc.JdbcSQLDataException: Value too long for column "ADDRESS CHARACTER VARYING(32)": "'Lansstrasse 81, D-11179 Berlin, Germany' (39)"; SQL statement:
INSERT INTO CLIENTS (ID, MANAGER_ID, STATUS, TAX_CODE, FIRST_NAME, LAST_NAME, EMAIL, ADDRESS, PHONE, CREATED_AT, UPDATED_AT) VALUES ('523e4567-e89b-12d3-a456-030000000001', '523e4567-e89b-12d3-a456-010000000001', 'REGULAR', '133/8150/8159', 'Lukas', 'Muller', 'lukas.muller@web.de', 'Lansstrasse 81, D-11179 Berlin, Germany', '+49 30 5684962', '2023-01-20 10:35', '2023-01-20 10:35'), ('523e4567-e89b-12d3-a456-030000000002', '523e4567-e89b-12d3-a456-010000000002', 'REGULAR', '513/3081/5081', 'Markus', 'Schmidt', 'markus.schmidt@gmx.de', 'Musterstrasse 17, D-80331 Munchen, Germany', '+49 89 1234567', '2023-02-15 10:48', '2023-04-05 17:23'), ('523e4567-e89b-12d3-a456-030000000003', '523e4567-e89b-12d3-a456-010000000001', 'REGULAR', '241/5678/9012', 'Lena', 'Weber', 'lena.weber@yahoo.de', 'Hauptstrasse 25, D-50667 Koln, Germany', '+49 221 9876543', '2023-03-02 14:05', '2023-03-02 14:05'), ('523e4567-e89b-12d3-a456-030000000004', '523e4567-e89b-12d3-a456-010000000003', 'VIP', '312/4927/3045', 'Sara', 'Fischer', 'sara.fischer@outlook.de', 'Schillerstrasse 12, D-70173 Stuttgart, Germany', '+49 711 4567890', '2023-04-01 12:33', '2023-04-24 16:07'), ('523e4567-e89b-12d3-a456-030000000005', '523e4567-e89b-12d3-a456-010000000001', 'VIP', '152/8436/7190', 'Laura', 'Klein', 'laura.klein@gmail.com', 'Goetheplatz 5, D-60311 Frankfurt am Main, Germany', '+49 69 8765432', '2023-04-04 15:23', '2023-04-04 15:23') [22001-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:506)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.getValueTooLongException(DbException.java:322)
	at org.h2.value.Value.getValueTooLongException(Value.java:2573)
	at org.h2.value.Value.convertToVarchar(Value.java:1261)
	at org.h2.value.Value.convertTo(Value.java:1117)
	at org.h2.value.Value.convertForAssignTo(Value.java:1092)
	at org.h2.table.Column.validateConvertUpdateSequence(Column.java:369)
	at org.h2.table.Table.convertInsertRow(Table.java:926)
	at org.h2.command.dml.Insert.insertRows(Insert.java:167)
	at org.h2.command.dml.Insert.update(Insert.java:135)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 69 common frames omitted
2023-11-07 21:52:40,395 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-07 21:52:40,402 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-07 21:52:40,429 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-07 21:55:40,763 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 33700 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-07 21:55:40,772 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-07 21:55:41,869 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-07 21:55:41,870 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-07 21:55:41,903 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:55:41,905 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:55:41,906 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:55:41,907 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:55:41,909 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:55:41,910 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 0 JDBC repository interfaces.
2023-11-07 21:55:41,920 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-07 21:55:41,922 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-07 21:55:41,957 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 5 JPA repository interfaces.
2023-11-07 21:55:42,674 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-07 21:55:42,740 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-07 21:55:42,743 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-07 21:55:42,924 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-07 21:55:43,031 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-07 21:55:43,040 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-07 21:55:43,292 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-07 21:55:43,294 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-07 21:55:43,550 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-07 21:55:44,112 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-07 21:55:44,115 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-07 21:55:45,104 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-07 21:55:46,782 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-07 21:55:47,938 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-07 21:55:47,995 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-07 21:55:47,996 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-07 21:55:47,998 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-07 21:55:48,047 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Started ManagerControllerTest in 7.645 seconds (process running for 13.069)
2023-11-07 21:55:48,724 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagers
2023-11-07 21:55:48,725 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagers
2023-11-07 21:55:48,827 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000002, firstName=Carlos, lastName=Garcia, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000077, firstName=Anna, lastName=Lee, status=FIRED)],[]>
END OF REQUEST
2023-11-07 21:55:48,891 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-07 21:55:48,895 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-07 21:55:48,926 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-07 21:56:23,679 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 37700 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-07 21:56:23,698 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-07 21:56:25,029 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-07 21:56:25,032 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-07 21:56:25,071 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:56:25,073 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:56:25,075 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:56:25,076 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:56:25,078 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:56:25,078 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 0 JDBC repository interfaces.
2023-11-07 21:56:25,090 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-07 21:56:25,092 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-07 21:56:25,143 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 5 JPA repository interfaces.
2023-11-07 21:56:26,072 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-07 21:56:26,193 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-07 21:56:26,198 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-07 21:56:26,553 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-07 21:56:26,760 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-07 21:56:26,787 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-07 21:56:27,310 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-07 21:56:27,312 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-07 21:56:27,755 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-07 21:56:28,584 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-07 21:56:28,586 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-07 21:56:29,512 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-07 21:56:31,383 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-07 21:56:32,722 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-07 21:56:32,801 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-07 21:56:32,801 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-07 21:56:32,802 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-07 21:56:32,830 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 9.693 seconds (process running for 11.66)
2023-11-07 21:56:33,533 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-07 21:56:33,533 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-07 21:56:33,700 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-07 21:56:33,789 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/delete-accounts-without-transactions-and-created-earlier-than
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-07 21:56:33,789 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-07 21:56:33,918 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=lukas.muller@web.de, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-07 21:56:33,962 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-07 21:56:33,963 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-07 21:56:33,968 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=lukas.muller@web.de, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00)],[]>
END OF REQUEST
2023-11-07 21:56:34,052 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAllAccounts
2023-11-07 21:56:34,052 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAllAccounts
2023-11-07 21:56:34,066 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000001, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=lukas.muller@web.de, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE89 3704 0044 0532 0130 00, type=CURRENT, status=ACTIVE, balance=5247.27, currencyCode=EUR, createdAt=2023-01-20T10:35:00, updatedAt=2023-10-05T12:02:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000002, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=lukas.muller@web.de, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE12 1001 1001 2620 6568 90, type=CURRENT, status=ACTIVE, balance=2503.50, currencyCode=EUR, createdAt=2023-04-17T10:35:00, updatedAt=2023-10-05T12:02:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=lukas.muller@web.de, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=ACTIVE, balance=0.00, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000004, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567), name=DE33 2004 1144 0199 9999 00, type=DEPOSIT, status=ACTIVE, balance=250000.00, currencyCode=EUR, createdAt=2023-07-25T10:35:00, updatedAt=2023-08-08T14:23:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000005, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE45 7002 0270 0015 7695 53, type=CURRENT, status=ACTIVE, balance=153256.00, currencyCode=EUR, createdAt=2022-11-25T10:35:00, updatedAt=2023-03-20T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=ACTIVE, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000007, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrasse 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), name=DE16 3706 0193 6001 2345 67, type=CURRENT, status=ACTIVE, balance=5151.15, currencyCode=EUR, createdAt=2023-02-14T10:35:00, updatedAt=2023-08-08T14:23:00)],[]>
END OF REQUEST
2023-11-07 21:56:34,081 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-07 21:56:34,086 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.AgreementControllerTest
2023-11-07 21:56:34,160 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AgreementController.getAllAgreements
2023-11-07 21:56:34,161 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AgreementServiceImpl.getAllAgreements
2023-11-07 21:56:34,182 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AgreementDto(creationDate=2023-01-20T10:35:00, clientName=Lukas Muller, account=DE89 3704 0044 0532 0130 00, product=Current account EUR, amountFromAgreement=0.00, amountFromAccount=5247.27, status=ACTIVE), AgreementDto(creationDate=2023-07-25T10:35:00, clientName=Markus Schmidt, account=DE33 2004 1144 0199 9999 00, product=Deposit up to 100.000 EUR, amountFromAgreement=250000.00, amountFromAccount=250000.00, status=ACTIVE), AgreementDto(creationDate=2022-11-25T10:35:00, clientName=Lena Weber, account=DE45 7002 0270 0015 7695 53, product=Current account EUR, amountFromAgreement=153256.00, amountFromAccount=153256.00, status=ACTIVE)],[]>
END OF REQUEST
2023-11-07 21:56:34,198 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ClientControllerTest]: ClientControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-07 21:56:34,201 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ClientControllerTest
2023-11-07 21:56:34,233 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/with-balance-more-than/100000
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getClientsWithBalanceMoreThan
2023-11-07 21:56:34,233 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getClientsWithBalanceMoreThan
2023-11-07 21:56:34,242 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-07 21:56:34,268 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/clients-accounts-with-balance-more-than/100000
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getClientsAndAccountsWithBalanceMoreThan
2023-11-07 21:56:34,268 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getClientsAndAccountsWithBalanceMoreThan
2023-11-07 21:56:34,276 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientWithAccountDto(clientId=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567, accountId=523e4567-e89b-12d3-a456-040000000004, accountNumber=DE33 2004 1144 0199 9999 00, balance=250000.00), ClientWithAccountDto(clientId=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543, accountId=523e4567-e89b-12d3-a456-040000000005, accountNumber=DE45 7002 0270 0015 7695 53, balance=153256.00)],[]>
END OF REQUEST
2023-11-07 21:56:34,316 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getAllClients
2023-11-07 21:56:34,316 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getAllClients
2023-11-07 21:56:34,323 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=lukas.muller@web.de, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrasse 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), ClientDto(id=523e4567-e89b-12d3-a456-030000000005, firstName=Laura, lastName=Klein, email=laura.klein@gmail.com, address=Goetheplatz 5, D-60311 Frankfurt am Main, Germany, phone=+49 69 8765432)],[]>
END OF REQUEST
2023-11-07 21:56:34,333 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-07 21:56:34,336 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ManagerControllerTest
2023-11-07 21:56:34,366 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagers
2023-11-07 21:56:34,366 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagers
2023-11-07 21:56:34,370 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000002, firstName=Carlos, lastName=Garcia, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000077, firstName=Anna, lastName=Lee, status=FIRED)],[]>
END OF REQUEST
2023-11-07 21:56:34,409 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-07 21:56:34,410 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-07 21:56:34,433 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=523e4567-e89b-12d3-a456-010000000018, firstName=NewFirstName, lastName=NewLastName, status=WORKING)]. Entity with ID 523e4567-e89b-12d3-a456-010000000018 is not found.
2023-11-07 21:56:34,436 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-07 21:56:34,437 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@3468eba8,[]>
END OF REQUEST
2023-11-07 21:56:34,443 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-07 21:56:34,443 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-07 21:56:34,451 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=, firstName=NewFirstName, lastName=NewLastName, status=WORKING)]. Manager creation error: ID cant be empty.
2023-11-07 21:56:34,451 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-07 21:56:34,452 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@43428fbb,[]>
END OF REQUEST
2023-11-07 21:56:34,474 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-07 21:56:34,474 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-07 21:56:34,502 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-07 21:56:34,506 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-07 21:56:34,507 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-07 21:56:34,525 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-07 21:56:34,528 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-07 21:56:34,528 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-07 21:56:34,531 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000011]. Entity Manager with id 523e4567-e89b-12d3-a456-010000000011 is not found.
2023-11-07 21:56:34,531 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-07 21:56:34,531 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@6bc5a002,[]>
END OF REQUEST
2023-11-07 21:56:34,560 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-07 21:56:34,561 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-07 21:56:34,563 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=John, lastName=Smith, status=WORKING)]. Manager creation error: Manager with ID 523e4567-e89b-12d3-a456-010000000001 already exists
2023-11-07 21:56:34,563 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-07 21:56:34,564 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@3578546a,[]>
END OF REQUEST
2023-11-07 21:56:34,566 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-07 21:56:34,566 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-07 21:56:34,567 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-07 21:56:34,592 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000018
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-07 21:56:34,593 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-07 21:56:34,594 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000018]. Entity Manager with id 523e4567-e89b-12d3-a456-010000000018 is not found.
2023-11-07 21:56:34,595 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000018
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-07 21:56:34,595 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@72c6c82a,[]>
END OF REQUEST
2023-11-07 21:56:34,596 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000018
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-07 21:56:34,597 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-07 21:56:34,598 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000018]. Entity with ID 523e4567-e89b-12d3-a456-010000000018 is not found.
2023-11-07 21:56:34,598 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000018
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-07 21:56:34,598 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@3b17f123,[]>
END OF REQUEST
2023-11-07 21:56:34,618 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/get-all-by-clients-status/VIP
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagersByClientStatus
2023-11-07 21:56:34,618 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagersByClientStatus
2023-11-07 21:56:34,622 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING)],[]>
END OF REQUEST
2023-11-07 21:56:34,642 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-07 21:56:34,642 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-07 21:56:34,642 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=, firstName=John, lastName=Smith, status=WORKING)]. Manager creation error: ID cant be empty.
2023-11-07 21:56:34,642 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-07 21:56:34,642 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@16537bc6,[]>
END OF REQUEST
2023-11-07 21:56:34,659 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-07 21:56:34,660 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-07 21:56:34,662 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-07 21:56:34,664 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-07 21:56:34,664 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-07 21:56:34,665 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-07 21:56:34,666 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-07 21:56:34,667 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-07 21:56:34,670 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-07 21:56:34,687 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-07 21:56:34,688 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-07 21:56:34,693 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-07 21:56:34,694 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-07 21:56:34,694 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-07 21:56:34,696 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=NewFirstName, lastName=NewLastName, status=FIRED),[]>
END OF REQUEST
2023-11-07 21:56:34,703 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-07 21:56:34,707 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ProductControllerTest
2023-11-07 21:56:34,727 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/523e4567-e89b-12d3-a456-020000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getProduct
2023-11-07 21:56:34,727 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getProductById
2023-11-07 21:56:34,730 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-020000000011]. Entity Product with id 523e4567-e89b-12d3-a456-020000000011 is not found.
2023-11-07 21:56:34,731 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/523e4567-e89b-12d3-a456-020000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-07 21:56:34,731 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@4d1281d6,[]>
END OF REQUEST
2023-11-07 21:56:34,751 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/523e4567-e89b-12d3-a456-020000000004
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getProduct
2023-11-07 21:56:34,751 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getProductById
2023-11-07 21:56:34,753 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ProductDto(id=523e4567-e89b-12d3-a456-020000000004, name=Current account EUR, status=ACTIVE, currencyCode=EUR),[]>
END OF REQUEST
2023-11-07 21:56:34,785 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/find-all-products-where-agreement-quantity-more-than/1
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.findAllProductsWhereAgreementsQuantityMoreThan
2023-11-07 21:56:34,786 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.findAllProductsWhereAgreementsQuantityMoreThan
2023-11-07 21:56:34,839 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000004, product_name=Current account EUR, manager_name=Carlos Garcia, quantity_of_use=2)],[]>
END OF REQUEST
2023-11-07 21:56:34,875 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getAllProducts
2023-11-07 21:56:34,875 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getAllProducts
2023-11-07 21:56:34,878 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductDto(id=523e4567-e89b-12d3-a456-020000000001, name=Mortgage up to 200.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000002, name=Mortgage up to 500.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000003, name=Deposit up to 100.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000004, name=Current account EUR, status=ACTIVE, currencyCode=EUR)],[]>
END OF REQUEST
2023-11-07 21:56:34,895 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/get-products-with-quantity-of-using
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getProductsWithQuantityOfUsing
2023-11-07 21:56:34,896 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getProductsWithQuantityOfUsing
2023-11-07 21:56:34,902 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000001, product_name=Mortgage up to 200.000 EUR, manager_name=James Smith, quantity_of_use=0), ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000002, product_name=Mortgage up to 500.000 EUR, manager_name=James Smith, quantity_of_use=0), ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000003, product_name=Deposit up to 100.000 EUR, manager_name=Anna Lee, quantity_of_use=1), ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000004, product_name=Current account EUR, manager_name=Carlos Garcia, quantity_of_use=2)],[]>
END OF REQUEST
2023-11-07 21:56:34,937 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-07 21:56:35,071 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-07 21:56:35,104 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-07 21:59:52,391 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 31944 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-07 21:59:52,406 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-07 21:59:53,636 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-07 21:59:53,638 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-07 21:59:53,680 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:59:53,683 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:59:53,685 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:59:53,686 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:59:53,688 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-07 21:59:53,688 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 0 JDBC repository interfaces.
2023-11-07 21:59:53,699 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-07 21:59:53,700 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-07 21:59:53,752 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 5 JPA repository interfaces.
2023-11-07 21:59:54,675 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-07 21:59:54,791 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-07 21:59:54,795 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-07 21:59:55,087 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-07 21:59:55,278 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-07 21:59:55,319 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-07 21:59:55,876 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-07 21:59:55,879 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-07 21:59:56,271 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-07 21:59:57,111 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-07 21:59:57,114 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-07 21:59:58,024 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-07 21:59:59,893 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-07 22:00:01,339 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-07 22:00:01,398 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-07 22:00:01,399 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-07 22:00:01,400 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 0 ms
2023-11-07 22:00:01,424 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 9.631 seconds (process running for 11.556)
2023-11-07 22:00:02,144 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-07 22:00:02,145 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-07 22:00:02,312 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-07 22:00:02,380 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/delete-accounts-without-transactions-and-created-earlier-than
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-07 22:00:02,380 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-07 22:00:02,514 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=lukas.muller@web.de, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-07 22:00:02,561 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-07 22:00:02,561 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-07 22:00:02,567 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=lukas.muller@web.de, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00)],[]>
END OF REQUEST
2023-11-07 22:00:02,641 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAllAccounts
2023-11-07 22:00:02,642 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAllAccounts
2023-11-07 22:00:02,660 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000001, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=lukas.muller@web.de, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE89 3704 0044 0532 0130 00, type=CURRENT, status=ACTIVE, balance=5247.27, currencyCode=EUR, createdAt=2023-01-20T10:35:00, updatedAt=2023-10-05T12:02:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000002, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=lukas.muller@web.de, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE12 1001 1001 2620 6568 90, type=CURRENT, status=ACTIVE, balance=2503.50, currencyCode=EUR, createdAt=2023-04-17T10:35:00, updatedAt=2023-10-05T12:02:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=lukas.muller@web.de, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=ACTIVE, balance=0.00, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000004, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567), name=DE33 2004 1144 0199 9999 00, type=DEPOSIT, status=ACTIVE, balance=250000.00, currencyCode=EUR, createdAt=2023-07-25T10:35:00, updatedAt=2023-08-08T14:23:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000005, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE45 7002 0270 0015 7695 53, type=CURRENT, status=ACTIVE, balance=153256.00, currencyCode=EUR, createdAt=2022-11-25T10:35:00, updatedAt=2023-03-20T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=ACTIVE, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000007, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrasse 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), name=DE16 3706 0193 6001 2345 67, type=CURRENT, status=ACTIVE, balance=5151.15, currencyCode=EUR, createdAt=2023-02-14T10:35:00, updatedAt=2023-08-08T14:23:00)],[]>
END OF REQUEST
2023-11-07 22:00:02,675 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-07 22:00:02,679 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.AgreementControllerTest
2023-11-07 22:00:02,745 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AgreementController.getAllAgreements
2023-11-07 22:00:02,745 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AgreementServiceImpl.getAllAgreements
2023-11-07 22:00:02,766 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AgreementDto(creationDate=2023-01-20T10:35:00, clientName=Lukas Muller, account=DE89 3704 0044 0532 0130 00, product=Current account EUR, amountFromAgreement=0.00, amountFromAccount=5247.27, status=ACTIVE), AgreementDto(creationDate=2023-07-25T10:35:00, clientName=Markus Schmidt, account=DE33 2004 1144 0199 9999 00, product=Deposit up to 100.000 EUR, amountFromAgreement=250000.00, amountFromAccount=250000.00, status=ACTIVE), AgreementDto(creationDate=2022-11-25T10:35:00, clientName=Lena Weber, account=DE45 7002 0270 0015 7695 53, product=Current account EUR, amountFromAgreement=153256.00, amountFromAccount=153256.00, status=ACTIVE)],[]>
END OF REQUEST
2023-11-07 22:00:02,779 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ClientControllerTest]: ClientControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-07 22:00:02,782 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ClientControllerTest
2023-11-07 22:00:02,813 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/with-balance-more-than/100000
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getClientsWithBalanceMoreThan
2023-11-07 22:00:02,813 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getClientsWithBalanceMoreThan
2023-11-07 22:00:02,821 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-07 22:00:02,851 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients/clients-accounts-with-balance-more-than/100000
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getClientsAndAccountsWithBalanceMoreThan
2023-11-07 22:00:02,851 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getClientsAndAccountsWithBalanceMoreThan
2023-11-07 22:00:02,858 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientWithAccountDto(clientId=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567, accountId=523e4567-e89b-12d3-a456-040000000004, accountNumber=DE33 2004 1144 0199 9999 00, balance=250000.00), ClientWithAccountDto(clientId=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543, accountId=523e4567-e89b-12d3-a456-040000000005, accountNumber=DE45 7002 0270 0015 7695 53, balance=153256.00)],[]>
END OF REQUEST
2023-11-07 22:00:02,893 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getAllClients
2023-11-07 22:00:02,893 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getAllClients
2023-11-07 22:00:02,899 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=lukas.muller@web.de, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrasse 17, D-80331 Munchen, Germany, phone=+49 89 1234567), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrasse 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), ClientDto(id=523e4567-e89b-12d3-a456-030000000005, firstName=Laura, lastName=Klein, email=laura.klein@gmail.com, address=Goetheplatz 5, D-60311 Frankfurt am Main, Germany, phone=+49 69 8765432)],[]>
END OF REQUEST
2023-11-07 22:00:02,909 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-07 22:00:02,912 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ManagerControllerTest
2023-11-07 22:00:02,942 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagers
2023-11-07 22:00:02,942 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagers
2023-11-07 22:00:02,946 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000002, firstName=Carlos, lastName=Garcia, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000077, firstName=Anna, lastName=Lee, status=FIRED)],[]>
END OF REQUEST
2023-11-07 22:00:02,991 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-07 22:00:02,991 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-07 22:00:03,014 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=523e4567-e89b-12d3-a456-010000000018, firstName=NewFirstName, lastName=NewLastName, status=WORKING)]. Entity with ID 523e4567-e89b-12d3-a456-010000000018 is not found.
2023-11-07 22:00:03,017 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-07 22:00:03,019 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@ad0e714,[]>
END OF REQUEST
2023-11-07 22:00:03,025 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-07 22:00:03,025 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-07 22:00:03,026 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=, firstName=NewFirstName, lastName=NewLastName, status=WORKING)]. Manager creation error: ID cant be empty.
2023-11-07 22:00:03,026 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-07 22:00:03,026 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@4b66de8d,[]>
END OF REQUEST
2023-11-07 22:00:03,064 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-07 22:00:03,064 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-07 22:00:03,090 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-07 22:00:03,094 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-07 22:00:03,095 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-07 22:00:03,116 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-07 22:00:03,118 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-07 22:00:03,119 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-07 22:00:03,122 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000011]. Entity Manager with id 523e4567-e89b-12d3-a456-010000000011 is not found.
2023-11-07 22:00:03,122 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-07 22:00:03,123 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@31945d63,[]>
END OF REQUEST
2023-11-07 22:00:03,151 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-07 22:00:03,152 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-07 22:00:03,154 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=John, lastName=Smith, status=WORKING)]. Manager creation error: Manager with ID 523e4567-e89b-12d3-a456-010000000001 already exists
2023-11-07 22:00:03,155 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-07 22:00:03,155 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@4c0c90b,[]>
END OF REQUEST
2023-11-07 22:00:03,158 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-07 22:00:03,158 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-07 22:00:03,161 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-07 22:00:03,188 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000018
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-07 22:00:03,188 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-07 22:00:03,190 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000018]. Entity Manager with id 523e4567-e89b-12d3-a456-010000000018 is not found.
2023-11-07 22:00:03,190 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000018
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-07 22:00:03,190 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@46d9cb65,[]>
END OF REQUEST
2023-11-07 22:00:03,192 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000018
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-07 22:00:03,192 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-07 22:00:03,193 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000018]. Entity with ID 523e4567-e89b-12d3-a456-010000000018 is not found.
2023-11-07 22:00:03,194 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000018
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-07 22:00:03,194 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@1ee9337b,[]>
END OF REQUEST
2023-11-07 22:00:03,213 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/get-all-by-clients-status/VIP
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagersByClientStatus
2023-11-07 22:00:03,213 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagersByClientStatus
2023-11-07 22:00:03,217 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING)],[]>
END OF REQUEST
2023-11-07 22:00:03,236 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-07 22:00:03,236 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-07 22:00:03,236 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=, firstName=John, lastName=Smith, status=WORKING)]. Manager creation error: ID cant be empty.
2023-11-07 22:00:03,236 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-07 22:00:03,237 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@1873e5f9,[]>
END OF REQUEST
2023-11-07 22:00:03,253 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-07 22:00:03,253 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-07 22:00:03,257 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-07 22:00:03,258 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-07 22:00:03,258 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-07 22:00:03,259 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-07 22:00:03,261 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-07 22:00:03,261 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-07 22:00:03,264 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-07 22:00:03,281 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-07 22:00:03,281 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-07 22:00:03,286 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-07 22:00:03,288 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-07 22:00:03,288 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-07 22:00:03,289 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=NewFirstName, lastName=NewLastName, status=FIRED),[]>
END OF REQUEST
2023-11-07 22:00:03,299 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-07 22:00:03,303 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ProductControllerTest
2023-11-07 22:00:03,334 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/523e4567-e89b-12d3-a456-020000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getProduct
2023-11-07 22:00:03,334 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getProductById
2023-11-07 22:00:03,337 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-020000000011]. Entity Product with id 523e4567-e89b-12d3-a456-020000000011 is not found.
2023-11-07 22:00:03,338 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/523e4567-e89b-12d3-a456-020000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-07 22:00:03,338 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@7ec13e19,[]>
END OF REQUEST
2023-11-07 22:00:03,366 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/523e4567-e89b-12d3-a456-020000000004
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getProduct
2023-11-07 22:00:03,366 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getProductById
2023-11-07 22:00:03,371 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ProductDto(id=523e4567-e89b-12d3-a456-020000000004, name=Current account EUR, status=ACTIVE, currencyCode=EUR),[]>
END OF REQUEST
2023-11-07 22:00:03,406 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/find-all-products-where-agreement-quantity-more-than/1
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.findAllProductsWhereAgreementsQuantityMoreThan
2023-11-07 22:00:03,407 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.findAllProductsWhereAgreementsQuantityMoreThan
2023-11-07 22:00:03,440 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000004, product_name=Current account EUR, manager_name=Carlos Garcia, quantity_of_use=2)],[]>
END OF REQUEST
2023-11-07 22:00:03,478 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getAllProducts
2023-11-07 22:00:03,478 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getAllProducts
2023-11-07 22:00:03,481 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductDto(id=523e4567-e89b-12d3-a456-020000000001, name=Mortgage up to 200.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000002, name=Mortgage up to 500.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000003, name=Deposit up to 100.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000004, name=Current account EUR, status=ACTIVE, currencyCode=EUR)],[]>
END OF REQUEST
2023-11-07 22:00:03,499 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products/get-products-with-quantity-of-using
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getProductsWithQuantityOfUsing
2023-11-07 22:00:03,500 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getProductsWithQuantityOfUsing
2023-11-07 22:00:03,508 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000001, product_name=Mortgage up to 200.000 EUR, manager_name=James Smith, quantity_of_use=0), ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000002, product_name=Mortgage up to 500.000 EUR, manager_name=James Smith, quantity_of_use=0), ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000003, product_name=Deposit up to 100.000 EUR, manager_name=Anna Lee, quantity_of_use=1), ProductWithManagerAndQuantityDto(product_id=523e4567-e89b-12d3-a456-020000000004, product_name=Current account EUR, manager_name=Carlos Garcia, quantity_of_use=2)],[]>
END OF REQUEST
2023-11-07 22:00:03,583 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-07 22:00:03,718 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-07 22:00:03,751 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
