2023-11-05 12:01:57,162 INFO  [main] de.telran.bankapp.controller.ProductControllerTest : Starting ProductControllerTest using Java 19.0.2 with PID 26140 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 12:01:57,171 INFO  [main] de.telran.bankapp.controller.ProductControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 12:01:58,112 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:01:58,113 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 12:01:58,143 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:01:58,143 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:01:58,144 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:01:58,145 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:01:58,146 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:01:58,146 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-11-05 12:01:58,155 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:01:58,156 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 12:01:58,190 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 5 JPA repository interfaces.
2023-11-05 12:01:58,787 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 12:01:59,105 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 12:01:59,106 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 12:01:59,155 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 12:01:59,373 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:01:59,379 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 12:01:59,508 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 12:01:59,516 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 12:01:59,517 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:02:00,162 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 12:02:00,172 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:02:00,247 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:02:00,251 INFO  [main] liquibase.command : Using deploymentId: 9182120251
2023-11-05 12:02:00,254 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:02:00,356 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 12:02:00,365 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 12:02:00,368 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 12:02:00,370 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 12:02:00,374 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 12:02:00,377 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 12:02:00,387 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 12:02:00,389 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 9ms
2023-11-05 12:02:00,405 INFO  [main] liquibase.changelog : Table products created
2023-11-05 12:02:00,405 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 12ms
2023-11-05 12:02:00,416 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 12:02:00,417 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 8ms
2023-11-05 12:02:00,425 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 12:02:00,425 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 5ms
2023-11-05 12:02:00,435 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 12:02:00,435 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 7ms
2023-11-05 12:02:00,444 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 12:02:00,445 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 6ms
2023-11-05 12:02:00,454 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:02:00,455 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:02:00,457 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:02:00,457 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:02:00,458 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 7ms
2023-11-05 12:02:00,463 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:02:00,465 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:02:00,465 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:02:00,467 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:02:00,467 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 5ms
2023-11-05 12:02:00,473 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:02:00,474 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:02:00,475 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:02:00,476 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:02:00,476 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:02:00,477 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 5ms
2023-11-05 12:02:00,483 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:02:00,484 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:02:00,485 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:02:00,486 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:02:00,487 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:02:00,487 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:02:00,488 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:02:00,489 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 7ms
2023-11-05 12:02:00,505 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 12:02:00,505 INFO  [main] liquibase.util : Run:                         16
2023-11-05 12:02:00,505 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 12:02:00,505 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 12:02:00,505 INFO  [main] liquibase.util : -------------------------------
2023-11-05 12:02:00,506 INFO  [main] liquibase.util : Total change sets:           16

2023-11-05 12:02:00,507 INFO  [main] liquibase.util : Update summary generated
2023-11-05 12:02:00,510 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 12:02:00,512 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 12:02:00,512 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:02:00,782 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 12:02:00,967 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 12:02:00,970 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 12:02:01,110 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:02:01,221 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 12:02:01,470 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:02:02,009 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 12:02:02,010 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:02:03,060 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 12:02:04,702 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 12:02:05,728 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 12:02:05,784 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 12:02:05,785 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 12:02:05,786 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-05 12:02:05,838 INFO  [main] de.telran.bankapp.controller.ProductControllerTest : Started ProductControllerTest in 9.003 seconds (process running for 10.033)
2023-11-05 12:02:06,318 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getAllProducts
2023-11-05 12:02:06,318 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getAllProducts
2023-11-05 12:02:06,388 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductDto(id=523e4567-e89b-12d3-a456-020000000001, name=Mortgage up to 200.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000002, name=Mortgage up to 500.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000003, name=Deposit up to 100.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000004, name=Current account EUR, status=ACTIVE, currencyCode=EUR)],[]>
END OF REQUEST
2023-11-05 12:02:06,451 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:02:06,453 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 12:02:06,474 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 12:03:40,639 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 35828 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 12:03:40,651 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 12:03:41,961 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:03:41,962 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 12:03:42,001 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:03:42,002 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:03:42,003 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:03:42,004 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:03:42,006 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:03:42,008 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 0 JDBC repository interfaces.
2023-11-05 12:03:42,022 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:03:42,023 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 12:03:42,066 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 5 JPA repository interfaces.
2023-11-05 12:03:42,779 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 12:03:43,415 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 12:03:43,418 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 12:03:43,504 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 12:03:43,767 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:03:43,778 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 12:03:43,981 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 12:03:43,988 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 12:03:43,989 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:03:44,617 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 12:03:44,624 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:03:44,693 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:03:44,698 INFO  [main] liquibase.command : Using deploymentId: 9182224697
2023-11-05 12:03:44,700 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:03:44,804 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 12:03:44,816 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 12:03:44,820 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 12:03:44,824 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 12:03:44,829 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 12:03:44,833 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 12:03:44,844 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 12:03:44,846 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 9ms
2023-11-05 12:03:44,859 INFO  [main] liquibase.changelog : Table products created
2023-11-05 12:03:44,860 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 12ms
2023-11-05 12:03:44,869 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 12:03:44,870 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 7ms
2023-11-05 12:03:44,880 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 12:03:44,880 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 7ms
2023-11-05 12:03:44,891 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 12:03:44,891 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 6ms
2023-11-05 12:03:44,899 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 12:03:44,900 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 6ms
2023-11-05 12:03:44,906 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:03:44,908 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:03:44,909 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:03:44,910 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:03:44,910 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 6ms
2023-11-05 12:03:44,917 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:03:44,918 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:03:44,919 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:03:44,920 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:03:44,920 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 5ms
2023-11-05 12:03:44,926 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:03:44,927 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:03:44,928 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:03:44,929 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:03:44,930 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:03:44,931 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 6ms
2023-11-05 12:03:44,939 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:03:44,940 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:03:44,942 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:03:44,945 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:03:44,948 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:03:44,950 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:03:44,953 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:03:44,954 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 17ms
2023-11-05 12:03:44,960 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 12:03:44,961 INFO  [main] liquibase.util : Run:                         16
2023-11-05 12:03:44,961 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 12:03:44,961 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 12:03:44,961 INFO  [main] liquibase.util : -------------------------------
2023-11-05 12:03:44,961 INFO  [main] liquibase.util : Total change sets:           16

2023-11-05 12:03:44,963 INFO  [main] liquibase.util : Update summary generated
2023-11-05 12:03:44,967 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 12:03:44,970 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 12:03:44,970 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:03:45,239 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 12:03:45,314 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 12:03:45,317 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 12:03:45,496 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:03:45,682 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 12:03:46,189 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:03:47,030 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 12:03:47,033 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:03:47,920 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 12:03:49,763 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 12:03:51,005 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 12:03:51,052 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 10.888 seconds (process running for 13.339)
2023-11-05 12:03:52,031 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:03:52,071 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ManagerControllerTest
2023-11-05 12:03:52,149 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 35828 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 12:03:52,149 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 12:03:52,497 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:03:52,497 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 12:03:52,505 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:03:52,506 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:03:52,506 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:03:52,506 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:03:52,507 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:03:52,507 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 JDBC repository interfaces.
2023-11-05 12:03:52,511 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:03:52,511 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 12:03:52,530 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 5 JPA repository interfaces.
2023-11-05 12:03:52,777 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-2 - Starting...
2023-11-05 12:03:52,780 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-2 - Added connection conn11: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 12:03:52,781 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-2 - Start completed.
2023-11-05 12:03:52,783 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 12:03:52,800 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:03:52,800 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 12:03:52,890 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 12:03:52,892 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 12:03:52,894 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:03:53,307 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 12:03:53,310 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:03:53,333 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:03:53,335 INFO  [main] liquibase.command : Using deploymentId: 9182233335
2023-11-05 12:03:53,336 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:03:53,393 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 12:03:53,398 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 12:03:53,402 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 12:03:53,406 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 12:03:53,410 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 12:03:53,414 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 12:03:53,421 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 12:03:53,421 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 4ms
2023-11-05 12:03:53,429 INFO  [main] liquibase.changelog : Table products created
2023-11-05 12:03:53,430 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 6ms
2023-11-05 12:03:53,438 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 12:03:53,439 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 5ms
2023-11-05 12:03:53,448 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 12:03:53,448 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 7ms
2023-11-05 12:03:53,459 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 12:03:53,460 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 9ms
2023-11-05 12:03:53,471 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 12:03:53,472 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 8ms
2023-11-05 12:03:53,477 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:03:53,477 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:03:53,478 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:03:53,479 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:03:53,480 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 4ms
2023-11-05 12:03:53,488 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:03:53,489 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:03:53,490 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:03:53,491 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:03:53,491 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 5ms
2023-11-05 12:03:53,499 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:03:53,501 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:03:53,502 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:03:53,504 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:03:53,505 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:03:53,506 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 8ms
2023-11-05 12:03:53,515 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:03:53,516 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:03:53,517 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:03:53,519 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:03:53,520 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:03:53,521 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:03:53,522 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:03:53,523 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 10ms
2023-11-05 12:03:53,525 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 12:03:53,525 INFO  [main] liquibase.util : Run:                         16
2023-11-05 12:03:53,525 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 12:03:53,525 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 12:03:53,525 INFO  [main] liquibase.util : -------------------------------
2023-11-05 12:03:53,526 INFO  [main] liquibase.util : Total change sets:           16

2023-11-05 12:03:53,526 INFO  [main] liquibase.util : Update summary generated
2023-11-05 12:03:53,526 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 12:03:53,527 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 12:03:53,527 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:03:53,589 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 12:03:53,598 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:03:53,598 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 12:03:53,673 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:03:53,880 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 12:03:53,882 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:03:54,697 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 12:03:55,108 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 12:03:55,175 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 12:03:55,175 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 12:03:55,176 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-05 12:03:55,189 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Started ManagerControllerTest in 3.107 seconds (process running for 17.476)
2023-11-05 12:03:55,566 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 12:03:55,567 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 12:03:55,886 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=John, lastName=Smith, status=WORKING)]. Manager creation error: Manager with ID 523e4567-e89b-12d3-a456-010000000001 already exists
2023-11-05 12:03:55,892 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-05 12:03:55,901 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@192cd5c2,[]>
END OF REQUEST
2023-11-05 12:03:55,954 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:03:55,954 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:03:56,061 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-05 12:03:56,081 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagers
2023-11-05 12:03:56,082 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagers
2023-11-05 12:03:56,111 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000002, firstName=Carlos, lastName=Garcia, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000077, firstName=Anna, lastName=Lee, status=FIRED)],[]>
END OF REQUEST
2023-11-05 12:03:56,134 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 12:03:56,134 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 12:03:56,311 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-05 12:03:56,313 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-05 12:03:56,314 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-05 12:03:56,361 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-05 12:03:56,364 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:03:56,364 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:03:56,369 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000011]. Entity Manager with id 523e4567-e89b-12d3-a456-010000000011 is not found.
2023-11-05 12:03:56,370 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-05 12:03:56,370 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@d509e9e,[]>
END OF REQUEST
2023-11-05 12:03:56,383 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/get-all-by-clients-status/VIP
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagersByClientStatus
2023-11-05 12:03:56,383 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagersByClientStatus
2023-11-05 12:03:56,431 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING)],[]>
END OF REQUEST
2023-11-05 12:03:56,452 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 12:03:56,452 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 12:03:56,455 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-05 12:03:56,458 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:03:56,458 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:03:56,459 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-05 12:03:56,460 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-05 12:03:56,460 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-05 12:03:56,464 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-05 12:03:56,470 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-05 12:03:56,471 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-05 12:03:56,516 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-05 12:03:56,523 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:03:56,523 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:03:56,525 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=NewFirstName, lastName=NewLastName, status=WORKING),[]>
END OF REQUEST
2023-11-05 12:03:56,533 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:03:56,539 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ProductControllerTest
2023-11-05 12:03:56,564 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getAllProducts
2023-11-05 12:03:56,564 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getAllProducts
2023-11-05 12:03:56,574 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductDto(id=523e4567-e89b-12d3-a456-020000000001, name=Mortgage up to 200.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000002, name=Mortgage up to 500.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000003, name=Deposit up to 100.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000004, name=Current account EUR, status=ACTIVE, currencyCode=EUR)],[]>
END OF REQUEST
2023-11-05 12:03:56,654 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:03:56,838 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 12:03:56,843 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 12:03:56,847 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:03:56,849 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-2 - Shutdown initiated...
2023-11-05 12:03:56,850 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-2 - Shutdown completed.
2023-11-05 12:10:30,209 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 17104 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 12:10:30,222 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 12:10:31,415 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:10:31,418 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 12:10:31,461 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:10:31,463 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:10:31,464 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:10:31,465 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:10:31,467 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:10:31,468 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 0 JDBC repository interfaces.
2023-11-05 12:10:31,483 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:10:31,485 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 12:10:31,527 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 5 JPA repository interfaces.
2023-11-05 12:10:32,325 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 12:10:32,922 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 12:10:32,925 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 12:10:33,005 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 12:10:33,249 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:10:33,256 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 12:10:33,437 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 12:10:33,449 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 12:10:33,451 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:10:33,976 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 12:10:33,982 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:10:34,049 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:10:34,053 INFO  [main] liquibase.command : Using deploymentId: 9182634053
2023-11-05 12:10:34,055 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:10:34,146 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 12:10:34,157 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 12:10:34,161 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 12:10:34,164 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 12:10:34,168 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 12:10:34,171 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 12:10:34,184 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 12:10:34,186 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 11ms
2023-11-05 12:10:34,203 INFO  [main] liquibase.changelog : Table products created
2023-11-05 12:10:34,204 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 14ms
2023-11-05 12:10:34,213 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 12:10:34,214 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 7ms
2023-11-05 12:10:34,226 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 12:10:34,226 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 7ms
2023-11-05 12:10:34,240 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 12:10:34,240 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 10ms
2023-11-05 12:10:34,253 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 12:10:34,254 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 9ms
2023-11-05 12:10:34,264 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:10:34,266 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:10:34,268 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:10:34,269 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:10:34,270 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 11ms
2023-11-05 12:10:34,277 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:10:34,280 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:10:34,280 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:10:34,282 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:10:34,283 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 8ms
2023-11-05 12:10:34,306 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:10:34,308 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:10:34,310 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:10:34,311 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:10:34,313 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:10:34,314 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 17ms
2023-11-05 12:10:34,322 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:10:34,323 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:10:34,325 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:10:34,326 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:10:34,328 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:10:34,329 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:10:34,330 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:10:34,330 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 9ms
2023-11-05 12:10:34,335 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 12:10:34,336 INFO  [main] liquibase.util : Run:                         16
2023-11-05 12:10:34,336 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 12:10:34,336 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 12:10:34,336 INFO  [main] liquibase.util : -------------------------------
2023-11-05 12:10:34,336 INFO  [main] liquibase.util : Total change sets:           16

2023-11-05 12:10:34,338 INFO  [main] liquibase.util : Update summary generated
2023-11-05 12:10:34,340 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 12:10:34,343 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 12:10:34,344 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:10:34,592 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 12:10:34,659 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 12:10:34,662 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 12:10:34,844 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:10:35,028 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 12:10:35,549 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:10:36,328 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 12:10:36,332 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:10:37,158 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 12:10:38,890 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 12:10:40,112 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 12:10:40,167 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 10.427 seconds (process running for 12.195)
2023-11-05 12:10:41,122 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:10:41,161 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.AgreementControllerTest
2023-11-05 12:10:41,221 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : Starting AgreementControllerTest using Java 19.0.2 with PID 17104 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 12:10:41,221 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 12:10:41,557 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:10:41,557 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 12:10:41,565 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:10:41,566 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:10:41,567 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:10:41,567 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:10:41,567 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:10:41,568 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 0 JDBC repository interfaces.
2023-11-05 12:10:41,571 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:10:41,572 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 12:10:41,589 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 16 ms. Found 5 JPA repository interfaces.
2023-11-05 12:10:41,858 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-2 - Starting...
2023-11-05 12:10:41,862 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-2 - Added connection conn11: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 12:10:41,863 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-2 - Start completed.
2023-11-05 12:10:41,866 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 12:10:41,880 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:10:41,881 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 12:10:41,964 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 12:10:41,966 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 12:10:41,968 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:10:42,379 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 12:10:42,383 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:10:42,405 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:10:42,408 INFO  [main] liquibase.command : Using deploymentId: 9182642408
2023-11-05 12:10:42,408 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:10:42,462 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 12:10:42,466 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 12:10:42,470 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 12:10:42,473 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 12:10:42,479 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 12:10:42,483 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 12:10:42,491 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 12:10:42,492 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 6ms
2023-11-05 12:10:42,503 INFO  [main] liquibase.changelog : Table products created
2023-11-05 12:10:42,503 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 6ms
2023-11-05 12:10:42,512 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 12:10:42,512 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 6ms
2023-11-05 12:10:42,521 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 12:10:42,521 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 5ms
2023-11-05 12:10:42,534 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 12:10:42,534 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 9ms
2023-11-05 12:10:42,545 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 12:10:42,545 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 8ms
2023-11-05 12:10:42,552 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:10:42,553 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:10:42,554 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:10:42,556 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:10:42,556 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 5ms
2023-11-05 12:10:42,565 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:10:42,566 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:10:42,568 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:10:42,569 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:10:42,569 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 5ms
2023-11-05 12:10:42,582 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:10:42,584 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:10:42,586 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:10:42,587 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:10:42,589 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:10:42,589 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 9ms
2023-11-05 12:10:42,599 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:10:42,601 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:10:42,602 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:10:42,604 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:10:42,606 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:10:42,607 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:10:42,609 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:10:42,610 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 12ms
2023-11-05 12:10:42,614 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 12:10:42,614 INFO  [main] liquibase.util : Run:                         16
2023-11-05 12:10:42,615 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 12:10:42,615 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 12:10:42,615 INFO  [main] liquibase.util : -------------------------------
2023-11-05 12:10:42,615 INFO  [main] liquibase.util : Total change sets:           16

2023-11-05 12:10:42,615 INFO  [main] liquibase.util : Update summary generated
2023-11-05 12:10:42,615 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 12:10:42,617 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 12:10:42,617 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:10:42,688 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 12:10:42,698 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:10:42,699 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 12:10:42,772 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:10:42,977 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 12:10:42,978 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:10:43,805 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 12:10:44,227 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 12:10:44,301 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 12:10:44,301 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 12:10:44,302 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-05 12:10:44,313 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : Started AgreementControllerTest in 3.145 seconds (process running for 16.341)
2023-11-05 12:10:44,501 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getAllClients
2023-11-05 12:10:44,501 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getAllClients
2023-11-05 12:10:44,928 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrae 17, D-80331 Mnchen, Germany, phone=+49 89 1234567), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrae 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), ClientDto(id=523e4567-e89b-12d3-a456-030000000005, firstName=Laura, lastName=Klein, email=laura.klein@gmail.com, address=Goetheplatz 5, D-60311 Frankfurt am Main, Germany, phone=+49 69 8765432)],[]>
END OF REQUEST
2023-11-05 12:10:45,156 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ClientControllerTest]: ClientControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:10:45,162 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ClientControllerTest
2023-11-05 12:10:45,175 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getAllClients
2023-11-05 12:10:45,175 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getAllClients
2023-11-05 12:10:45,180 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrae 17, D-80331 Mnchen, Germany, phone=+49 89 1234567), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrae 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), ClientDto(id=523e4567-e89b-12d3-a456-030000000005, firstName=Laura, lastName=Klein, email=laura.klein@gmail.com, address=Goetheplatz 5, D-60311 Frankfurt am Main, Germany, phone=+49 69 8765432)],[]>
END OF REQUEST
2023-11-05 12:10:45,197 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:10:45,203 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ManagerControllerTest
2023-11-05 12:10:45,274 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 12:10:45,275 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 12:10:45,361 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=John, lastName=Smith, status=WORKING)]. Manager creation error: Manager with ID 523e4567-e89b-12d3-a456-010000000001 already exists
2023-11-05 12:10:45,365 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-05 12:10:45,366 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@2b0d2026,[]>
END OF REQUEST
2023-11-05 12:10:45,377 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:10:45,377 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:10:45,387 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-05 12:10:45,395 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagers
2023-11-05 12:10:45,395 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagers
2023-11-05 12:10:45,400 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000002, firstName=Carlos, lastName=Garcia, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000077, firstName=Anna, lastName=Lee, status=FIRED)],[]>
END OF REQUEST
2023-11-05 12:10:45,411 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 12:10:45,411 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 12:10:45,571 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-05 12:10:45,574 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-05 12:10:45,574 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-05 12:10:45,619 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-05 12:10:45,621 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:10:45,622 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:10:45,625 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000011]. Entity Manager with id 523e4567-e89b-12d3-a456-010000000011 is not found.
2023-11-05 12:10:45,626 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-05 12:10:45,626 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@581b78b0,[]>
END OF REQUEST
2023-11-05 12:10:45,639 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/get-all-by-clients-status/VIP
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagersByClientStatus
2023-11-05 12:10:45,639 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagersByClientStatus
2023-11-05 12:10:45,685 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING)],[]>
END OF REQUEST
2023-11-05 12:10:45,700 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 12:10:45,700 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 12:10:45,707 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-05 12:10:45,709 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:10:45,709 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:10:45,711 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-05 12:10:45,714 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-05 12:10:45,714 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-05 12:10:45,719 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-05 12:10:45,727 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-05 12:10:45,727 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-05 12:10:45,770 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-05 12:10:45,776 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:10:45,776 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:10:45,778 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=NewFirstName, lastName=NewLastName, status=WORKING),[]>
END OF REQUEST
2023-11-05 12:10:45,785 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:10:45,787 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ProductControllerTest
2023-11-05 12:10:45,796 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getAllProducts
2023-11-05 12:10:45,796 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getAllProducts
2023-11-05 12:10:45,803 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductDto(id=523e4567-e89b-12d3-a456-020000000001, name=Mortgage up to 200.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000002, name=Mortgage up to 500.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000003, name=Deposit up to 100.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000004, name=Current account EUR, status=ACTIVE, currencyCode=EUR)],[]>
END OF REQUEST
2023-11-05 12:10:45,885 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:10:46,067 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 12:10:46,071 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 12:10:46,076 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:10:46,078 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-2 - Shutdown initiated...
2023-11-05 12:10:46,095 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-2 - Shutdown completed.
2023-11-05 12:11:41,752 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : Starting AgreementControllerTest using Java 19.0.2 with PID 29536 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 12:11:41,759 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 12:11:42,496 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:11:42,498 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 12:11:42,526 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:11:42,527 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:11:42,528 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:11:42,528 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:11:42,529 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:11:42,530 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-11-05 12:11:42,539 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:11:42,540 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 12:11:42,571 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 5 JPA repository interfaces.
2023-11-05 12:11:43,181 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 12:11:43,477 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 12:11:43,478 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 12:11:43,523 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 12:11:43,705 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:11:43,711 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 12:11:43,856 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 12:11:43,869 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 12:11:43,870 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:11:44,421 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 12:11:44,429 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:11:44,513 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:11:44,517 INFO  [main] liquibase.command : Using deploymentId: 9182704517
2023-11-05 12:11:44,519 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:11:44,620 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 12:11:44,629 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 12:11:44,633 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 12:11:44,637 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 12:11:44,645 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 12:11:44,648 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 12:11:44,662 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 12:11:44,664 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 11ms
2023-11-05 12:11:44,679 INFO  [main] liquibase.changelog : Table products created
2023-11-05 12:11:44,680 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 12ms
2023-11-05 12:11:44,689 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 12:11:44,689 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 6ms
2023-11-05 12:11:44,698 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 12:11:44,699 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 7ms
2023-11-05 12:11:44,711 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 12:11:44,712 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 10ms
2023-11-05 12:11:44,723 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 12:11:44,723 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 8ms
2023-11-05 12:11:44,730 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:11:44,731 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:11:44,732 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:11:44,733 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:11:44,733 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 6ms
2023-11-05 12:11:44,739 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:11:44,740 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:11:44,741 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:11:44,742 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:11:44,742 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 4ms
2023-11-05 12:11:44,749 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:11:44,750 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:11:44,751 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:11:44,752 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:11:44,753 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:11:44,753 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 5ms
2023-11-05 12:11:44,761 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:11:44,762 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:11:44,764 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:11:44,765 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:11:44,766 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:11:44,767 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:11:44,768 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:11:44,768 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 9ms
2023-11-05 12:11:44,776 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 12:11:44,776 INFO  [main] liquibase.util : Run:                         16
2023-11-05 12:11:44,776 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 12:11:44,776 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 12:11:44,776 INFO  [main] liquibase.util : -------------------------------
2023-11-05 12:11:44,776 INFO  [main] liquibase.util : Total change sets:           16

2023-11-05 12:11:44,778 INFO  [main] liquibase.util : Update summary generated
2023-11-05 12:11:44,782 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 12:11:44,784 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 12:11:44,784 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:11:45,068 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 12:11:45,194 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 12:11:45,196 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 12:11:45,305 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:11:45,398 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 12:11:45,627 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:11:46,161 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 12:11:46,163 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:11:47,009 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 12:11:48,681 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 12:11:49,671 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 12:11:49,737 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 12:11:49,737 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 12:11:49,738 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 0 ms
2023-11-05 12:11:49,769 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : Started AgreementControllerTest in 8.34 seconds (process running for 9.133)
2023-11-05 12:11:50,214 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getAllClients
2023-11-05 12:11:50,215 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getAllClients
2023-11-05 12:11:50,293 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrae 17, D-80331 Mnchen, Germany, phone=+49 89 1234567), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrae 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), ClientDto(id=523e4567-e89b-12d3-a456-030000000005, firstName=Laura, lastName=Klein, email=laura.klein@gmail.com, address=Goetheplatz 5, D-60311 Frankfurt am Main, Germany, phone=+49 69 8765432)],[]>
END OF REQUEST
2023-11-05 12:11:50,370 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:11:50,372 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 12:11:50,373 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 12:11:57,447 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : Starting AgreementControllerTest using Java 19.0.2 with PID 35920 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 12:11:57,455 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 12:11:58,181 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:11:58,182 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 12:11:58,208 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:11:58,209 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:11:58,210 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:11:58,211 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:11:58,212 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:11:58,212 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-11-05 12:11:58,221 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:11:58,221 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 12:11:58,253 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 5 JPA repository interfaces.
2023-11-05 12:11:58,811 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 12:11:59,099 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 12:11:59,100 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 12:11:59,145 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 12:11:59,340 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:11:59,346 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 12:11:59,491 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 12:11:59,499 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 12:11:59,500 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:12:00,056 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 12:12:00,065 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:12:00,138 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:12:00,141 INFO  [main] liquibase.command : Using deploymentId: 9182720141
2023-11-05 12:12:00,145 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:12:00,241 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 12:12:00,250 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 12:12:00,254 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 12:12:00,258 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 12:12:00,262 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 12:12:00,264 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 12:12:00,275 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 12:12:00,278 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 11ms
2023-11-05 12:12:00,299 INFO  [main] liquibase.changelog : Table products created
2023-11-05 12:12:00,300 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 17ms
2023-11-05 12:12:00,313 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 12:12:00,313 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 10ms
2023-11-05 12:12:00,321 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 12:12:00,322 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 6ms
2023-11-05 12:12:00,334 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 12:12:00,335 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 9ms
2023-11-05 12:12:00,345 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 12:12:00,346 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 7ms
2023-11-05 12:12:00,352 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:12:00,354 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:12:00,356 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:12:00,357 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:12:00,358 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 8ms
2023-11-05 12:12:00,366 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:12:00,367 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:12:00,368 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:12:00,368 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:12:00,368 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 4ms
2023-11-05 12:12:00,376 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:12:00,377 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:12:00,378 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:12:00,379 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:12:00,379 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:12:00,380 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 6ms
2023-11-05 12:12:00,386 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:00,388 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:00,389 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:00,390 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:00,391 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:00,392 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:00,392 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:00,393 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 7ms
2023-11-05 12:12:00,401 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 12:12:00,401 INFO  [main] liquibase.util : Run:                         16
2023-11-05 12:12:00,401 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 12:12:00,401 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 12:12:00,401 INFO  [main] liquibase.util : -------------------------------
2023-11-05 12:12:00,401 INFO  [main] liquibase.util : Total change sets:           16

2023-11-05 12:12:00,403 INFO  [main] liquibase.util : Update summary generated
2023-11-05 12:12:00,406 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 12:12:00,409 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 12:12:00,409 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:12:00,686 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 12:12:00,876 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 12:12:00,881 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 12:12:01,019 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:12:01,114 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 12:12:01,339 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:12:01,866 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 12:12:01,869 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:12:02,804 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 12:12:04,394 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 12:12:05,450 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 12:12:05,507 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 12:12:05,508 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 12:12:05,509 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-05 12:12:05,543 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : Started AgreementControllerTest in 8.411 seconds (process running for 9.2)
2023-11-05 12:12:05,978 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AgreementController.getAllAgreements
2023-11-05 12:12:05,980 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AgreementServiceImpl.getAllAgreements
2023-11-05 12:12:06,044 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-05 12:12:06,104 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:12:06,106 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 12:12:06,126 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 12:12:33,275 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 34592 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 12:12:33,288 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 12:12:34,462 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:12:34,464 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 12:12:34,502 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:12:34,503 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:12:34,504 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:12:34,505 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:12:34,507 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:12:34,508 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 0 JDBC repository interfaces.
2023-11-05 12:12:34,519 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:12:34,520 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 12:12:34,563 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 5 JPA repository interfaces.
2023-11-05 12:12:35,251 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 12:12:35,844 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 12:12:35,848 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 12:12:35,926 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 12:12:36,170 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:12:36,177 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 12:12:36,352 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 12:12:36,366 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 12:12:36,367 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:12:36,907 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 12:12:36,913 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:12:36,987 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:12:36,992 INFO  [main] liquibase.command : Using deploymentId: 9182756991
2023-11-05 12:12:36,994 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:12:37,081 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 12:12:37,092 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 12:12:37,097 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 12:12:37,102 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 12:12:37,107 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 12:12:37,111 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 12:12:37,122 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 12:12:37,124 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 10ms
2023-11-05 12:12:37,137 INFO  [main] liquibase.changelog : Table products created
2023-11-05 12:12:37,138 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 11ms
2023-11-05 12:12:37,145 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 12:12:37,145 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 4ms
2023-11-05 12:12:37,154 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 12:12:37,155 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 5ms
2023-11-05 12:12:37,163 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 12:12:37,164 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 7ms
2023-11-05 12:12:37,172 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 12:12:37,172 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 6ms
2023-11-05 12:12:37,180 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:12:37,181 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:12:37,182 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:12:37,184 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:12:37,184 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 7ms
2023-11-05 12:12:37,192 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:12:37,194 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:12:37,197 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:12:37,200 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:12:37,202 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 11ms
2023-11-05 12:12:37,216 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:12:37,218 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:12:37,220 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:12:37,222 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:12:37,225 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:12:37,226 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 13ms
2023-11-05 12:12:37,234 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:37,236 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:37,238 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:37,239 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:37,241 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:37,241 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:37,243 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:37,244 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 12ms
2023-11-05 12:12:37,253 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 12:12:37,253 INFO  [main] liquibase.util : Run:                         16
2023-11-05 12:12:37,253 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 12:12:37,254 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 12:12:37,254 INFO  [main] liquibase.util : -------------------------------
2023-11-05 12:12:37,254 INFO  [main] liquibase.util : Total change sets:           16

2023-11-05 12:12:37,256 INFO  [main] liquibase.util : Update summary generated
2023-11-05 12:12:37,258 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 12:12:37,261 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 12:12:37,262 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:12:37,500 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 12:12:37,569 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 12:12:37,571 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 12:12:37,752 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:12:37,932 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 12:12:38,450 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:12:39,341 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 12:12:39,344 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:12:40,206 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 12:12:41,988 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 12:12:43,288 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 12:12:43,350 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 10.524 seconds (process running for 12.326)
2023-11-05 12:12:44,284 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:12:44,322 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.AgreementControllerTest
2023-11-05 12:12:44,384 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : Starting AgreementControllerTest using Java 19.0.2 with PID 34592 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 12:12:44,385 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 12:12:44,723 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:12:44,724 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 12:12:44,741 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:12:44,741 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:12:44,742 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:12:44,742 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:12:44,742 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:12:44,743 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 0 JDBC repository interfaces.
2023-11-05 12:12:44,746 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:12:44,747 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 12:12:44,765 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 18 ms. Found 5 JPA repository interfaces.
2023-11-05 12:12:45,005 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-2 - Starting...
2023-11-05 12:12:45,008 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-2 - Added connection conn11: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 12:12:45,008 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-2 - Start completed.
2023-11-05 12:12:45,010 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 12:12:45,022 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:12:45,022 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 12:12:45,114 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 12:12:45,116 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 12:12:45,118 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:12:45,538 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 12:12:45,541 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:12:45,562 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:12:45,564 INFO  [main] liquibase.command : Using deploymentId: 9182765564
2023-11-05 12:12:45,565 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:12:45,627 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 12:12:45,632 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 12:12:45,636 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 12:12:45,641 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 12:12:45,646 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 12:12:45,650 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 12:12:45,657 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 12:12:45,658 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 4ms
2023-11-05 12:12:45,665 INFO  [main] liquibase.changelog : Table products created
2023-11-05 12:12:45,666 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 6ms
2023-11-05 12:12:45,674 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 12:12:45,674 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 6ms
2023-11-05 12:12:45,683 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 12:12:45,684 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 7ms
2023-11-05 12:12:45,695 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 12:12:45,695 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 7ms
2023-11-05 12:12:45,706 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 12:12:45,707 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 7ms
2023-11-05 12:12:45,712 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:12:45,713 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:12:45,714 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:12:45,715 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:12:45,715 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 4ms
2023-11-05 12:12:45,722 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:12:45,723 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:12:45,724 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:12:45,725 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:12:45,726 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 5ms
2023-11-05 12:12:45,733 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:12:45,744 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:12:45,746 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:12:45,747 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:12:45,748 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:12:45,749 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 18ms
2023-11-05 12:12:45,758 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:45,759 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:45,760 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:45,761 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:45,762 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:45,763 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:45,764 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:12:45,764 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 7ms
2023-11-05 12:12:45,766 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 12:12:45,767 INFO  [main] liquibase.util : Run:                         16
2023-11-05 12:12:45,767 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 12:12:45,767 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 12:12:45,767 INFO  [main] liquibase.util : -------------------------------
2023-11-05 12:12:45,767 INFO  [main] liquibase.util : Total change sets:           16

2023-11-05 12:12:45,767 INFO  [main] liquibase.util : Update summary generated
2023-11-05 12:12:45,767 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 12:12:45,768 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 12:12:45,769 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:12:45,828 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 12:12:45,839 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:12:45,840 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 12:12:45,915 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:12:46,109 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 12:12:46,110 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:12:46,962 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 12:12:47,448 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 12:12:47,514 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 12:12:47,515 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 12:12:47,516 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-05 12:12:47,532 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : Started AgreementControllerTest in 3.2 seconds (process running for 16.508)
2023-11-05 12:12:47,711 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AgreementController.getAllAgreements
2023-11-05 12:12:47,720 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AgreementServiceImpl.getAllAgreements
2023-11-05 12:12:47,986 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-05 12:12:48,187 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ClientControllerTest]: ClientControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:12:48,192 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ClientControllerTest
2023-11-05 12:12:48,204 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getAllClients
2023-11-05 12:12:48,205 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getAllClients
2023-11-05 12:12:48,307 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrae 17, D-80331 Mnchen, Germany, phone=+49 89 1234567), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrae 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), ClientDto(id=523e4567-e89b-12d3-a456-030000000005, firstName=Laura, lastName=Klein, email=laura.klein@gmail.com, address=Goetheplatz 5, D-60311 Frankfurt am Main, Germany, phone=+49 69 8765432)],[]>
END OF REQUEST
2023-11-05 12:12:48,344 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:12:48,346 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ManagerControllerTest
2023-11-05 12:12:48,403 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 12:12:48,403 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 12:12:48,476 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=John, lastName=Smith, status=WORKING)]. Manager creation error: Manager with ID 523e4567-e89b-12d3-a456-010000000001 already exists
2023-11-05 12:12:48,480 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-05 12:12:48,481 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@662e74ec,[]>
END OF REQUEST
2023-11-05 12:12:48,491 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:12:48,491 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:12:48,501 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-05 12:12:48,508 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagers
2023-11-05 12:12:48,508 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagers
2023-11-05 12:12:48,511 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000002, firstName=Carlos, lastName=Garcia, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000077, firstName=Anna, lastName=Lee, status=FIRED)],[]>
END OF REQUEST
2023-11-05 12:12:48,520 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 12:12:48,520 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 12:12:48,681 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-05 12:12:48,684 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-05 12:12:48,684 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-05 12:12:48,725 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-05 12:12:48,726 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:12:48,727 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:12:48,730 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000011]. Entity Manager with id 523e4567-e89b-12d3-a456-010000000011 is not found.
2023-11-05 12:12:48,731 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-05 12:12:48,731 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@26bf6235,[]>
END OF REQUEST
2023-11-05 12:12:48,739 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/get-all-by-clients-status/VIP
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagersByClientStatus
2023-11-05 12:12:48,739 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagersByClientStatus
2023-11-05 12:12:48,778 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING)],[]>
END OF REQUEST
2023-11-05 12:12:48,789 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 12:12:48,790 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 12:12:48,795 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-05 12:12:48,797 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:12:48,797 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:12:48,799 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-05 12:12:48,802 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-05 12:12:48,802 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-05 12:12:48,807 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-05 12:12:48,815 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-05 12:12:48,816 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-05 12:12:48,866 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-05 12:12:48,874 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:12:48,874 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:12:48,876 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=NewFirstName, lastName=NewLastName, status=WORKING),[]>
END OF REQUEST
2023-11-05 12:12:48,884 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:12:48,889 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ProductControllerTest
2023-11-05 12:12:48,898 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getAllProducts
2023-11-05 12:12:48,899 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getAllProducts
2023-11-05 12:12:48,907 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductDto(id=523e4567-e89b-12d3-a456-020000000001, name=Mortgage up to 200.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000002, name=Mortgage up to 500.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000003, name=Deposit up to 100.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000004, name=Current account EUR, status=ACTIVE, currencyCode=EUR)],[]>
END OF REQUEST
2023-11-05 12:12:48,975 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:12:49,161 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 12:12:49,164 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 12:12:49,167 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:12:49,168 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-2 - Shutdown initiated...
2023-11-05 12:12:49,169 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-2 - Shutdown completed.
2023-11-05 12:18:34,802 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : Starting AgreementControllerTest using Java 19.0.2 with PID 16724 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 12:18:34,809 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 12:18:35,485 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:18:35,486 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 12:18:35,513 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:18:35,514 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:18:35,515 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:18:35,516 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:18:35,517 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:18:35,518 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-11-05 12:18:35,526 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:18:35,527 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 12:18:35,556 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 5 JPA repository interfaces.
2023-11-05 12:18:36,155 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 12:18:36,456 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 12:18:36,457 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 12:18:36,506 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 12:18:36,701 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:18:36,707 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 12:18:36,841 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 12:18:36,855 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 12:18:36,856 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:18:37,389 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 12:18:37,400 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:18:37,480 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:18:37,485 INFO  [main] liquibase.command : Using deploymentId: 9183117485
2023-11-05 12:18:37,487 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:18:37,587 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 12:18:37,597 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 12:18:37,601 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 12:18:37,604 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 12:18:37,609 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 12:18:37,614 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 12:18:37,626 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 12:18:37,628 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 11ms
2023-11-05 12:18:37,647 INFO  [main] liquibase.changelog : Table products created
2023-11-05 12:18:37,648 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 16ms
2023-11-05 12:18:37,666 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 12:18:37,666 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 11ms
2023-11-05 12:18:37,677 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 12:18:37,677 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 6ms
2023-11-05 12:18:37,689 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 12:18:37,690 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 9ms
2023-11-05 12:18:37,699 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 12:18:37,700 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 8ms
2023-11-05 12:18:37,707 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:18:37,709 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:18:37,710 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:18:37,710 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:18:37,711 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 7ms
2023-11-05 12:18:37,716 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:18:37,717 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:18:37,718 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:18:37,719 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:18:37,719 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 4ms
2023-11-05 12:18:37,726 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:18:37,727 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:18:37,728 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:18:37,729 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:18:37,730 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:18:37,730 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 5ms
2023-11-05 12:18:37,738 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:18:37,739 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:18:37,740 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:18:37,741 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:18:37,742 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:18:37,743 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:18:37,744 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:18:37,744 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 7ms
2023-11-05 12:18:37,752 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 12:18:37,766 INFO  [main] liquibase.util : Run:                         16
2023-11-05 12:18:37,767 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 12:18:37,767 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 12:18:37,767 INFO  [main] liquibase.util : -------------------------------
2023-11-05 12:18:37,767 INFO  [main] liquibase.util : Total change sets:           16

2023-11-05 12:18:37,769 INFO  [main] liquibase.util : Update summary generated
2023-11-05 12:18:37,772 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 12:18:37,774 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 12:18:37,775 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:18:38,075 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 12:18:38,247 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 12:18:38,250 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 12:18:38,399 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:18:38,498 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 12:18:38,735 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:18:39,262 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 12:18:39,264 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:18:40,205 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 12:18:41,964 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 12:18:43,011 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 12:18:43,058 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 12:18:43,058 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 12:18:43,059 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-05 12:18:43,092 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : Started AgreementControllerTest in 8.595 seconds (process running for 9.394)
2023-11-05 12:18:43,531 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AgreementController.getAllAgreements
2023-11-05 12:18:43,534 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AgreementServiceImpl.getAllAgreements
2023-11-05 12:18:43,605 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-05 12:18:43,664 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:18:43,667 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 12:18:43,668 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 12:24:27,652 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 33064 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 12:24:27,665 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 12:24:28,895 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:24:28,897 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 12:24:28,947 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:24:28,949 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:24:28,951 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:24:28,952 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:24:28,954 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:24:28,956 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 0 JDBC repository interfaces.
2023-11-05 12:24:28,968 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:24:28,969 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 12:24:29,006 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 5 JPA repository interfaces.
2023-11-05 12:24:29,806 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 12:24:30,391 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 12:24:30,395 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 12:24:30,493 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 12:24:30,770 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:24:30,777 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 12:24:30,981 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 12:24:30,995 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 12:24:30,996 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:24:31,549 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 12:24:31,556 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:24:31,626 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:24:31,631 INFO  [main] liquibase.command : Using deploymentId: 9183471631
2023-11-05 12:24:31,633 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:24:31,723 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 12:24:31,734 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 12:24:31,738 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 12:24:31,741 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 12:24:31,744 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 12:24:31,747 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 12:24:31,757 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 12:24:31,760 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 10ms
2023-11-05 12:24:31,774 INFO  [main] liquibase.changelog : Table products created
2023-11-05 12:24:31,774 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 12ms
2023-11-05 12:24:31,782 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 12:24:31,783 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 6ms
2023-11-05 12:24:31,791 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 12:24:31,791 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 6ms
2023-11-05 12:24:31,801 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 12:24:31,801 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 7ms
2023-11-05 12:24:31,810 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 12:24:31,810 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 6ms
2023-11-05 12:24:31,818 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:24:31,820 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:24:31,822 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:24:31,824 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:24:31,825 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 11ms
2023-11-05 12:24:31,853 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:24:31,857 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:24:31,860 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:24:31,862 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:24:31,864 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 23ms
2023-11-05 12:24:31,878 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:24:31,882 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:24:31,884 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:24:31,887 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:24:31,889 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:24:31,890 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 16ms
2023-11-05 12:24:31,899 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:24:31,901 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:24:31,903 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:24:31,905 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:24:31,906 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:24:31,908 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:24:31,909 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:24:31,910 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 13ms
2023-11-05 12:24:31,920 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 12:24:31,922 INFO  [main] liquibase.util : Run:                         16
2023-11-05 12:24:31,922 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 12:24:31,922 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 12:24:31,922 INFO  [main] liquibase.util : -------------------------------
2023-11-05 12:24:31,922 INFO  [main] liquibase.util : Total change sets:           16

2023-11-05 12:24:31,925 INFO  [main] liquibase.util : Update summary generated
2023-11-05 12:24:31,927 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 12:24:31,932 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 12:24:31,932 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:24:32,174 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 12:24:32,238 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 12:24:32,240 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 12:24:32,418 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:24:32,588 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 12:24:33,118 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:24:33,938 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 12:24:33,940 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:24:34,799 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 12:24:36,578 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 12:24:37,820 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 12:24:37,890 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 12:24:37,890 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 12:24:37,893 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-05 12:24:37,918 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 10.767 seconds (process running for 12.59)
2023-11-05 12:24:38,511 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAllAccounts
2023-11-05 12:24:38,511 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAllAccounts
2023-11-05 12:24:38,637 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000011, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE89 3704 0044 0532 0130 00, type=CURRENT, status=ACTIVE, balance=5247.27, currencyCode=EUR, createdAt=2023-01-20T10:35:00, updatedAt=2023-10-05T12:02:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000012, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE12 1001 1001 2620 6568 90, type=CURRENT, status=ACTIVE, balance=2503.50, currencyCode=EUR, createdAt=2023-04-17T10:35:00, updatedAt=2023-10-05T12:02:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000013, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=ACTIVE, balance=10000.30, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000014, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrae 17, D-80331 Mnchen, Germany, phone=+49 89 1234567), name=DE33 2004 1144 0199 9999 00, type=DEPOSIT, status=ACTIVE, balance=250000.00, currencyCode=EUR, createdAt=2023-07-25T10:35:00, updatedAt=2023-08-08T14:23:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000015, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), name=DE45 7002 0270 0015 7695 53, type=CURRENT, status=ACTIVE, balance=153256.00, currencyCode=EUR, createdAt=2022-11-25T10:35:00, updatedAt=2023-03-20T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000016, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=ACTIVE, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000017, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrae 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), name=DE16 3706 0193 6001 2345 67, type=CURRENT, status=ACTIVE, balance=5151.15, currencyCode=EUR, createdAt=2023-02-14T10:35:00, updatedAt=2023-08-08T14:23:00)],[]>
END OF REQUEST
2023-11-05 12:24:38,743 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:24:38,747 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.AgreementControllerTest
2023-11-05 12:24:38,754 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AgreementController.getAllAgreements
2023-11-05 12:24:38,755 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AgreementServiceImpl.getAllAgreements
2023-11-05 12:24:38,759 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-05 12:24:38,771 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ClientControllerTest]: ClientControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:24:38,775 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ClientControllerTest
2023-11-05 12:24:38,785 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getAllClients
2023-11-05 12:24:38,786 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getAllClients
2023-11-05 12:24:38,793 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrae 17, D-80331 Mnchen, Germany, phone=+49 89 1234567), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrae 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), ClientDto(id=523e4567-e89b-12d3-a456-030000000005, firstName=Laura, lastName=Klein, email=laura.klein@gmail.com, address=Goetheplatz 5, D-60311 Frankfurt am Main, Germany, phone=+49 69 8765432)],[]>
END OF REQUEST
2023-11-05 12:24:38,807 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:24:38,810 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ManagerControllerTest
2023-11-05 12:24:38,840 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 12:24:38,840 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 12:24:38,869 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=John, lastName=Smith, status=WORKING)]. Manager creation error: Manager with ID 523e4567-e89b-12d3-a456-010000000001 already exists
2023-11-05 12:24:38,872 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-05 12:24:38,872 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@5aea809d,[]>
END OF REQUEST
2023-11-05 12:24:38,878 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:24:38,878 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:24:38,883 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-05 12:24:38,890 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagers
2023-11-05 12:24:38,890 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagers
2023-11-05 12:24:38,896 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000002, firstName=Carlos, lastName=Garcia, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000077, firstName=Anna, lastName=Lee, status=FIRED)],[]>
END OF REQUEST
2023-11-05 12:24:38,907 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 12:24:38,907 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 12:24:38,954 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-05 12:24:38,957 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-05 12:24:38,957 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-05 12:24:38,971 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-05 12:24:38,972 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:24:38,973 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:24:38,975 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000011]. Entity Manager with id 523e4567-e89b-12d3-a456-010000000011 is not found.
2023-11-05 12:24:38,975 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-05 12:24:38,975 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@277c328c,[]>
END OF REQUEST
2023-11-05 12:24:38,981 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/get-all-by-clients-status/VIP
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagersByClientStatus
2023-11-05 12:24:38,981 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagersByClientStatus
2023-11-05 12:24:38,999 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING)],[]>
END OF REQUEST
2023-11-05 12:24:39,006 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 12:24:39,006 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 12:24:39,010 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-05 12:24:39,011 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:24:39,011 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:24:39,013 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-05 12:24:39,015 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-05 12:24:39,016 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-05 12:24:39,019 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-05 12:24:39,027 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-05 12:24:39,027 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-05 12:24:39,049 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-05 12:24:39,052 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:24:39,052 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:24:39,054 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=NewFirstName, lastName=NewLastName, status=WORKING),[]>
END OF REQUEST
2023-11-05 12:24:39,060 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:24:39,062 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ProductControllerTest
2023-11-05 12:24:39,072 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getAllProducts
2023-11-05 12:24:39,072 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getAllProducts
2023-11-05 12:24:39,079 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductDto(id=523e4567-e89b-12d3-a456-020000000001, name=Mortgage up to 200.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000002, name=Mortgage up to 500.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000003, name=Deposit up to 100.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000004, name=Current account EUR, status=ACTIVE, currencyCode=EUR)],[]>
END OF REQUEST
2023-11-05 12:24:39,145 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:24:39,292 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 12:24:39,327 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 12:51:35,504 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 27452 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 12:51:35,518 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 12:51:36,674 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:51:36,675 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 12:51:36,714 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:51:36,715 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:51:36,717 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:51:36,718 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:51:36,719 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:51:36,720 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 0 JDBC repository interfaces.
2023-11-05 12:51:36,732 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:51:36,733 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 12:51:36,772 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 5 JPA repository interfaces.
2023-11-05 12:51:37,526 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 12:51:38,108 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 12:51:38,110 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 12:51:38,199 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 12:51:38,473 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:51:38,483 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 12:51:38,678 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 12:51:38,687 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 12:51:38,689 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:51:39,296 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 12:51:39,303 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:51:39,378 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:51:39,384 INFO  [main] liquibase.command : Using deploymentId: 9185099384
2023-11-05 12:51:39,386 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:51:39,483 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 12:51:39,496 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 12:51:39,500 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 12:51:39,504 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 12:51:39,509 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 12:51:39,513 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 12:51:39,529 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 12:51:39,531 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 13ms
2023-11-05 12:51:39,554 INFO  [main] liquibase.changelog : Table products created
2023-11-05 12:51:39,554 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 19ms
2023-11-05 12:51:39,568 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 12:51:39,569 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 8ms
2023-11-05 12:51:39,578 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 12:51:39,579 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 7ms
2023-11-05 12:51:39,592 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 12:51:39,593 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 9ms
2023-11-05 12:51:39,605 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 12:51:39,605 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 8ms
2023-11-05 12:51:39,612 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:51:39,613 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:51:39,615 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:51:39,616 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:51:39,617 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 7ms
2023-11-05 12:51:39,624 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:51:39,625 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:51:39,627 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:51:39,629 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:51:39,629 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 7ms
2023-11-05 12:51:39,635 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:51:39,637 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:51:39,638 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:51:39,639 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:51:39,640 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:51:39,640 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 6ms
2023-11-05 12:51:39,647 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:51:39,649 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:51:39,650 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:51:39,651 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:51:39,652 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:51:39,653 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:51:39,654 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:51:39,654 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 9ms
2023-11-05 12:51:39,659 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 12:51:39,660 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 12:51:39,662 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 12:51:39,667 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-insert_test_data_agreements-changelog.xml::insert test data into agreements table::n.kapinos ran successfully in 9ms
2023-11-05 12:51:39,679 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 12:51:39,681 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 12:51:39,682 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 12:51:39,683 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-insert_test_data_transactions-changelog.xml::insert test data into transactions table::n.kapinos ran successfully in 10ms
2023-11-05 12:51:39,687 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 12:51:39,687 INFO  [main] liquibase.util : Run:                         18
2023-11-05 12:51:39,687 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 12:51:39,687 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 12:51:39,687 INFO  [main] liquibase.util : -------------------------------
2023-11-05 12:51:39,687 INFO  [main] liquibase.util : Total change sets:           18

2023-11-05 12:51:39,689 INFO  [main] liquibase.util : Update summary generated
2023-11-05 12:51:39,691 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 12:51:39,694 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 12:51:39,694 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:51:39,931 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 12:51:40,015 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 12:51:40,018 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 12:51:40,214 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:51:40,376 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 12:51:40,823 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:51:41,621 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 12:51:41,624 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:51:42,466 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 12:51:44,297 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 12:51:45,450 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 12:51:45,492 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 12:51:45,493 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 12:51:45,493 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 0 ms
2023-11-05 12:51:45,512 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 10.531 seconds (process running for 12.371)
2023-11-05 12:51:46,051 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAllAccounts
2023-11-05 12:51:46,052 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAllAccounts
2023-11-05 12:51:46,182 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000001, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE89 3704 0044 0532 0130 00, type=CURRENT, status=ACTIVE, balance=5247.27, currencyCode=EUR, createdAt=2023-01-20T10:35:00, updatedAt=2023-10-05T12:02:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000002, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE12 1001 1001 2620 6568 90, type=CURRENT, status=ACTIVE, balance=2503.50, currencyCode=EUR, createdAt=2023-04-17T10:35:00, updatedAt=2023-10-05T12:02:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=ACTIVE, balance=10000.30, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000004, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrae 17, D-80331 Mnchen, Germany, phone=+49 89 1234567), name=DE33 2004 1144 0199 9999 00, type=DEPOSIT, status=ACTIVE, balance=250000.00, currencyCode=EUR, createdAt=2023-07-25T10:35:00, updatedAt=2023-08-08T14:23:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000005, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), name=DE45 7002 0270 0015 7695 53, type=CURRENT, status=ACTIVE, balance=153256.00, currencyCode=EUR, createdAt=2022-11-25T10:35:00, updatedAt=2023-03-20T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=ACTIVE, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000007, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrae 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), name=DE16 3706 0193 6001 2345 67, type=CURRENT, status=ACTIVE, balance=5151.15, currencyCode=EUR, createdAt=2023-02-14T10:35:00, updatedAt=2023-08-08T14:23:00)],[]>
END OF REQUEST
2023-11-05 12:51:46,291 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:51:46,295 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.AgreementControllerTest
2023-11-05 12:51:46,302 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AgreementController.getAllAgreements
2023-11-05 12:51:46,303 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AgreementServiceImpl.getAllAgreements
2023-11-05 12:51:46,328 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AgreementDto(creationDate=2023-01-20T10:35:00, clientName=Lukas Mller, account=DE89 3704 0044 0532 0130 00, product=Current account EUR, amountFromAgreement=0.00, amountFromAccount=5247.27, status=ACTIVE), AgreementDto(creationDate=2023-07-25T10:35:00, clientName=Markus Schmidt, account=DE33 2004 1144 0199 9999 00, product=Deposit up to 100.000 EUR, amountFromAgreement=250000.00, amountFromAccount=250000.00, status=ACTIVE), AgreementDto(creationDate=2022-11-25T10:35:00, clientName=Lena Weber, account=DE45 7002 0270 0015 7695 53, product=Current account EUR, amountFromAgreement=153256.00, amountFromAccount=153256.00, status=ACTIVE)],[]>
END OF REQUEST
2023-11-05 12:51:46,348 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ClientControllerTest]: ClientControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:51:46,351 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ClientControllerTest
2023-11-05 12:51:46,359 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getAllClients
2023-11-05 12:51:46,359 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getAllClients
2023-11-05 12:51:46,364 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrae 17, D-80331 Mnchen, Germany, phone=+49 89 1234567), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrae 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), ClientDto(id=523e4567-e89b-12d3-a456-030000000005, firstName=Laura, lastName=Klein, email=laura.klein@gmail.com, address=Goetheplatz 5, D-60311 Frankfurt am Main, Germany, phone=+49 69 8765432)],[]>
END OF REQUEST
2023-11-05 12:51:46,378 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:51:46,382 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ManagerControllerTest
2023-11-05 12:51:46,410 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 12:51:46,410 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 12:51:46,435 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=John, lastName=Smith, status=WORKING)]. Manager creation error: Manager with ID 523e4567-e89b-12d3-a456-010000000001 already exists
2023-11-05 12:51:46,437 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-05 12:51:46,437 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@4a9a6f45,[]>
END OF REQUEST
2023-11-05 12:51:46,452 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:51:46,453 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:51:46,459 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-05 12:51:46,471 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagers
2023-11-05 12:51:46,472 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagers
2023-11-05 12:51:46,476 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000002, firstName=Carlos, lastName=Garcia, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000077, firstName=Anna, lastName=Lee, status=FIRED)],[]>
END OF REQUEST
2023-11-05 12:51:46,485 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 12:51:46,485 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 12:51:46,529 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-05 12:51:46,532 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-05 12:51:46,532 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-05 12:51:46,547 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-05 12:51:46,549 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:51:46,549 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:51:46,551 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000011]. Entity Manager with id 523e4567-e89b-12d3-a456-010000000011 is not found.
2023-11-05 12:51:46,551 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-05 12:51:46,551 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@4eda7a7e,[]>
END OF REQUEST
2023-11-05 12:51:46,556 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/get-all-by-clients-status/VIP
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagersByClientStatus
2023-11-05 12:51:46,556 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagersByClientStatus
2023-11-05 12:51:46,576 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING)],[]>
END OF REQUEST
2023-11-05 12:51:46,583 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 12:51:46,584 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 12:51:46,588 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-05 12:51:46,590 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:51:46,590 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:51:46,593 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-05 12:51:46,595 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-05 12:51:46,596 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-05 12:51:46,600 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-05 12:51:46,610 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-05 12:51:46,611 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-05 12:51:46,623 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-05 12:51:46,625 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:51:46,626 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:51:46,627 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=NewFirstName, lastName=NewLastName, status=WORKING),[]>
END OF REQUEST
2023-11-05 12:51:46,634 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:51:46,637 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ProductControllerTest
2023-11-05 12:51:46,646 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getAllProducts
2023-11-05 12:51:46,646 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getAllProducts
2023-11-05 12:51:46,651 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductDto(id=523e4567-e89b-12d3-a456-020000000001, name=Mortgage up to 200.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000002, name=Mortgage up to 500.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000003, name=Deposit up to 100.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000004, name=Current account EUR, status=ACTIVE, currencyCode=EUR)],[]>
END OF REQUEST
2023-11-05 12:51:46,726 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:51:46,871 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 12:51:46,872 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 12:52:31,796 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : Starting AgreementControllerTest using Java 19.0.2 with PID 33152 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 12:52:31,803 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 12:52:32,565 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:52:32,565 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 12:52:32,594 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:52:32,595 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:52:32,596 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:52:32,596 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:52:32,597 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:52:32,598 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-11-05 12:52:32,605 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:52:32,605 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 12:52:32,634 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 5 JPA repository interfaces.
2023-11-05 12:52:33,183 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 12:52:33,484 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 12:52:33,485 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 12:52:33,532 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 12:52:33,750 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:52:33,758 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 12:52:33,905 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 12:52:33,917 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 12:52:33,918 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:52:34,558 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 12:52:34,567 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:52:34,646 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:52:34,650 INFO  [main] liquibase.command : Using deploymentId: 9185154650
2023-11-05 12:52:34,653 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:52:34,756 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 12:52:34,765 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 12:52:34,768 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 12:52:34,772 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 12:52:34,776 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 12:52:34,782 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 12:52:34,799 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 12:52:34,801 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 10ms
2023-11-05 12:52:34,819 INFO  [main] liquibase.changelog : Table products created
2023-11-05 12:52:34,820 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 14ms
2023-11-05 12:52:34,829 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 12:52:34,830 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 6ms
2023-11-05 12:52:34,837 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 12:52:34,838 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 5ms
2023-11-05 12:52:34,847 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 12:52:34,847 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 7ms
2023-11-05 12:52:34,855 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 12:52:34,855 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 5ms
2023-11-05 12:52:34,863 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:52:34,864 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:52:34,865 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:52:34,866 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:52:34,866 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 6ms
2023-11-05 12:52:34,871 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:52:34,873 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:52:34,874 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:52:34,875 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:52:34,875 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 5ms
2023-11-05 12:52:34,882 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:52:34,883 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:52:34,883 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:52:34,884 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:52:34,885 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:52:34,885 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 5ms
2023-11-05 12:52:34,893 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:52:34,894 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:52:34,896 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:52:34,896 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:52:34,897 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:52:34,898 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:52:34,899 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:52:34,899 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 7ms
2023-11-05 12:52:34,905 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 12:52:34,906 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 12:52:34,908 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 12:52:34,908 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-insert_test_data_agreements-changelog.xml::insert test data into agreements table::n.kapinos ran successfully in 5ms
2023-11-05 12:52:34,912 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 12:52:34,913 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 12:52:34,914 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 12:52:34,914 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-insert_test_data_transactions-changelog.xml::insert test data into transactions table::n.kapinos ran successfully in 2ms
2023-11-05 12:52:34,920 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 12:52:34,920 INFO  [main] liquibase.util : Run:                         18
2023-11-05 12:52:34,920 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 12:52:34,920 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 12:52:34,920 INFO  [main] liquibase.util : -------------------------------
2023-11-05 12:52:34,920 INFO  [main] liquibase.util : Total change sets:           18

2023-11-05 12:52:34,922 INFO  [main] liquibase.util : Update summary generated
2023-11-05 12:52:34,924 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 12:52:34,926 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 12:52:34,926 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:52:35,135 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 12:52:35,314 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 12:52:35,317 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 12:52:35,430 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:52:35,520 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 12:52:35,736 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:52:36,269 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 12:52:36,271 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:52:37,186 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 12:52:38,781 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 12:52:39,931 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 12:52:39,984 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 12:52:39,984 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 12:52:39,986 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-05 12:52:40,034 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : Started AgreementControllerTest in 8.543 seconds (process running for 9.419)
2023-11-05 12:52:40,491 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AgreementController.getAllAgreements
2023-11-05 12:52:40,493 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AgreementServiceImpl.getAllAgreements
2023-11-05 12:52:40,579 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AgreementDto(creationDate=2023-01-20T10:35:00, clientName=Lukas Mller, account=DE89 3704 0044 0532 0130 00, product=Current account EUR, amountFromAgreement=0.00, amountFromAccount=5247.27, status=ACTIVE), AgreementDto(creationDate=2023-07-25T10:35:00, clientName=Markus Schmidt, account=DE33 2004 1144 0199 9999 00, product=Deposit up to 100.000 EUR, amountFromAgreement=250000.00, amountFromAccount=250000.00, status=ACTIVE), AgreementDto(creationDate=2022-11-25T10:35:00, clientName=Lena Weber, account=DE45 7002 0270 0015 7695 53, product=Current account EUR, amountFromAgreement=153256.00, amountFromAccount=153256.00, status=ACTIVE)],[]>
END OF REQUEST
2023-11-05 12:52:40,648 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:52:40,650 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 12:52:40,652 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 12:53:19,639 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 36700 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 12:53:19,652 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 12:53:20,786 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:53:20,788 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 12:53:20,825 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:53:20,826 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:53:20,827 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:53:20,828 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:53:20,829 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:53:20,830 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 0 JDBC repository interfaces.
2023-11-05 12:53:20,841 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:53:20,843 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 12:53:20,883 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 5 JPA repository interfaces.
2023-11-05 12:53:21,611 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 12:53:22,192 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 12:53:22,196 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 12:53:22,299 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 12:53:22,583 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:53:22,592 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 12:53:22,799 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 12:53:22,809 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 12:53:22,810 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:53:23,430 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 12:53:23,437 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:53:23,505 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:53:23,510 INFO  [main] liquibase.command : Using deploymentId: 9185203510
2023-11-05 12:53:23,512 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:53:23,605 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 12:53:23,616 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 12:53:23,620 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 12:53:23,622 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 12:53:23,626 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 12:53:23,629 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 12:53:23,641 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 12:53:23,642 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 11ms
2023-11-05 12:53:23,657 INFO  [main] liquibase.changelog : Table products created
2023-11-05 12:53:23,657 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 12ms
2023-11-05 12:53:23,669 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 12:53:23,670 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 9ms
2023-11-05 12:53:23,681 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 12:53:23,682 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 8ms
2023-11-05 12:53:23,695 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 12:53:23,695 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 8ms
2023-11-05 12:53:23,705 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 12:53:23,706 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 7ms
2023-11-05 12:53:23,714 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:53:23,716 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:53:23,717 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:53:23,718 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:53:23,718 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 7ms
2023-11-05 12:53:23,723 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:53:23,724 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:53:23,725 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:53:23,726 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:53:23,727 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 5ms
2023-11-05 12:53:23,735 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:53:23,737 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:53:23,739 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:53:23,742 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:53:23,744 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:53:23,745 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 12ms
2023-11-05 12:53:23,788 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:53:23,792 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:53:23,793 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:53:23,794 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:53:23,795 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:53:23,796 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:53:23,798 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:53:23,798 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 11ms
2023-11-05 12:53:23,803 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 12:53:23,804 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 12:53:23,805 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 12:53:23,806 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-insert_test_data_agreements-changelog.xml::insert test data into agreements table::n.kapinos ran successfully in 4ms
2023-11-05 12:53:23,810 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 12:53:23,811 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 12:53:23,812 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 12:53:23,812 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-insert_test_data_transactions-changelog.xml::insert test data into transactions table::n.kapinos ran successfully in 3ms
2023-11-05 12:53:23,817 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 12:53:23,817 INFO  [main] liquibase.util : Run:                         18
2023-11-05 12:53:23,818 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 12:53:23,818 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 12:53:23,818 INFO  [main] liquibase.util : -------------------------------
2023-11-05 12:53:23,818 INFO  [main] liquibase.util : Total change sets:           18

2023-11-05 12:53:23,820 INFO  [main] liquibase.util : Update summary generated
2023-11-05 12:53:23,822 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 12:53:23,825 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 12:53:23,826 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:53:24,067 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 12:53:24,133 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 12:53:24,135 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 12:53:24,328 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:53:24,503 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 12:53:24,961 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:53:25,759 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 12:53:25,762 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:53:26,600 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 12:53:28,361 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 12:53:29,483 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 12:53:29,529 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 12:53:29,530 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 12:53:29,530 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 0 ms
2023-11-05 12:53:29,555 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 10.417 seconds (process running for 12.081)
2023-11-05 12:53:30,136 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAllAccounts
2023-11-05 12:53:30,136 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAllAccounts
2023-11-05 12:53:30,267 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000001, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE89 3704 0044 0532 0130 00, type=CURRENT, status=ACTIVE, balance=5247.27, currencyCode=EUR, createdAt=2023-01-20T10:35:00, updatedAt=2023-10-05T12:02:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000002, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE12 1001 1001 2620 6568 90, type=CURRENT, status=ACTIVE, balance=2503.50, currencyCode=EUR, createdAt=2023-04-17T10:35:00, updatedAt=2023-10-05T12:02:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=ACTIVE, balance=10000.30, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000004, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrae 17, D-80331 Mnchen, Germany, phone=+49 89 1234567), name=DE33 2004 1144 0199 9999 00, type=DEPOSIT, status=ACTIVE, balance=250000.00, currencyCode=EUR, createdAt=2023-07-25T10:35:00, updatedAt=2023-08-08T14:23:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000005, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), name=DE45 7002 0270 0015 7695 53, type=CURRENT, status=ACTIVE, balance=153256.00, currencyCode=EUR, createdAt=2022-11-25T10:35:00, updatedAt=2023-03-20T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=ACTIVE, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000007, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrae 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), name=DE16 3706 0193 6001 2345 67, type=CURRENT, status=ACTIVE, balance=5151.15, currencyCode=EUR, createdAt=2023-02-14T10:35:00, updatedAt=2023-08-08T14:23:00)],[]>
END OF REQUEST
2023-11-05 12:53:30,365 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:53:30,369 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.AgreementControllerTest
2023-11-05 12:53:30,374 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AgreementController.getAllAgreements
2023-11-05 12:53:30,375 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AgreementServiceImpl.getAllAgreements
2023-11-05 12:53:30,396 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AgreementDto(creationDate=2023-01-20T10:35:00, clientName=Lukas Mller, account=DE89 3704 0044 0532 0130 00, product=Current account EUR, amountFromAgreement=0.00, amountFromAccount=5247.27, status=ACTIVE), AgreementDto(creationDate=2023-07-25T10:35:00, clientName=Markus Schmidt, account=DE33 2004 1144 0199 9999 00, product=Deposit up to 100.000 EUR, amountFromAgreement=250000.00, amountFromAccount=250000.00, status=ACTIVE), AgreementDto(creationDate=2022-11-25T10:35:00, clientName=Lena Weber, account=DE45 7002 0270 0015 7695 53, product=Current account EUR, amountFromAgreement=153256.00, amountFromAccount=153256.00, status=ACTIVE)],[]>
END OF REQUEST
2023-11-05 12:53:30,413 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ClientControllerTest]: ClientControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:53:30,416 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ClientControllerTest
2023-11-05 12:53:30,424 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getAllClients
2023-11-05 12:53:30,425 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getAllClients
2023-11-05 12:53:30,433 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrae 17, D-80331 Mnchen, Germany, phone=+49 89 1234567), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrae 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), ClientDto(id=523e4567-e89b-12d3-a456-030000000005, firstName=Laura, lastName=Klein, email=laura.klein@gmail.com, address=Goetheplatz 5, D-60311 Frankfurt am Main, Germany, phone=+49 69 8765432)],[]>
END OF REQUEST
2023-11-05 12:53:30,447 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:53:30,451 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ManagerControllerTest
2023-11-05 12:53:30,481 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 12:53:30,481 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 12:53:30,506 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=John, lastName=Smith, status=WORKING)]. Manager creation error: Manager with ID 523e4567-e89b-12d3-a456-010000000001 already exists
2023-11-05 12:53:30,508 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-05 12:53:30,508 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@73be33f9,[]>
END OF REQUEST
2023-11-05 12:53:30,515 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:53:30,515 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:53:30,522 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-05 12:53:30,528 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagers
2023-11-05 12:53:30,528 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagers
2023-11-05 12:53:30,532 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000002, firstName=Carlos, lastName=Garcia, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000077, firstName=Anna, lastName=Lee, status=FIRED)],[]>
END OF REQUEST
2023-11-05 12:53:30,542 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 12:53:30,543 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 12:53:30,589 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-05 12:53:30,591 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-05 12:53:30,591 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-05 12:53:30,604 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-05 12:53:30,605 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:53:30,605 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:53:30,606 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000011]. Entity Manager with id 523e4567-e89b-12d3-a456-010000000011 is not found.
2023-11-05 12:53:30,606 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-05 12:53:30,606 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@4be655fa,[]>
END OF REQUEST
2023-11-05 12:53:30,611 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/get-all-by-clients-status/VIP
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagersByClientStatus
2023-11-05 12:53:30,612 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagersByClientStatus
2023-11-05 12:53:30,629 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING)],[]>
END OF REQUEST
2023-11-05 12:53:30,635 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 12:53:30,635 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 12:53:30,638 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-05 12:53:30,639 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:53:30,640 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:53:30,641 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-05 12:53:30,642 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-05 12:53:30,642 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-05 12:53:30,646 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-05 12:53:30,654 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-05 12:53:30,654 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-05 12:53:30,670 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-05 12:53:30,672 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 12:53:30,672 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 12:53:30,674 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=NewFirstName, lastName=NewLastName, status=WORKING),[]>
END OF REQUEST
2023-11-05 12:53:30,680 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 12:53:30,683 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ProductControllerTest
2023-11-05 12:53:30,693 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getAllProducts
2023-11-05 12:53:30,694 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getAllProducts
2023-11-05 12:53:30,699 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductDto(id=523e4567-e89b-12d3-a456-020000000001, name=Mortgage up to 200.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000002, name=Mortgage up to 500.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000003, name=Deposit up to 100.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000004, name=Current account EUR, status=ACTIVE, currencyCode=EUR)],[]>
END OF REQUEST
2023-11-05 12:53:30,785 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:53:30,928 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 12:53:30,930 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 12:53:47,820 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : Starting AgreementControllerTest using Java 19.0.2 with PID 10472 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 12:53:47,829 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 12:53:48,557 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:53:48,558 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 12:53:48,587 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:53:48,589 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:53:48,590 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:53:48,591 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:53:48,592 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 12:53:48,593 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 0 JDBC repository interfaces.
2023-11-05 12:53:48,601 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 12:53:48,602 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 12:53:48,631 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 5 JPA repository interfaces.
2023-11-05 12:53:49,198 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 12:53:49,503 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 12:53:49,504 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 12:53:49,555 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 12:53:49,749 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:53:49,753 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 12:53:49,919 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 12:53:49,933 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 12:53:49,934 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:53:50,520 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 12:53:50,529 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:53:50,600 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 12:53:50,600 INFO  [main] liquibase.command : Using deploymentId: 9185230600
2023-11-05 12:53:50,600 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 12:53:50,726 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 12:53:50,726 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 12:53:50,726 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 12:53:50,726 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 12:53:50,742 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 12:53:50,742 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 12:53:50,758 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 12:53:50,758 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 16ms
2023-11-05 12:53:50,774 INFO  [main] liquibase.changelog : Table products created
2023-11-05 12:53:50,774 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 16ms
2023-11-05 12:53:50,774 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 12:53:50,774 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 0ms
2023-11-05 12:53:50,789 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 12:53:50,789 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 15ms
2023-11-05 12:53:50,789 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 12:53:50,789 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 0ms
2023-11-05 12:53:50,805 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 12:53:50,805 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 0ms
2023-11-05 12:53:50,805 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:53:50,805 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:53:50,805 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:53:50,821 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 12:53:50,821 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 16ms
2023-11-05 12:53:50,821 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:53:50,821 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:53:50,821 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:53:50,821 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 12:53:50,821 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 0ms
2023-11-05 12:53:50,836 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:53:50,836 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:53:50,836 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:53:50,836 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:53:50,836 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 12:53:50,836 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 0ms
2023-11-05 12:53:50,853 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:53:50,853 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:53:50,853 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:53:50,853 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:53:50,853 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:53:50,853 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:53:50,853 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 12:53:50,853 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 1ms
2023-11-05 12:53:50,858 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 12:53:50,858 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 12:53:50,858 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 12:53:50,858 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-insert_test_data_agreements-changelog.xml::insert test data into agreements table::n.kapinos ran successfully in 0ms
2023-11-05 12:53:50,858 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 12:53:50,868 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 12:53:50,868 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 12:53:50,868 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-insert_test_data_transactions-changelog.xml::insert test data into transactions table::n.kapinos ran successfully in 10ms
2023-11-05 12:53:50,868 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 12:53:50,868 INFO  [main] liquibase.util : Run:                         18
2023-11-05 12:53:50,868 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 12:53:50,868 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 12:53:50,868 INFO  [main] liquibase.util : -------------------------------
2023-11-05 12:53:50,868 INFO  [main] liquibase.util : Total change sets:           18

2023-11-05 12:53:50,868 INFO  [main] liquibase.util : Update summary generated
2023-11-05 12:53:50,868 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 12:53:50,868 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 12:53:50,868 INFO  [main] liquibase.command : Command execution complete
2023-11-05 12:53:51,113 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 12:53:51,302 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 12:53:51,317 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 12:53:51,461 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:53:51,566 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 12:53:51,824 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 12:53:52,334 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 12:53:52,334 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:53:53,224 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 12:53:54,838 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 12:53:56,034 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 12:53:56,113 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 12:53:56,113 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 12:53:56,113 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 0 ms
2023-11-05 12:53:56,144 INFO  [main] de.telran.bankapp.controller.AgreementControllerTest : Started AgreementControllerTest in 8.649 seconds (process running for 9.543)
2023-11-05 12:53:56,620 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AgreementController.getAllAgreements
2023-11-05 12:53:56,620 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AgreementServiceImpl.getAllAgreements
2023-11-05 12:53:56,714 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AgreementDto(creationDate=2023-01-20T10:35:00, clientName=Lukas Mller, account=DE89 3704 0044 0532 0130 00, product=Current account EUR, amountFromAgreement=0.00, amountFromAccount=5247.27, status=ACTIVE), AgreementDto(creationDate=2023-07-25T10:35:00, clientName=Markus Schmidt, account=DE33 2004 1144 0199 9999 00, product=Deposit up to 100.000 EUR, amountFromAgreement=250000.00, amountFromAccount=250000.00, status=ACTIVE), AgreementDto(creationDate=2022-11-25T10:35:00, clientName=Lena Weber, account=DE45 7002 0270 0015 7695 53, product=Current account EUR, amountFromAgreement=153256.00, amountFromAccount=153256.00, status=ACTIVE)],[]>
END OF REQUEST
2023-11-05 12:53:56,793 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 12:53:56,793 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 12:53:56,824 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 13:48:54,537 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 21988 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 13:48:54,545 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 13:48:55,335 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 13:48:55,337 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 13:48:55,370 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 13:48:55,371 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 13:48:55,372 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 13:48:55,373 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 13:48:55,374 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 13:48:55,374 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 0 JDBC repository interfaces.
2023-11-05 13:48:55,382 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 13:48:55,382 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 13:48:55,420 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 5 JPA repository interfaces.
2023-11-05 13:48:56,094 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 13:48:56,455 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 13:48:56,456 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 13:48:56,512 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 13:48:56,748 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 13:48:56,755 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 13:48:56,904 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 13:48:56,915 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 13:48:56,917 INFO  [main] liquibase.command : Command execution complete
2023-11-05 13:48:57,525 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 13:48:57,537 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 13:48:57,644 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 13:48:57,649 INFO  [main] liquibase.command : Using deploymentId: 9188537648
2023-11-05 13:48:57,651 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 13:48:57,759 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 13:48:57,773 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 13:48:57,777 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 13:48:57,780 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 13:48:57,785 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 13:48:57,788 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 13:48:57,799 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 13:48:57,801 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 10ms
2023-11-05 13:48:57,815 INFO  [main] liquibase.changelog : Table products created
2023-11-05 13:48:57,815 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 11ms
2023-11-05 13:48:57,822 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 13:48:57,822 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 4ms
2023-11-05 13:48:57,828 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 13:48:57,828 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 4ms
2023-11-05 13:48:57,835 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 13:48:57,835 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 5ms
2023-11-05 13:48:57,841 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 13:48:57,841 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 4ms
2023-11-05 13:48:57,847 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 13:48:57,848 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 13:48:57,849 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 13:48:57,849 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 13:48:57,849 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 5ms
2023-11-05 13:48:57,853 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 13:48:57,854 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 13:48:57,855 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 13:48:57,856 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 13:48:57,856 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 4ms
2023-11-05 13:48:57,862 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 13:48:57,862 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 13:48:57,863 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 13:48:57,864 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 13:48:57,864 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 13:48:57,865 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 3ms
2023-11-05 13:48:57,870 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:48:57,871 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:48:57,872 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:48:57,873 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:48:57,873 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:48:57,874 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:48:57,875 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:48:57,875 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 6ms
2023-11-05 13:48:57,878 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 13:48:57,879 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 13:48:57,880 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 13:48:57,880 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-insert_test_data_agreements-changelog.xml::insert test data into agreements table::n.kapinos ran successfully in 2ms
2023-11-05 13:48:57,883 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 13:48:57,884 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 13:48:57,885 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 13:48:57,885 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-insert_test_data_transactions-changelog.xml::insert test data into transactions table::n.kapinos ran successfully in 2ms
2023-11-05 13:48:57,896 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 13:48:57,896 INFO  [main] liquibase.util : Run:                         18
2023-11-05 13:48:57,896 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 13:48:57,896 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 13:48:57,897 INFO  [main] liquibase.util : -------------------------------
2023-11-05 13:48:57,897 INFO  [main] liquibase.util : Total change sets:           18

2023-11-05 13:48:57,898 INFO  [main] liquibase.util : Update summary generated
2023-11-05 13:48:57,901 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 13:48:57,903 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 13:48:57,904 INFO  [main] liquibase.command : Command execution complete
2023-11-05 13:48:58,261 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 13:48:58,387 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 13:48:58,389 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 13:48:58,541 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 13:48:58,661 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 13:48:58,934 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 13:48:59,517 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 13:48:59,520 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 13:49:00,436 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 13:49:02,036 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 13:49:03,413 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 13:49:03,475 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 13:49:03,479 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 13:49:03,479 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 0 ms
2023-11-05 13:49:03,536 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 9.309 seconds (process running for 10.288)
2023-11-05 13:49:04,105 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 13:49:04,107 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 13:49:04,128 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 13:50:49,893 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 23488 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 13:50:49,902 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 13:50:50,698 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 13:50:50,699 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 13:50:50,731 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 13:50:50,731 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 13:50:50,731 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 13:50:50,733 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 13:50:50,733 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 13:50:50,735 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 0 JDBC repository interfaces.
2023-11-05 13:50:50,742 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 13:50:50,744 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 13:50:50,782 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 5 JPA repository interfaces.
2023-11-05 13:50:51,440 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 13:50:51,796 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 13:50:51,797 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 13:50:51,843 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 13:50:52,104 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 13:50:52,110 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 13:50:52,282 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 13:50:52,291 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 13:50:52,292 INFO  [main] liquibase.command : Command execution complete
2023-11-05 13:50:52,940 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 13:50:52,950 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 13:50:53,027 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 13:50:53,033 INFO  [main] liquibase.command : Using deploymentId: 9188653032
2023-11-05 13:50:53,035 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 13:50:53,140 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 13:50:53,150 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 13:50:53,153 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 13:50:53,156 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 13:50:53,160 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 13:50:53,164 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 13:50:53,176 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 13:50:53,178 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 11ms
2023-11-05 13:50:53,194 INFO  [main] liquibase.changelog : Table products created
2023-11-05 13:50:53,194 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 12ms
2023-11-05 13:50:53,205 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 13:50:53,206 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 7ms
2023-11-05 13:50:53,217 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 13:50:53,218 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 6ms
2023-11-05 13:50:53,228 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 13:50:53,229 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 8ms
2023-11-05 13:50:53,236 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 13:50:53,236 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 5ms
2023-11-05 13:50:53,242 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 13:50:53,243 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 13:50:53,244 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 13:50:53,245 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 13:50:53,245 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 6ms
2023-11-05 13:50:53,250 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 13:50:53,251 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 13:50:53,251 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 13:50:53,252 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 13:50:53,252 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 3ms
2023-11-05 13:50:53,259 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 13:50:53,260 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 13:50:53,261 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 13:50:53,261 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 13:50:53,262 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 13:50:53,262 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 4ms
2023-11-05 13:50:53,268 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:50:53,269 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:50:53,269 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:50:53,270 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:50:53,271 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:50:53,271 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:50:53,272 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:50:53,272 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 5ms
2023-11-05 13:50:53,276 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 13:50:53,277 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 13:50:53,278 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 13:50:53,278 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-insert_test_data_agreements-changelog.xml::insert test data into agreements table::n.kapinos ran successfully in 3ms
2023-11-05 13:50:53,282 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 13:50:53,283 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 13:50:53,283 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 13:50:53,283 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-insert_test_data_transactions-changelog.xml::insert test data into transactions table::n.kapinos ran successfully in 2ms
2023-11-05 13:50:53,293 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 13:50:53,294 INFO  [main] liquibase.util : Run:                         18
2023-11-05 13:50:53,294 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 13:50:53,294 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 13:50:53,294 INFO  [main] liquibase.util : -------------------------------
2023-11-05 13:50:53,294 INFO  [main] liquibase.util : Total change sets:           18

2023-11-05 13:50:53,296 INFO  [main] liquibase.util : Update summary generated
2023-11-05 13:50:53,300 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 13:50:53,302 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 13:50:53,302 INFO  [main] liquibase.command : Command execution complete
2023-11-05 13:50:53,650 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 13:50:53,927 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 13:50:53,930 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 13:50:54,027 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 13:50:54,178 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 13:50:54,470 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 13:50:55,050 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 13:50:55,052 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 13:50:55,988 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 13:50:57,762 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 13:50:59,436 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 13:50:59,510 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 13:50:59,510 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 13:50:59,511 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-05 13:50:59,574 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 10.005 seconds (process running for 10.951)
2023-11-05 13:51:00,198 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-05 13:51:00,198 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-05 13:51:00,277 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-05 13:51:00,327 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/delete-accounts-without-transactions-and-created-earlier-than
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-05 13:51:00,327 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-05 13:51:00,394 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-05 13:51:00,398 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-05 13:51:00,398 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-05 13:51:00,401 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00)],[]>
END OF REQUEST
2023-11-05 13:51:00,446 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 13:51:00,448 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 13:51:00,489 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 13:52:04,455 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 27080 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 13:52:04,464 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 13:52:05,229 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 13:52:05,230 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 13:52:05,267 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 13:52:05,268 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 13:52:05,269 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 13:52:05,271 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 13:52:05,273 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 13:52:05,273 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 0 JDBC repository interfaces.
2023-11-05 13:52:05,282 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 13:52:05,283 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 13:52:05,317 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 5 JPA repository interfaces.
2023-11-05 13:52:05,998 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 13:52:06,344 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 13:52:06,346 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 13:52:06,406 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 13:52:06,613 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 13:52:06,618 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 13:52:06,796 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 13:52:06,804 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 13:52:06,806 INFO  [main] liquibase.command : Command execution complete
2023-11-05 13:52:07,448 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 13:52:07,457 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 13:52:07,544 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 13:52:07,549 INFO  [main] liquibase.command : Using deploymentId: 9188727549
2023-11-05 13:52:07,552 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 13:52:07,656 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 13:52:07,667 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 13:52:07,671 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 13:52:07,675 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 13:52:07,680 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 13:52:07,684 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 13:52:07,697 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 13:52:07,699 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 12ms
2023-11-05 13:52:07,715 INFO  [main] liquibase.changelog : Table products created
2023-11-05 13:52:07,715 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 11ms
2023-11-05 13:52:07,726 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 13:52:07,726 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 6ms
2023-11-05 13:52:07,733 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 13:52:07,734 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 5ms
2023-11-05 13:52:07,742 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 13:52:07,743 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 7ms
2023-11-05 13:52:07,752 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 13:52:07,752 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 5ms
2023-11-05 13:52:07,758 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 13:52:07,759 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 13:52:07,760 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 13:52:07,760 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 13:52:07,760 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 5ms
2023-11-05 13:52:07,766 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 13:52:07,767 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 13:52:07,768 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 13:52:07,768 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 13:52:07,769 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 4ms
2023-11-05 13:52:07,775 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 13:52:07,776 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 13:52:07,777 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 13:52:07,778 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 13:52:07,779 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 13:52:07,779 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 5ms
2023-11-05 13:52:07,786 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:52:07,787 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:52:07,788 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:52:07,789 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:52:07,789 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:52:07,790 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:52:07,791 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:52:07,791 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 6ms
2023-11-05 13:52:07,795 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 13:52:07,796 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 13:52:07,797 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 13:52:07,797 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-insert_test_data_agreements-changelog.xml::insert test data into agreements table::n.kapinos ran successfully in 3ms
2023-11-05 13:52:07,800 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 13:52:07,801 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 13:52:07,801 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 13:52:07,802 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-insert_test_data_transactions-changelog.xml::insert test data into transactions table::n.kapinos ran successfully in 2ms
2023-11-05 13:52:07,811 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 13:52:07,811 INFO  [main] liquibase.util : Run:                         18
2023-11-05 13:52:07,811 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 13:52:07,811 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 13:52:07,811 INFO  [main] liquibase.util : -------------------------------
2023-11-05 13:52:07,811 INFO  [main] liquibase.util : Total change sets:           18

2023-11-05 13:52:07,813 INFO  [main] liquibase.util : Update summary generated
2023-11-05 13:52:07,818 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 13:52:07,820 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 13:52:07,820 INFO  [main] liquibase.command : Command execution complete
2023-11-05 13:52:08,197 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 13:52:08,370 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 13:52:08,378 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 13:52:08,606 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 13:52:08,733 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 13:52:08,985 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 13:52:09,572 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 13:52:09,574 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 13:52:10,580 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 13:52:12,417 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 13:52:13,918 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 13:52:13,983 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 13:52:13,983 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 13:52:13,984 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-05 13:52:14,048 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 9.915 seconds (process running for 10.802)
2023-11-05 13:52:14,604 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-05 13:52:14,604 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-05 13:52:14,676 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-05 13:52:14,722 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/delete-accounts-without-transactions-and-created-earlier-than
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-05 13:52:14,723 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-05 13:52:14,787 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-05 13:52:14,791 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-05 13:52:14,792 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-05 13:52:14,795 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00)],[]>
END OF REQUEST
2023-11-05 13:52:14,848 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 13:52:14,851 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 13:52:14,852 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 13:59:17,462 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 23940 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 13:59:17,473 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 13:59:18,407 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 13:59:18,407 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 13:59:18,452 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 13:59:18,453 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 13:59:18,454 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 13:59:18,455 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 13:59:18,456 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 13:59:18,456 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 0 JDBC repository interfaces.
2023-11-05 13:59:18,465 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 13:59:18,465 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 13:59:18,511 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 5 JPA repository interfaces.
2023-11-05 13:59:19,266 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 13:59:19,620 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 13:59:19,621 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 13:59:19,681 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 13:59:19,897 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 13:59:19,902 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 13:59:20,072 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 13:59:20,083 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 13:59:20,085 INFO  [main] liquibase.command : Command execution complete
2023-11-05 13:59:20,711 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 13:59:20,718 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 13:59:20,808 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 13:59:20,815 INFO  [main] liquibase.command : Using deploymentId: 9189160815
2023-11-05 13:59:20,818 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 13:59:20,931 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 13:59:20,942 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 13:59:20,946 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 13:59:20,951 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 13:59:20,955 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 13:59:20,960 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 13:59:20,974 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 13:59:20,976 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 12ms
2023-11-05 13:59:20,990 INFO  [main] liquibase.changelog : Table products created
2023-11-05 13:59:20,990 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 11ms
2023-11-05 13:59:20,999 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 13:59:20,999 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 6ms
2023-11-05 13:59:21,008 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 13:59:21,009 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 6ms
2023-11-05 13:59:21,018 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 13:59:21,018 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 6ms
2023-11-05 13:59:21,028 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 13:59:21,029 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 6ms
2023-11-05 13:59:21,034 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 13:59:21,036 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 13:59:21,037 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 13:59:21,037 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 13:59:21,038 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 6ms
2023-11-05 13:59:21,044 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 13:59:21,045 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 13:59:21,046 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 13:59:21,047 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 13:59:21,047 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 4ms
2023-11-05 13:59:21,054 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 13:59:21,056 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 13:59:21,057 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 13:59:21,058 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 13:59:21,059 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 13:59:21,059 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 6ms
2023-11-05 13:59:21,068 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:59:21,071 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:59:21,072 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:59:21,075 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:59:21,076 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:59:21,076 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:59:21,077 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 13:59:21,078 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 12ms
2023-11-05 13:59:21,082 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 13:59:21,083 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 13:59:21,084 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 13:59:21,084 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-insert_test_data_agreements-changelog.xml::insert test data into agreements table::n.kapinos ran successfully in 4ms
2023-11-05 13:59:21,087 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 13:59:21,088 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 13:59:21,089 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 13:59:21,089 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-insert_test_data_transactions-changelog.xml::insert test data into transactions table::n.kapinos ran successfully in 3ms
2023-11-05 13:59:21,099 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 13:59:21,099 INFO  [main] liquibase.util : Run:                         18
2023-11-05 13:59:21,099 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 13:59:21,099 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 13:59:21,099 INFO  [main] liquibase.util : -------------------------------
2023-11-05 13:59:21,099 INFO  [main] liquibase.util : Total change sets:           18

2023-11-05 13:59:21,101 INFO  [main] liquibase.util : Update summary generated
2023-11-05 13:59:21,105 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 13:59:21,107 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 13:59:21,107 INFO  [main] liquibase.command : Command execution complete
2023-11-05 13:59:21,505 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 13:59:21,769 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 13:59:21,774 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 13:59:21,882 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 13:59:22,021 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 13:59:22,305 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 13:59:22,916 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 13:59:22,918 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 13:59:23,949 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 13:59:25,842 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 13:59:27,220 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 13:59:27,286 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 13:59:27,287 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 13:59:27,288 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 0 ms
2023-11-05 13:59:27,350 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 10.278 seconds (process running for 11.372)
2023-11-05 13:59:28,136 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-05 13:59:28,137 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-05 13:59:28,206 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-05 13:59:28,249 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/delete-accounts-without-transactions-and-created-earlier-than
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-05 13:59:28,250 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-05 13:59:28,309 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-05 13:59:28,314 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-05 13:59:28,314 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-05 13:59:28,317 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00)],[]>
END OF REQUEST
2023-11-05 13:59:28,369 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 13:59:28,371 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 13:59:28,373 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 14:02:21,348 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 24968 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 14:02:21,356 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 14:02:22,148 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 14:02:22,149 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 14:02:22,182 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:02:22,183 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:02:22,184 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:02:22,186 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:02:22,187 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:02:22,187 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 0 JDBC repository interfaces.
2023-11-05 14:02:22,195 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 14:02:22,195 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 14:02:22,233 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 5 JPA repository interfaces.
2023-11-05 14:02:22,847 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 14:02:23,179 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 14:02:23,180 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 14:02:23,251 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 14:02:23,473 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 14:02:23,478 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 14:02:23,630 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 14:02:23,637 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 14:02:23,638 INFO  [main] liquibase.command : Command execution complete
2023-11-05 14:02:24,228 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 14:02:24,237 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 14:02:24,317 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 14:02:24,321 INFO  [main] liquibase.command : Using deploymentId: 9189344321
2023-11-05 14:02:24,324 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 14:02:24,427 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 14:02:24,437 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 14:02:24,440 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 14:02:24,443 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 14:02:24,447 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 14:02:24,451 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 14:02:24,464 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 14:02:24,466 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 11ms
2023-11-05 14:02:24,482 INFO  [main] liquibase.changelog : Table products created
2023-11-05 14:02:24,483 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 13ms
2023-11-05 14:02:24,494 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 14:02:24,494 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 7ms
2023-11-05 14:02:24,508 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 14:02:24,508 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 8ms
2023-11-05 14:02:24,521 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 14:02:24,521 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 9ms
2023-11-05 14:02:24,533 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 14:02:24,534 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 10ms
2023-11-05 14:02:24,542 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:02:24,543 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:02:24,544 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:02:24,544 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:02:24,545 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 7ms
2023-11-05 14:02:24,551 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:02:24,552 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:02:24,553 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:02:24,553 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:02:24,554 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 5ms
2023-11-05 14:02:24,561 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:02:24,561 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:02:24,562 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:02:24,563 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:02:24,564 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:02:24,564 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 4ms
2023-11-05 14:02:24,570 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:02:24,571 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:02:24,571 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:02:24,572 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:02:24,573 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:02:24,573 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:02:24,574 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:02:24,574 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 5ms
2023-11-05 14:02:24,579 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:02:24,580 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:02:24,580 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:02:24,581 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-insert_test_data_agreements-changelog.xml::insert test data into agreements table::n.kapinos ran successfully in 2ms
2023-11-05 14:02:24,584 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:02:24,585 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:02:24,585 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:02:24,585 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-insert_test_data_transactions-changelog.xml::insert test data into transactions table::n.kapinos ran successfully in 2ms
2023-11-05 14:02:24,594 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 14:02:24,594 INFO  [main] liquibase.util : Run:                         18
2023-11-05 14:02:24,594 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 14:02:24,594 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 14:02:24,594 INFO  [main] liquibase.util : -------------------------------
2023-11-05 14:02:24,594 INFO  [main] liquibase.util : Total change sets:           18

2023-11-05 14:02:24,596 INFO  [main] liquibase.util : Update summary generated
2023-11-05 14:02:24,602 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 14:02:24,604 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 14:02:24,604 INFO  [main] liquibase.command : Command execution complete
2023-11-05 14:02:24,985 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 14:02:25,268 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 14:02:25,273 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 14:02:25,413 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 14:02:25,549 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 14:02:25,806 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 14:02:26,377 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 14:02:26,379 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 14:02:27,300 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 14:02:29,157 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 14:02:30,493 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 14:02:30,576 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 14:02:30,576 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 14:02:30,577 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-05 14:02:30,637 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 9.633 seconds (process running for 10.554)
2023-11-05 14:02:31,246 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-05 14:02:31,246 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-05 14:02:31,310 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-05 14:02:31,358 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/delete-accounts-without-transactions-and-created-earlier-than
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-05 14:02:31,358 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-05 14:02:31,439 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-05 14:02:31,446 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-05 14:02:31,446 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-05 14:02:31,448 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00)],[]>
END OF REQUEST
2023-11-05 14:02:31,525 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 14:02:31,527 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 14:02:31,529 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 14:03:19,759 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 28812 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 14:03:19,767 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 14:03:20,631 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 14:03:20,632 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 14:03:20,663 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:03:20,664 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:03:20,665 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:03:20,666 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:03:20,667 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:03:20,668 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 0 JDBC repository interfaces.
2023-11-05 14:03:20,678 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 14:03:20,679 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 14:03:20,720 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 5 JPA repository interfaces.
2023-11-05 14:03:21,431 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 14:03:21,893 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 14:03:21,895 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 14:03:21,955 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 14:03:22,218 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 14:03:22,224 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 14:03:22,380 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 14:03:22,393 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 14:03:22,394 INFO  [main] liquibase.command : Command execution complete
2023-11-05 14:03:23,074 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 14:03:23,084 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 14:03:23,172 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 14:03:23,177 INFO  [main] liquibase.command : Using deploymentId: 9189403177
2023-11-05 14:03:23,181 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 14:03:23,317 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 14:03:23,331 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 14:03:23,333 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 14:03:23,337 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 14:03:23,341 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 14:03:23,344 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 14:03:23,357 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 14:03:23,360 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 14ms
2023-11-05 14:03:23,376 INFO  [main] liquibase.changelog : Table products created
2023-11-05 14:03:23,376 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 14ms
2023-11-05 14:03:23,384 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 14:03:23,385 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 6ms
2023-11-05 14:03:23,397 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 14:03:23,398 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 11ms
2023-11-05 14:03:23,405 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 14:03:23,406 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 5ms
2023-11-05 14:03:23,412 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 14:03:23,412 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 5ms
2023-11-05 14:03:23,418 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:03:23,419 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:03:23,420 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:03:23,420 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:03:23,421 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 6ms
2023-11-05 14:03:23,425 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:03:23,426 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:03:23,427 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:03:23,428 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:03:23,428 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 3ms
2023-11-05 14:03:23,435 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:03:23,436 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:03:23,436 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:03:23,437 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:03:23,438 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:03:23,438 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 4ms
2023-11-05 14:03:23,445 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:03:23,446 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:03:23,447 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:03:23,447 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:03:23,448 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:03:23,448 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:03:23,449 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:03:23,449 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 6ms
2023-11-05 14:03:23,453 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:03:23,454 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:03:23,456 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:03:23,456 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-insert_test_data_agreements-changelog.xml::insert test data into agreements table::n.kapinos ran successfully in 4ms
2023-11-05 14:03:23,460 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:03:23,461 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:03:23,462 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:03:23,462 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-insert_test_data_transactions-changelog.xml::insert test data into transactions table::n.kapinos ran successfully in 3ms
2023-11-05 14:03:23,473 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 14:03:23,473 INFO  [main] liquibase.util : Run:                         18
2023-11-05 14:03:23,473 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 14:03:23,473 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 14:03:23,473 INFO  [main] liquibase.util : -------------------------------
2023-11-05 14:03:23,473 INFO  [main] liquibase.util : Total change sets:           18

2023-11-05 14:03:23,476 INFO  [main] liquibase.util : Update summary generated
2023-11-05 14:03:23,480 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 14:03:23,483 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 14:03:23,483 INFO  [main] liquibase.command : Command execution complete
2023-11-05 14:03:23,801 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 14:03:23,878 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 14:03:23,880 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 14:03:24,010 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 14:03:24,138 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 14:03:24,500 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 14:03:25,227 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 14:03:25,230 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 14:03:26,622 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 14:03:28,920 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 14:03:30,496 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 14:03:30,572 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 14:03:30,572 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 14:03:30,573 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 0 ms
2023-11-05 14:03:30,636 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 11.254 seconds (process running for 12.327)
2023-11-05 14:03:31,517 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-05 14:03:31,517 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-05 14:03:31,588 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-05 14:03:31,647 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/delete-accounts-without-transactions-and-created-earlier-than
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-05 14:03:31,647 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-05 14:03:31,716 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-05 14:03:31,729 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-05 14:03:31,729 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-05 14:03:31,732 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00)],[]>
END OF REQUEST
2023-11-05 14:06:08,079 WARN  [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m46s81ms857s900ns).
2023-11-05 14:06:08,118 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 14:06:08,120 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 14:06:08,147 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 14:32:31,569 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 18272 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 14:32:31,577 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 14:32:32,419 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 14:32:32,422 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 14:32:32,454 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:32:32,455 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:32:32,456 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:32:32,457 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:32:32,458 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:32:32,458 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 0 JDBC repository interfaces.
2023-11-05 14:32:32,466 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 14:32:32,467 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 14:32:32,509 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 5 JPA repository interfaces.
2023-11-05 14:32:33,176 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 14:32:33,506 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 14:32:33,507 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 14:32:33,553 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 14:32:33,803 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 14:32:33,809 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 14:32:33,965 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 14:32:33,974 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 14:32:33,975 INFO  [main] liquibase.command : Command execution complete
2023-11-05 14:32:34,602 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 14:32:34,611 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 14:32:34,690 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 14:32:34,694 INFO  [main] liquibase.command : Using deploymentId: 9191154694
2023-11-05 14:32:34,697 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 14:32:34,799 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 14:32:34,808 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 14:32:34,811 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 14:32:34,814 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 14:32:34,818 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 14:32:34,822 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 14:32:34,833 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 14:32:34,835 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 10ms
2023-11-05 14:32:34,851 INFO  [main] liquibase.changelog : Table products created
2023-11-05 14:32:34,851 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 11ms
2023-11-05 14:32:34,863 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 14:32:34,864 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 7ms
2023-11-05 14:32:34,875 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 14:32:34,875 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 7ms
2023-11-05 14:32:34,882 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 14:32:34,882 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 5ms
2023-11-05 14:32:34,893 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 14:32:34,893 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 6ms
2023-11-05 14:32:34,902 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:32:34,903 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:32:34,905 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:32:34,906 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:32:34,906 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 10ms
2023-11-05 14:32:34,911 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:32:34,912 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:32:34,913 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:32:34,913 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:32:34,914 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 3ms
2023-11-05 14:32:34,919 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:32:34,920 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:32:34,921 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:32:34,922 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:32:34,923 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:32:34,923 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 5ms
2023-11-05 14:32:34,929 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:32:34,929 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:32:34,930 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:32:34,931 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:32:34,931 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:32:34,932 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:32:34,932 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:32:34,933 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 4ms
2023-11-05 14:32:34,936 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:32:34,937 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:32:34,937 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:32:34,938 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-insert_test_data_agreements-changelog.xml::insert test data into agreements table::n.kapinos ran successfully in 3ms
2023-11-05 14:32:34,941 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:32:34,942 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:32:34,942 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:32:34,942 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-insert_test_data_transactions-changelog.xml::insert test data into transactions table::n.kapinos ran successfully in 2ms
2023-11-05 14:32:34,953 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 14:32:34,953 INFO  [main] liquibase.util : Run:                         18
2023-11-05 14:32:34,953 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 14:32:34,953 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 14:32:34,953 INFO  [main] liquibase.util : -------------------------------
2023-11-05 14:32:34,953 INFO  [main] liquibase.util : Total change sets:           18

2023-11-05 14:32:34,955 INFO  [main] liquibase.util : Update summary generated
2023-11-05 14:32:34,960 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 14:32:34,962 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 14:32:34,962 INFO  [main] liquibase.command : Command execution complete
2023-11-05 14:32:35,336 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 14:32:35,609 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 14:32:35,614 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 14:32:35,738 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 14:32:35,882 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 14:32:36,151 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 14:32:36,736 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 14:32:36,737 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 14:32:37,629 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 14:32:39,456 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 14:32:40,839 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 14:32:40,902 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 14:32:40,903 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 14:32:40,903 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 0 ms
2023-11-05 14:32:40,959 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 9.728 seconds (process running for 10.668)
2023-11-05 14:32:41,688 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-05 14:32:41,689 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-05 14:32:41,749 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-05 14:32:41,788 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/delete-accounts-without-transactions-and-created-earlier-than
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-05 14:32:41,789 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-05 14:32:41,862 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-05 14:32:41,867 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-05 14:32:41,867 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-05 14:32:41,871 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00)],[]>
END OF REQUEST
2023-11-05 14:32:41,920 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 14:32:41,922 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 14:32:41,952 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 14:33:38,411 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 32228 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 14:33:38,428 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 14:33:39,761 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 14:33:39,763 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 14:33:39,810 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:33:39,811 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:33:39,812 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:33:39,813 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:33:39,815 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:33:39,816 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 0 JDBC repository interfaces.
2023-11-05 14:33:39,826 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 14:33:39,828 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 14:33:39,873 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 5 JPA repository interfaces.
2023-11-05 14:33:40,647 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 14:33:41,247 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 14:33:41,250 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 14:33:41,347 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 14:33:41,678 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 14:33:41,686 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 14:33:41,934 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 14:33:41,951 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 14:33:41,953 INFO  [main] liquibase.command : Command execution complete
2023-11-05 14:33:42,612 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 14:33:42,620 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 14:33:42,699 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 14:33:42,704 INFO  [main] liquibase.command : Using deploymentId: 9191222704
2023-11-05 14:33:42,706 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 14:33:42,803 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 14:33:42,813 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 14:33:42,817 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 14:33:42,820 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 14:33:42,824 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 14:33:42,827 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 14:33:42,838 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 14:33:42,841 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 11ms
2023-11-05 14:33:42,855 INFO  [main] liquibase.changelog : Table products created
2023-11-05 14:33:42,856 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 13ms
2023-11-05 14:33:42,863 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 14:33:42,864 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 5ms
2023-11-05 14:33:42,871 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 14:33:42,872 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 6ms
2023-11-05 14:33:42,880 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 14:33:42,881 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 7ms
2023-11-05 14:33:42,891 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 14:33:42,891 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 6ms
2023-11-05 14:33:42,899 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:33:42,908 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:33:42,909 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:33:42,910 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:33:42,911 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 16ms
2023-11-05 14:33:42,916 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:33:42,917 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:33:42,918 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:33:42,919 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:33:42,920 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 6ms
2023-11-05 14:33:42,929 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:33:42,930 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:33:42,931 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:33:42,932 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:33:42,933 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:33:42,934 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 9ms
2023-11-05 14:33:42,941 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:33:42,942 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:33:42,943 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:33:42,944 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:33:42,945 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:33:42,946 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:33:42,947 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:33:42,948 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 9ms
2023-11-05 14:33:42,952 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:33:42,954 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:33:42,955 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:33:42,955 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-insert_test_data_agreements-changelog.xml::insert test data into agreements table::n.kapinos ran successfully in 4ms
2023-11-05 14:33:42,960 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:33:42,961 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:33:42,962 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:33:42,962 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-insert_test_data_transactions-changelog.xml::insert test data into transactions table::n.kapinos ran successfully in 3ms
2023-11-05 14:33:42,968 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 14:33:42,968 INFO  [main] liquibase.util : Run:                         18
2023-11-05 14:33:42,968 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 14:33:42,968 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 14:33:42,968 INFO  [main] liquibase.util : -------------------------------
2023-11-05 14:33:42,968 INFO  [main] liquibase.util : Total change sets:           18

2023-11-05 14:33:42,972 INFO  [main] liquibase.util : Update summary generated
2023-11-05 14:33:42,974 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 14:33:42,978 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 14:33:42,978 INFO  [main] liquibase.command : Command execution complete
2023-11-05 14:33:43,299 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 14:33:43,390 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 14:33:43,394 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 14:33:43,647 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 14:33:43,850 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 14:33:44,515 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 14:33:45,458 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 14:33:45,461 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 14:33:46,373 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 14:33:48,323 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 14:33:50,061 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 14:33:50,162 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 14:33:50,164 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 14:33:50,164 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 0 ms
2023-11-05 14:33:50,209 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 12.332 seconds (process running for 15.03)
2023-11-05 14:33:51,078 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-05 14:33:51,088 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-05 14:33:51,300 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-05 14:33:51,379 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/delete-accounts-without-transactions-and-created-earlier-than
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-05 14:33:51,379 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-05 14:33:51,535 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-05 14:33:51,551 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-05 14:33:51,552 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-05 14:33:51,556 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00)],[]>
END OF REQUEST
2023-11-05 14:33:51,663 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAllAccounts
2023-11-05 14:33:51,663 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAllAccounts
2023-11-05 14:33:51,674 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000001, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE89 3704 0044 0532 0130 00, type=CURRENT, status=ACTIVE, balance=5247.27, currencyCode=EUR, createdAt=2023-01-20T10:35:00, updatedAt=2023-10-05T12:02:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000002, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE12 1001 1001 2620 6568 90, type=CURRENT, status=ACTIVE, balance=2503.50, currencyCode=EUR, createdAt=2023-04-17T10:35:00, updatedAt=2023-10-05T12:02:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000004, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrae 17, D-80331 Mnchen, Germany, phone=+49 89 1234567), name=DE33 2004 1144 0199 9999 00, type=DEPOSIT, status=ACTIVE, balance=250000.00, currencyCode=EUR, createdAt=2023-07-25T10:35:00, updatedAt=2023-08-08T14:23:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000005, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), name=DE45 7002 0270 0015 7695 53, type=CURRENT, status=ACTIVE, balance=153256.00, currencyCode=EUR, createdAt=2022-11-25T10:35:00, updatedAt=2023-03-20T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000007, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrae 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), name=DE16 3706 0193 6001 2345 67, type=CURRENT, status=ACTIVE, balance=5151.15, currencyCode=EUR, createdAt=2023-02-14T10:35:00, updatedAt=2023-08-08T14:23:00)],[]>
END OF REQUEST
2023-11-05 14:33:51,694 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.AgreementControllerTest]: AgreementControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 14:33:51,699 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.AgreementControllerTest
2023-11-05 14:33:51,720 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/agreements
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AgreementController.getAllAgreements
2023-11-05 14:33:51,720 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AgreementServiceImpl.getAllAgreements
2023-11-05 14:33:51,776 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AgreementDto(creationDate=2023-01-20T10:35:00, clientName=Lukas Mller, account=DE89 3704 0044 0532 0130 00, product=Current account EUR, amountFromAgreement=0.00, amountFromAccount=5247.27, status=ACTIVE), AgreementDto(creationDate=2023-07-25T10:35:00, clientName=Markus Schmidt, account=DE33 2004 1144 0199 9999 00, product=Deposit up to 100.000 EUR, amountFromAgreement=250000.00, amountFromAccount=250000.00, status=ACTIVE), AgreementDto(creationDate=2022-11-25T10:35:00, clientName=Lena Weber, account=DE45 7002 0270 0015 7695 53, product=Current account EUR, amountFromAgreement=153256.00, amountFromAccount=153256.00, status=ACTIVE)],[]>
END OF REQUEST
2023-11-05 14:33:51,799 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ClientControllerTest]: ClientControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 14:33:51,803 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ClientControllerTest
2023-11-05 14:33:51,811 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/clients
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ClientController.getAllClients
2023-11-05 14:33:51,812 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ClientServiceImpl.getAllClients
2023-11-05 14:33:51,818 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000002, firstName=Markus, lastName=Schmidt, email=markus.schmidt@gmx.de, address=Musterstrae 17, D-80331 Mnchen, Germany, phone=+49 89 1234567), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), ClientDto(id=523e4567-e89b-12d3-a456-030000000004, firstName=Sara, lastName=Fischer, email=sara.fischer@outlook.de, address=Schillerstrae 12, D-70173 Stuttgart, Germany, phone=+49 711 4567890), ClientDto(id=523e4567-e89b-12d3-a456-030000000005, firstName=Laura, lastName=Klein, email=laura.klein@gmail.com, address=Goetheplatz 5, D-60311 Frankfurt am Main, Germany, phone=+49 69 8765432)],[]>
END OF REQUEST
2023-11-05 14:33:51,829 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 14:33:51,833 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ManagerControllerTest
2023-11-05 14:33:51,895 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 14:33:51,895 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 14:33:51,929 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=John, lastName=Smith, status=WORKING)]. Manager creation error: Manager with ID 523e4567-e89b-12d3-a456-010000000001 already exists
2023-11-05 14:33:51,934 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-05 14:33:51,935 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@efd5966,[]>
END OF REQUEST
2023-11-05 14:33:51,940 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 14:33:51,941 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 14:33:51,951 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-05 14:33:51,958 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagers
2023-11-05 14:33:51,958 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagers
2023-11-05 14:33:51,961 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000002, firstName=Carlos, lastName=Garcia, status=WORKING), ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000077, firstName=Anna, lastName=Lee, status=FIRED)],[]>
END OF REQUEST
2023-11-05 14:33:51,971 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 14:33:51,971 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 14:33:52,033 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-05 14:33:52,036 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-05 14:33:52,036 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-05 14:33:52,078 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-05 14:33:52,079 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 14:33:52,080 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 14:33:52,083 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [523e4567-e89b-12d3-a456-010000000011]. Entity Manager with id 523e4567-e89b-12d3-a456-010000000011 is not found.
2023-11-05 14:33:52,084 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerNotFoundException
2023-11-05 14:33:52,084 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@19c01bd1,[]>
END OF REQUEST
2023-11-05 14:33:52,090 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/get-all-by-clients-status/VIP
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getAllManagersByClientStatus
2023-11-05 14:33:52,090 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getAllManagersByClientStatus
2023-11-05 14:33:52,102 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ManagerDto(id=523e4567-e89b-12d3-a456-010000000003, firstName=Anna, lastName=Lee, status=FIRED), ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=James, lastName=Smith, status=WORKING)],[]>
END OF REQUEST
2023-11-05 14:33:52,113 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-05 14:33:52,113 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-05 14:33:52,116 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-05 14:33:52,118 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 14:33:52,118 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 14:33:52,120 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-05 14:33:52,121 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.deleteManagerByID
2023-11-05 14:33:52,121 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.deleteManagerByID
2023-11-05 14:33:52,125 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <204 NO_CONTENT No Content,[]>
END OF REQUEST
2023-11-05 14:33:52,131 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : PUT
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.updateManager
2023-11-05 14:33:52,131 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.updateManager
2023-11-05 14:33:52,140 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[]>
END OF REQUEST
2023-11-05 14:33:52,141 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000001
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-05 14:33:52,142 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-05 14:33:52,143 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000001, firstName=NewFirstName, lastName=NewLastName, status=WORKING),[]>
END OF REQUEST
2023-11-05 14:33:52,148 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ProductControllerTest]: ProductControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-05 14:33:52,150 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ProductControllerTest
2023-11-05 14:33:52,161 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/products
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ProductController.getAllProducts
2023-11-05 14:33:52,161 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ProductServiceImpl.getAllProducts
2023-11-05 14:33:52,166 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ProductDto(id=523e4567-e89b-12d3-a456-020000000001, name=Mortgage up to 200.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000002, name=Mortgage up to 500.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000003, name=Deposit up to 100.000 EUR, status=ACTIVE, currencyCode=EUR), ProductDto(id=523e4567-e89b-12d3-a456-020000000004, name=Current account EUR, status=ACTIVE, currencyCode=EUR)],[]>
END OF REQUEST
2023-11-05 14:33:52,269 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 14:33:52,432 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 14:33:52,454 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 14:47:24,593 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 33836 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 14:47:24,604 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 14:47:25,416 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 14:47:25,417 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 14:47:25,465 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:47:25,466 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:47:25,467 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:47:25,467 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:47:25,468 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:47:25,469 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 0 JDBC repository interfaces.
2023-11-05 14:47:25,478 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 14:47:25,479 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 14:47:25,526 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 5 JPA repository interfaces.
2023-11-05 14:47:26,176 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 14:47:26,534 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 14:47:26,536 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 14:47:26,590 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 14:47:26,854 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 14:47:26,858 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 14:47:27,021 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 14:47:27,034 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 14:47:27,035 INFO  [main] liquibase.command : Command execution complete
2023-11-05 14:47:27,652 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 14:47:27,661 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 14:47:27,757 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 14:47:27,762 INFO  [main] liquibase.command : Using deploymentId: 9192047762
2023-11-05 14:47:27,765 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 14:47:27,873 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 14:47:27,883 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 14:47:27,888 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 14:47:27,891 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 14:47:27,896 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 14:47:27,900 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 14:47:27,913 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 14:47:27,915 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 11ms
2023-11-05 14:47:27,928 INFO  [main] liquibase.changelog : Table products created
2023-11-05 14:47:27,928 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 10ms
2023-11-05 14:47:27,938 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 14:47:27,939 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 6ms
2023-11-05 14:47:27,948 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 14:47:27,948 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 5ms
2023-11-05 14:47:27,957 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 14:47:27,957 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 6ms
2023-11-05 14:47:27,966 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 14:47:27,967 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 7ms
2023-11-05 14:47:27,973 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:47:27,974 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:47:27,975 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:47:27,976 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:47:27,976 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 6ms
2023-11-05 14:47:27,980 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:47:27,981 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:47:27,982 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:47:27,982 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:47:27,982 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 3ms
2023-11-05 14:47:27,989 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:47:27,990 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:47:27,990 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:47:27,991 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:47:27,992 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:47:27,992 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 4ms
2023-11-05 14:47:27,998 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:47:27,998 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:47:27,999 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:47:27,999 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:47:28,000 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:47:28,001 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:47:28,001 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:47:28,002 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 4ms
2023-11-05 14:47:28,005 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:47:28,006 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:47:28,006 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:47:28,007 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-insert_test_data_agreements-changelog.xml::insert test data into agreements table::n.kapinos ran successfully in 3ms
2023-11-05 14:47:28,010 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:47:28,010 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:47:28,011 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:47:28,011 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-insert_test_data_transactions-changelog.xml::insert test data into transactions table::n.kapinos ran successfully in 2ms
2023-11-05 14:47:28,021 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 14:47:28,021 INFO  [main] liquibase.util : Run:                         18
2023-11-05 14:47:28,021 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 14:47:28,021 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 14:47:28,021 INFO  [main] liquibase.util : -------------------------------
2023-11-05 14:47:28,021 INFO  [main] liquibase.util : Total change sets:           18

2023-11-05 14:47:28,023 INFO  [main] liquibase.util : Update summary generated
2023-11-05 14:47:28,027 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 14:47:28,028 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 14:47:28,029 INFO  [main] liquibase.command : Command execution complete
2023-11-05 14:47:28,413 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 14:47:28,691 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 14:47:28,696 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 14:47:28,843 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 14:47:28,967 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 14:47:29,263 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 14:47:29,843 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 14:47:29,845 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 14:47:30,716 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 14:47:32,438 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 14:47:33,716 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 14:47:33,792 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 14:47:33,792 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 14:47:33,793 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-05 14:47:33,841 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 9.592 seconds (process running for 10.578)
2023-11-05 14:47:34,416 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-05 14:47:34,416 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-05 14:47:34,484 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-05 14:47:34,529 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/delete-accounts-without-transactions-and-created-earlier-than
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-05 14:47:34,530 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-05 14:47:34,598 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-05 14:47:34,633 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-05 14:47:34,634 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-05 14:47:34,638 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Mller, email=lukas.muller@web.de, address=Lansstrae 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrae 25, D-50667 Kln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00)],[]>
END OF REQUEST
2023-11-05 14:47:34,670 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 14:47:34,672 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 14:47:34,673 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 14:51:15,419 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 22504 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 14:51:15,426 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 14:51:16,202 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 14:51:16,202 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 14:51:16,234 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:51:16,235 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:51:16,236 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:51:16,237 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:51:16,238 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:51:16,238 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 0 JDBC repository interfaces.
2023-11-05 14:51:16,247 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 14:51:16,248 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 14:51:16,282 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 5 JPA repository interfaces.
2023-11-05 14:51:16,933 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 14:51:17,278 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 14:51:17,280 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 14:51:17,328 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 14:51:17,566 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 14:51:17,571 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 14:51:17,749 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 14:51:17,762 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 14:51:17,762 INFO  [main] liquibase.command : Command execution complete
2023-11-05 14:51:18,372 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 14:51:18,381 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 14:51:18,464 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 14:51:18,468 INFO  [main] liquibase.command : Using deploymentId: 9192278468
2023-11-05 14:51:18,471 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 14:51:18,578 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 14:51:18,587 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 14:51:18,591 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 14:51:18,595 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 14:51:18,599 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 14:51:18,603 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 14:51:18,615 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 14:51:18,617 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 10ms
2023-11-05 14:51:18,634 INFO  [main] liquibase.changelog : Table products created
2023-11-05 14:51:18,634 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 13ms
2023-11-05 14:51:18,649 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 14:51:18,650 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 9ms
2023-11-05 14:51:18,657 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 14:51:18,658 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 5ms
2023-11-05 14:51:18,665 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 14:51:18,665 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 5ms
2023-11-05 14:51:18,674 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 14:51:18,674 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 6ms
2023-11-05 14:51:18,680 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:51:18,681 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:51:18,682 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:51:18,683 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:51:18,684 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 6ms
2023-11-05 14:51:18,690 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:51:18,691 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:51:18,692 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:51:18,693 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:51:18,693 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 4ms
2023-11-05 14:51:18,700 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:51:18,702 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:51:18,703 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:51:18,704 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:51:18,705 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:51:18,705 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 6ms
2023-11-05 14:51:18,713 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:51:18,715 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:51:18,715 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:51:18,716 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:51:18,717 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:51:18,717 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:51:18,718 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:51:18,718 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 6ms
2023-11-05 14:51:18,722 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:51:18,723 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:51:18,724 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:51:18,724 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-insert_test_data_agreements-changelog.xml::insert test data into agreements table::n.kapinos ran successfully in 2ms
2023-11-05 14:51:18,727 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:51:18,728 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:51:18,729 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:51:18,729 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-insert_test_data_transactions-changelog.xml::insert test data into transactions table::n.kapinos ran successfully in 2ms
2023-11-05 14:51:18,738 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 14:51:18,738 INFO  [main] liquibase.util : Run:                         18
2023-11-05 14:51:18,738 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 14:51:18,738 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 14:51:18,738 INFO  [main] liquibase.util : -------------------------------
2023-11-05 14:51:18,738 INFO  [main] liquibase.util : Total change sets:           18

2023-11-05 14:51:18,739 INFO  [main] liquibase.util : Update summary generated
2023-11-05 14:51:18,743 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 14:51:18,744 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 14:51:18,745 INFO  [main] liquibase.command : Command execution complete
2023-11-05 14:51:19,140 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 14:51:19,338 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 14:51:19,340 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 14:51:19,476 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 14:51:19,595 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 14:51:19,854 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 14:51:20,445 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 14:51:20,447 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 14:51:21,368 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 14:51:23,112 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 14:51:24,370 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 14:51:24,456 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 14:51:24,457 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 14:51:24,458 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-05 14:51:24,500 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 9.406 seconds (process running for 10.328)
2023-11-05 14:51:25,089 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-05 14:51:25,089 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-05 14:51:25,151 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-05 14:51:25,195 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/delete-accounts-without-transactions-and-created-earlier-than
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-05 14:51:25,195 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-05 14:51:25,253 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=lukas.muller@web.de, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-05 14:51:25,283 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-05 14:51:25,283 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-05 14:51:25,287 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=lukas.muller@web.de, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00)],[]>
END OF REQUEST
2023-11-05 14:51:25,323 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 14:51:25,325 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 14:51:25,326 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-05 14:52:40,414 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 29220 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-05 14:52:40,421 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-05 14:52:41,245 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 14:52:41,246 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-05 14:52:41,280 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:52:41,281 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:52:41,282 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:52:41,283 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:52:41,284 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-05 14:52:41,284 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 0 JDBC repository interfaces.
2023-11-05 14:52:41,292 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-05 14:52:41,293 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-05 14:52:41,338 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 5 JPA repository interfaces.
2023-11-05 14:52:41,964 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-05 14:52:42,296 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-05 14:52:42,297 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-05 14:52:42,356 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-05 14:52:42,617 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 14:52:42,621 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-05 14:52:42,778 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-05 14:52:42,790 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-05 14:52:42,791 INFO  [main] liquibase.command : Command execution complete
2023-11-05 14:52:43,424 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-05 14:52:43,433 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 14:52:43,514 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-05 14:52:43,518 INFO  [main] liquibase.command : Using deploymentId: 9192363518
2023-11-05 14:52:43,521 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-05 14:52:43,624 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop accounts table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.accounts does not exist

2023-11-05 14:52:43,635 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop agreements table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.agreements does not exist

2023-11-05 14:52:43,638 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop clients table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.clients does not exist

2023-11-05 14:52:43,642 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop managers table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.managers does not exist

2023-11-05 14:52:43,646 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop products table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.products does not exist

2023-11-05 14:52:43,651 INFO  [main] liquibase.changelog : Marking ChangeSet: "dbtest/changelog/changes/v0.0.1-SNAPSHOT/drop-tables-changelog.xml::drop transactions table::n.kapinos" as ran despite precondition failure due to onFail='MARK_RAN': 
          dbtest/changelog/changelog-master.xml : Table PUBLIC.transactions does not exist

2023-11-05 14:52:43,662 INFO  [main] liquibase.changelog : Table managers created
2023-11-05 14:52:43,664 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 11ms
2023-11-05 14:52:43,678 INFO  [main] liquibase.changelog : Table products created
2023-11-05 14:52:43,679 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 11ms
2023-11-05 14:52:43,689 INFO  [main] liquibase.changelog : Table clients created
2023-11-05 14:52:43,689 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 6ms
2023-11-05 14:52:43,699 INFO  [main] liquibase.changelog : Table accounts created
2023-11-05 14:52:43,700 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 7ms
2023-11-05 14:52:43,712 INFO  [main] liquibase.changelog : Table agreements created
2023-11-05 14:52:43,712 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 8ms
2023-11-05 14:52:43,723 INFO  [main] liquibase.changelog : Table transactions created
2023-11-05 14:52:43,724 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 8ms
2023-11-05 14:52:43,731 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:52:43,732 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:52:43,733 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:52:43,735 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-05 14:52:43,735 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 7ms
2023-11-05 14:52:43,744 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:52:43,745 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:52:43,746 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:52:43,748 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-05 14:52:43,748 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos ran successfully in 7ms
2023-11-05 14:52:43,756 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:52:43,758 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:52:43,760 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:52:43,760 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:52:43,761 INFO  [main] liquibase.changelog : New row inserted into clients
2023-11-05 14:52:43,762 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-insert_test_data_clients-changelog.xml::insert test data into clients table::n.kapinos ran successfully in 7ms
2023-11-05 14:52:43,771 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:52:43,772 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:52:43,773 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:52:43,774 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:52:43,774 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:52:43,775 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:52:43,776 INFO  [main] liquibase.changelog : New row inserted into accounts
2023-11-05 14:52:43,776 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-insert_test_data_accounts-changelog.xml::insert test data into accounts table::n.kapinos ran successfully in 7ms
2023-11-05 14:52:43,779 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:52:43,780 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:52:43,781 INFO  [main] liquibase.changelog : New row inserted into agreements
2023-11-05 14:52:43,781 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-insert_test_data_agreements-changelog.xml::insert test data into agreements table::n.kapinos ran successfully in 2ms
2023-11-05 14:52:43,784 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:52:43,784 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:52:43,785 INFO  [main] liquibase.changelog : New row inserted into transactions
2023-11-05 14:52:43,785 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-insert_test_data_transactions-changelog.xml::insert test data into transactions table::n.kapinos ran successfully in 2ms
2023-11-05 14:52:43,793 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-05 14:52:43,794 INFO  [main] liquibase.util : Run:                         18
2023-11-05 14:52:43,794 INFO  [main] liquibase.util : Previously run:               0
2023-11-05 14:52:43,794 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-05 14:52:43,794 INFO  [main] liquibase.util : -------------------------------
2023-11-05 14:52:43,794 INFO  [main] liquibase.util : Total change sets:           18

2023-11-05 14:52:43,796 INFO  [main] liquibase.util : Update summary generated
2023-11-05 14:52:43,801 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-05 14:52:43,812 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-05 14:52:43,812 INFO  [main] liquibase.command : Command execution complete
2023-11-05 14:52:44,177 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-05 14:52:44,414 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-05 14:52:44,419 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-05 14:52:44,545 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 14:52:44,664 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-05 14:52:44,995 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-05 14:52:45,577 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-05 14:52:45,579 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 14:52:46,530 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-05 14:52:48,391 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-05 14:52:49,832 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-05 14:52:49,937 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-05 14:52:49,938 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-05 14:52:49,939 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-05 14:52:50,011 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 9.931 seconds (process running for 10.917)
2023-11-05 14:52:50,631 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-05 14:52:50,631 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-05 14:52:50,692 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[],[]>
END OF REQUEST
2023-11-05 14:52:50,730 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/delete-accounts-without-transactions-and-created-earlier-than
HTTP_METHOD : DELETE
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-05 14:52:50,730 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.markForDeletionAccountsWithoutTransactionsAndCreatedEarlierThan
2023-11-05 14:52:50,794 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=lukas.muller@web.de, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543)],[]>
END OF REQUEST
2023-11-05 14:52:50,818 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/accounts/FOR_DELETION
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.AccountController.getAccountsByStatus
2023-11-05 14:52:50,818 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.AccountServiceImpl.getAccountsByStatus
2023-11-05 14:52:50,822 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,[AccountDto(id=523e4567-e89b-12d3-a456-040000000003, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000001, firstName=Lukas, lastName=Muller, email=lukas.muller@web.de, address=Lansstrasse 81, D-11179 Berlin, Germany, phone=+49 30 5684962), name=DE71 5123 0800 0000 6830 99, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-08-06T10:35:00, updatedAt=2022-08-06T10:35:00), AccountDto(id=523e4567-e89b-12d3-a456-040000000006, client=ClientDto(id=523e4567-e89b-12d3-a456-030000000003, firstName=Lena, lastName=Weber, email=lena.weber@yahoo.de, address=Hauptstrasse 25, D-50667 Koln, Germany, phone=+49 221 9876543), name=DE98 5001 0517 5407 3249 31, type=CURRENT, status=FOR_DELETION, balance=0.00, currencyCode=EUR, createdAt=2022-12-06T10:35:00, updatedAt=2022-12-06T10:35:00)],[]>
END OF REQUEST
2023-11-05 14:52:50,852 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-05 14:52:50,854 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-05 14:52:50,855 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
