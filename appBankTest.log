2023-11-02 00:28:25,793 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 30892 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-02 00:28:25,807 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-02 00:28:27,022 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 00:28:27,024 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-02 00:28:27,063 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:28:27,064 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:28:27,065 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:28:27,066 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:28:27,072 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:28:27,074 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 0 JDBC repository interfaces.
2023-11-02 00:28:27,085 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 00:28:27,086 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-02 00:28:27,129 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 5 JPA repository interfaces.
2023-11-02 00:28:27,930 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-02 00:28:28,362 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-02 00:28:28,363 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-02 00:28:28,416 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-02 00:28:28,714 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 00:28:28,722 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-02 00:28:28,957 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-02 00:28:28,964 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-02 00:28:28,966 INFO  [main] liquibase.command : Command execution complete
2023-11-02 00:28:29,473 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-02 00:28:29,484 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 00:28:29,568 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 00:28:29,574 INFO  [main] liquibase.command : Using deploymentId: 8881309573
2023-11-02 00:28:29,577 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 00:28:29,684 INFO  [main] liquibase.changelog : Table managers created
2023-11-02 00:28:29,688 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 18ms
2023-11-02 00:28:29,717 INFO  [main] liquibase.changelog : Table products created
2023-11-02 00:28:29,718 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 15ms
2023-11-02 00:28:29,727 INFO  [main] liquibase.changelog : Table clients created
2023-11-02 00:28:29,728 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 6ms
2023-11-02 00:28:29,737 INFO  [main] liquibase.changelog : Table accounts created
2023-11-02 00:28:29,737 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 6ms
2023-11-02 00:28:29,747 INFO  [main] liquibase.changelog : Table agreements created
2023-11-02 00:28:29,747 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 7ms
2023-11-02 00:28:29,755 INFO  [main] liquibase.changelog : Table transactions created
2023-11-02 00:28:29,756 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 6ms
2023-11-02 00:28:29,774 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 00:28:29,775 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 00:28:29,776 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 00:28:29,777 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 00:28:29,777 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 5ms
2023-11-02 00:28:29,786 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-02 00:28:29,787 INFO  [main] liquibase.util : Run:                          7
2023-11-02 00:28:29,787 INFO  [main] liquibase.util : Previously run:               0
2023-11-02 00:28:29,787 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-02 00:28:29,787 INFO  [main] liquibase.util : -------------------------------
2023-11-02 00:28:29,787 INFO  [main] liquibase.util : Total change sets:            7

2023-11-02 00:28:29,789 INFO  [main] liquibase.util : Update summary generated
2023-11-02 00:28:29,794 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-02 00:28:29,796 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-02 00:28:29,796 INFO  [main] liquibase.command : Command execution complete
2023-11-02 00:28:30,112 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-02 00:28:30,355 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-02 00:28:30,358 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-02 00:28:30,489 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 00:28:30,648 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-02 00:28:30,976 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 00:28:31,685 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-02 00:28:31,687 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 00:28:32,798 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-02 00:28:34,975 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-02 00:28:36,396 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-02 00:28:36,469 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-02 00:28:36,469 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-02 00:28:36,470 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 0 ms
2023-11-02 00:28:36,525 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Started ManagerControllerTest in 11.288 seconds (process running for 12.748)
2023-11-02 00:28:37,385 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-02 00:28:37,386 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-02 00:28:37,537 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-02 00:28:37,551 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-02 00:28:37,551 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-02 00:28:37,568 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-02 00:28:37,604 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 00:28:37,608 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-02 00:28:37,609 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-02 00:39:09,957 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 34388 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-02 00:39:09,974 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-02 00:39:11,781 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 00:39:11,785 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-02 00:39:11,840 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:39:11,843 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:39:11,844 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:39:11,847 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:39:11,850 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:39:11,852 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 56 ms. Found 0 JDBC repository interfaces.
2023-11-02 00:39:11,865 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 00:39:11,867 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-02 00:39:11,908 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 5 JPA repository interfaces.
2023-11-02 00:39:12,855 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-02 00:39:13,590 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-02 00:39:13,597 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-02 00:39:13,704 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-02 00:39:14,056 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 00:39:14,066 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-02 00:39:14,282 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-02 00:39:14,289 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-02 00:39:14,291 INFO  [main] liquibase.command : Command execution complete
2023-11-02 00:39:14,764 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-02 00:39:14,771 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 00:39:14,840 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 00:39:14,846 INFO  [main] liquibase.command : Using deploymentId: 8881954846
2023-11-02 00:39:14,848 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 00:39:14,926 INFO  [main] liquibase.changelog : Table managers created
2023-11-02 00:39:14,929 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 16ms
2023-11-02 00:39:14,962 INFO  [main] liquibase.changelog : Table products created
2023-11-02 00:39:14,962 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 17ms
2023-11-02 00:39:14,974 INFO  [main] liquibase.changelog : Table clients created
2023-11-02 00:39:14,974 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 7ms
2023-11-02 00:39:14,986 INFO  [main] liquibase.changelog : Table accounts created
2023-11-02 00:39:14,987 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 8ms
2023-11-02 00:39:15,006 INFO  [main] liquibase.changelog : Table agreements created
2023-11-02 00:39:15,007 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 13ms
2023-11-02 00:39:15,035 INFO  [main] liquibase.changelog : Table transactions created
2023-11-02 00:39:15,036 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 20ms
2023-11-02 00:39:15,069 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 00:39:15,073 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 00:39:15,077 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 00:39:15,081 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 00:39:15,082 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 19ms
2023-11-02 00:39:15,097 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-02 00:39:15,098 INFO  [main] liquibase.util : Run:                          7
2023-11-02 00:39:15,098 INFO  [main] liquibase.util : Previously run:               0
2023-11-02 00:39:15,098 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-02 00:39:15,099 INFO  [main] liquibase.util : -------------------------------
2023-11-02 00:39:15,099 INFO  [main] liquibase.util : Total change sets:            7

2023-11-02 00:39:15,104 INFO  [main] liquibase.util : Update summary generated
2023-11-02 00:39:15,110 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-02 00:39:15,116 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-02 00:39:15,117 INFO  [main] liquibase.command : Command execution complete
2023-11-02 00:39:15,452 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-02 00:39:15,572 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-02 00:39:15,575 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-02 00:39:15,798 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 00:39:16,022 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-02 00:39:16,586 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 00:39:17,591 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-02 00:39:17,593 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 00:39:18,480 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-02 00:39:20,624 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-02 00:39:22,264 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-02 00:39:22,350 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 12.997 seconds (process running for 15.443)
2023-11-02 00:39:23,861 WARN  [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper : SQL Error: 23502, SQLState: 23502
2023-11-02 00:39:23,861 ERROR [main] org.hibernate.engine.jdbc.spi.SqlExceptionHelper : NULL not allowed for column "ID"; SQL statement:
insert into accounts (balance,client_id,created_at,currency_code,name,status,type,updated_at,id) values (?,?,?,?,?,?,?,?,default) [23502-214]
2023-11-02 00:39:23,953 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-02 00:39:23,993 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ManagerControllerTest
2023-11-02 00:39:24,059 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 34388 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-02 00:39:24,059 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-02 00:39:24,457 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 00:39:24,457 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-02 00:39:24,465 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:39:24,466 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:39:24,466 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:39:24,466 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:39:24,466 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:39:24,466 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 8 ms. Found 0 JDBC repository interfaces.
2023-11-02 00:39:24,470 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 00:39:24,471 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-02 00:39:24,494 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 5 JPA repository interfaces.
2023-11-02 00:39:24,783 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-2 - Starting...
2023-11-02 00:39:24,784 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-2 - Added connection conn11: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-02 00:39:24,786 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-2 - Start completed.
2023-11-02 00:39:24,802 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-02 00:39:24,814 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 00:39:24,815 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-02 00:39:24,893 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-02 00:39:24,894 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-02 00:39:24,895 INFO  [main] liquibase.command : Command execution complete
2023-11-02 00:39:25,163 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-02 00:39:25,167 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 00:39:25,190 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 00:39:25,193 INFO  [main] liquibase.command : Using deploymentId: 8881965193
2023-11-02 00:39:25,193 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 00:39:25,237 INFO  [main] liquibase.changelog : Table managers created
2023-11-02 00:39:25,237 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 6ms
2023-11-02 00:39:25,251 INFO  [main] liquibase.changelog : Table products created
2023-11-02 00:39:25,251 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 9ms
2023-11-02 00:39:25,264 INFO  [main] liquibase.changelog : Table clients created
2023-11-02 00:39:25,265 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 9ms
2023-11-02 00:39:25,277 INFO  [main] liquibase.changelog : Table accounts created
2023-11-02 00:39:25,278 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 9ms
2023-11-02 00:39:25,293 INFO  [main] liquibase.changelog : Table agreements created
2023-11-02 00:39:25,293 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 11ms
2023-11-02 00:39:25,305 INFO  [main] liquibase.changelog : Table transactions created
2023-11-02 00:39:25,306 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 9ms
2023-11-02 00:39:25,313 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 00:39:25,314 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 00:39:25,316 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 00:39:25,317 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 00:39:25,317 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 5ms
2023-11-02 00:39:25,319 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-02 00:39:25,319 INFO  [main] liquibase.util : Run:                          7
2023-11-02 00:39:25,319 INFO  [main] liquibase.util : Previously run:               0
2023-11-02 00:39:25,319 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-02 00:39:25,319 INFO  [main] liquibase.util : -------------------------------
2023-11-02 00:39:25,319 INFO  [main] liquibase.util : Total change sets:            7

2023-11-02 00:39:25,320 INFO  [main] liquibase.util : Update summary generated
2023-11-02 00:39:25,320 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-02 00:39:25,322 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-02 00:39:25,322 INFO  [main] liquibase.command : Command execution complete
2023-11-02 00:39:25,386 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-02 00:39:25,394 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 00:39:25,394 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-02 00:39:25,474 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 00:39:25,683 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-02 00:39:25,684 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 00:39:26,623 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-02 00:39:27,268 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-02 00:39:27,360 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-02 00:39:27,360 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-02 00:39:27,361 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-02 00:39:27,375 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Started ManagerControllerTest in 3.375 seconds (process running for 20.467)
2023-11-02 00:39:27,827 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-02 00:39:27,827 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-02 00:39:28,345 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-02 00:39:28,413 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-02 00:39:28,413 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-02 00:39:28,450 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-02 00:39:28,530 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 00:39:28,701 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-02 00:39:28,707 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-02 00:39:28,712 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 00:39:28,713 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-2 - Shutdown initiated...
2023-11-02 00:39:28,714 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-2 - Shutdown completed.
2023-11-02 00:41:22,476 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Starting AccountControllerTest using Java 19.0.2 with PID 14072 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-02 00:41:22,489 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-02 00:41:23,908 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 00:41:23,909 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-02 00:41:23,960 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:41:23,962 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:41:23,963 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:41:23,965 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:41:23,968 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:41:23,970 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53 ms. Found 0 JDBC repository interfaces.
2023-11-02 00:41:23,983 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 00:41:23,984 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-02 00:41:24,022 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 5 JPA repository interfaces.
2023-11-02 00:41:24,965 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-02 00:41:25,673 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-02 00:41:25,682 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-02 00:41:25,809 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-02 00:41:26,169 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 00:41:26,185 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-02 00:41:26,413 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-02 00:41:26,421 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-02 00:41:26,423 INFO  [main] liquibase.command : Command execution complete
2023-11-02 00:41:26,850 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-02 00:41:26,856 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 00:41:26,927 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 00:41:26,933 INFO  [main] liquibase.command : Using deploymentId: 8882086932
2023-11-02 00:41:26,935 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 00:41:27,015 INFO  [main] liquibase.changelog : Table managers created
2023-11-02 00:41:27,018 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 14ms
2023-11-02 00:41:27,048 INFO  [main] liquibase.changelog : Table products created
2023-11-02 00:41:27,048 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 15ms
2023-11-02 00:41:27,058 INFO  [main] liquibase.changelog : Table clients created
2023-11-02 00:41:27,058 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 6ms
2023-11-02 00:41:27,067 INFO  [main] liquibase.changelog : Table accounts created
2023-11-02 00:41:27,067 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 6ms
2023-11-02 00:41:27,077 INFO  [main] liquibase.changelog : Table agreements created
2023-11-02 00:41:27,077 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 7ms
2023-11-02 00:41:27,095 INFO  [main] liquibase.changelog : Table transactions created
2023-11-02 00:41:27,096 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 11ms
2023-11-02 00:41:27,132 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 00:41:27,134 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 00:41:27,135 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 00:41:27,136 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 00:41:27,136 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 8ms
2023-11-02 00:41:27,141 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-02 00:41:27,141 INFO  [main] liquibase.util : Run:                          7
2023-11-02 00:41:27,141 INFO  [main] liquibase.util : Previously run:               0
2023-11-02 00:41:27,142 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-02 00:41:27,142 INFO  [main] liquibase.util : -------------------------------
2023-11-02 00:41:27,142 INFO  [main] liquibase.util : Total change sets:            7

2023-11-02 00:41:27,144 INFO  [main] liquibase.util : Update summary generated
2023-11-02 00:41:27,146 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-02 00:41:27,149 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-02 00:41:27,150 INFO  [main] liquibase.command : Command execution complete
2023-11-02 00:41:27,443 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-02 00:41:27,529 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-02 00:41:27,538 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-02 00:41:27,759 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 00:41:28,052 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-02 00:41:28,651 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 00:41:29,690 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-02 00:41:29,693 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 00:41:30,594 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-02 00:41:32,794 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-02 00:41:34,460 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-02 00:41:34,546 INFO  [main] de.telran.bankapp.controller.AccountControllerTest : Started AccountControllerTest in 12.672 seconds (process running for 15.36)
2023-11-02 00:41:35,801 INFO  [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [de.telran.bankapp.controller.ManagerControllerTest]: ManagerControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-11-02 00:41:35,849 INFO  [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration de.telran.bankapp.BankAppApplication for test class de.telran.bankapp.controller.ManagerControllerTest
2023-11-02 00:41:35,920 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 14072 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-02 00:41:35,921 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-02 00:41:36,345 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 00:41:36,345 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-02 00:41:36,354 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:41:36,354 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:41:36,354 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:41:36,355 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:41:36,355 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 00:41:36,355 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 0 JDBC repository interfaces.
2023-11-02 00:41:36,360 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 00:41:36,360 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-02 00:41:36,384 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 23 ms. Found 5 JPA repository interfaces.
2023-11-02 00:41:36,714 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-2 - Starting...
2023-11-02 00:41:36,715 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-2 - Added connection conn11: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-02 00:41:36,716 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-2 - Start completed.
2023-11-02 00:41:36,718 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-02 00:41:36,734 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 00:41:36,735 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-02 00:41:36,834 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-02 00:41:36,836 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-02 00:41:36,837 INFO  [main] liquibase.command : Command execution complete
2023-11-02 00:41:37,133 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-02 00:41:37,138 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 00:41:37,169 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 00:41:37,174 INFO  [main] liquibase.command : Using deploymentId: 8882097174
2023-11-02 00:41:37,176 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 00:41:37,236 INFO  [main] liquibase.changelog : Table managers created
2023-11-02 00:41:37,237 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 8ms
2023-11-02 00:41:37,253 INFO  [main] liquibase.changelog : Table products created
2023-11-02 00:41:37,253 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 10ms
2023-11-02 00:41:37,270 INFO  [main] liquibase.changelog : Table clients created
2023-11-02 00:41:37,271 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 12ms
2023-11-02 00:41:37,285 INFO  [main] liquibase.changelog : Table accounts created
2023-11-02 00:41:37,286 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 11ms
2023-11-02 00:41:37,300 INFO  [main] liquibase.changelog : Table agreements created
2023-11-02 00:41:37,301 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 10ms
2023-11-02 00:41:37,312 INFO  [main] liquibase.changelog : Table transactions created
2023-11-02 00:41:37,313 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 9ms
2023-11-02 00:41:37,319 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 00:41:37,321 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 00:41:37,322 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 00:41:37,323 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 00:41:37,324 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 6ms
2023-11-02 00:41:37,326 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-02 00:41:37,327 INFO  [main] liquibase.util : Run:                          7
2023-11-02 00:41:37,327 INFO  [main] liquibase.util : Previously run:               0
2023-11-02 00:41:37,327 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-02 00:41:37,327 INFO  [main] liquibase.util : -------------------------------
2023-11-02 00:41:37,327 INFO  [main] liquibase.util : Total change sets:            7

2023-11-02 00:41:37,327 INFO  [main] liquibase.util : Update summary generated
2023-11-02 00:41:37,327 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-02 00:41:37,329 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-02 00:41:37,329 INFO  [main] liquibase.command : Command execution complete
2023-11-02 00:41:37,401 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-02 00:41:37,412 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 00:41:37,412 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-02 00:41:37,509 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 00:41:37,713 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-02 00:41:37,714 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 00:41:38,752 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-02 00:41:39,345 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-02 00:41:39,425 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-02 00:41:39,425 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-02 00:41:39,427 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-02 00:41:39,439 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Started ManagerControllerTest in 3.583 seconds (process running for 20.254)
2023-11-02 00:41:39,906 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-02 00:41:39,906 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-02 00:41:40,594 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-02 00:41:40,647 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-02 00:41:40,648 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-02 00:41:40,683 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-02 00:41:40,797 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 00:41:40,965 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-02 00:41:40,970 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-02 00:41:40,975 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 00:41:40,977 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-2 - Shutdown initiated...
2023-11-02 00:41:41,001 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-2 - Shutdown completed.
2023-11-02 01:16:38,041 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 23452 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-02 01:16:38,051 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-02 01:16:39,013 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 01:16:39,015 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-02 01:16:39,051 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 01:16:39,052 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 01:16:39,053 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 01:16:39,053 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 01:16:39,054 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 01:16:39,055 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 34 ms. Found 0 JDBC repository interfaces.
2023-11-02 01:16:39,064 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 01:16:39,068 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-02 01:16:39,115 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 5 JPA repository interfaces.
2023-11-02 01:16:39,841 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-02 01:16:40,240 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-02 01:16:40,241 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-02 01:16:40,300 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-02 01:16:40,614 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 01:16:40,621 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-02 01:16:40,825 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-02 01:16:40,839 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-02 01:16:40,840 INFO  [main] liquibase.command : Command execution complete
2023-11-02 01:16:41,309 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-02 01:16:41,318 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 01:16:41,399 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 01:16:41,403 INFO  [main] liquibase.command : Using deploymentId: 8884201403
2023-11-02 01:16:41,408 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 01:16:41,499 INFO  [main] liquibase.changelog : Table managers created
2023-11-02 01:16:41,502 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 15ms
2023-11-02 01:16:41,533 INFO  [main] liquibase.changelog : Table products created
2023-11-02 01:16:41,533 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 17ms
2023-11-02 01:16:41,543 INFO  [main] liquibase.changelog : Table clients created
2023-11-02 01:16:41,544 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 7ms
2023-11-02 01:16:41,568 INFO  [main] liquibase.changelog : Table accounts created
2023-11-02 01:16:41,569 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 8ms
2023-11-02 01:16:41,578 INFO  [main] liquibase.changelog : Table agreements created
2023-11-02 01:16:41,579 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 8ms
2023-11-02 01:16:41,586 INFO  [main] liquibase.changelog : Table transactions created
2023-11-02 01:16:41,587 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 6ms
2023-11-02 01:16:41,594 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 01:16:41,595 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 01:16:41,595 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 5ms
2023-11-02 01:16:41,603 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-02 01:16:41,604 INFO  [main] liquibase.changelog : New row inserted into products
2023-11-02 01:16:41,608 ERROR [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos encountered an exception.
2023-11-02 01:16:41,614 INFO  [main] liquibase.command : Update command encountered an exception.
2023-11-02 01:16:41,617 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-02 01:16:41,618 INFO  [main] liquibase.command : Command execution complete
2023-11-02 01:16:41,620 WARN  [main] org.springframework.web.context.support.GenericWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos:
     Reason: liquibase.exception.DatabaseException: Referential integrity constraint violation: "MANAGER_ID_IN_PRODUCT: PUBLIC.PRODUCTS FOREIGN KEY(MANAGER_ID) REFERENCES PUBLIC.MANAGERS(ID) (UUID '523e4567-e89b-12d3-a456-010000000003')"; SQL statement:
INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01') [23506-214] [Failed SQL: (23506) INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01')]
2023-11-02 01:16:41,620 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-02 01:16:41,657 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-02 01:16:41,680 INFO  [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-11-02 01:16:41,744 ERROR [main] org.springframework.boot.SpringApplication : Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos:
     Reason: liquibase.exception.DatabaseException: Referential integrity constraint violation: "MANAGER_ID_IN_PRODUCT: PUBLIC.PRODUCTS FOREIGN KEY(MANAGER_ID) REFERENCES PUBLIC.MANAGERS(ID) (UUID '523e4567-e89b-12d3-a456-010000000003')"; SQL statement:
INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01') [23506-214] [Failed SQL: (23506) INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01')]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos:
     Reason: liquibase.exception.DatabaseException: Referential integrity constraint violation: "MANAGER_ID_IN_PRODUCT: PUBLIC.PRODUCTS FOREIGN KEY(MANAGER_ID) REFERENCES PUBLIC.MANAGERS(ID) (UUID '523e4567-e89b-12d3-a456-010000000003')"; SQL statement:
INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01') [23506-214] [Failed SQL: (23506) INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01')]
	at liquibase.command.CommandScope.execute(CommandScope.java:236)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:223)
	at liquibase.Scope.lambda$child$0(Scope.java:197)
	at liquibase.Scope.child(Scope.java:206)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:175)
	at liquibase.Liquibase.runInScope(Liquibase.java:1361)
	at liquibase.Liquibase.update(Liquibase.java:215)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 95 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos:
     Reason: liquibase.exception.DatabaseException: Referential integrity constraint violation: "MANAGER_ID_IN_PRODUCT: PUBLIC.PRODUCTS FOREIGN KEY(MANAGER_ID) REFERENCES PUBLIC.MANAGERS(ID) (UUID '523e4567-e89b-12d3-a456-010000000003')"; SQL statement:
INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01') [23506-214] [Failed SQL: (23506) INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01')]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:122)
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:87)
	at liquibase.Scope.lambda$child$0(Scope.java:197)
	at liquibase.Scope.child(Scope.java:206)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:175)
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:86)
	at liquibase.command.core.UpdateCommandStep.run(UpdateCommandStep.java:102)
	at liquibase.command.CommandScope.execute(CommandScope.java:213)
	... 107 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos:
     Reason: liquibase.exception.DatabaseException: Referential integrity constraint violation: "MANAGER_ID_IN_PRODUCT: PUBLIC.PRODUCTS FOREIGN KEY(MANAGER_ID) REFERENCES PUBLIC.MANAGERS(ID) (UUID '523e4567-e89b-12d3-a456-010000000003')"; SQL statement:
INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01') [23506-214] [Failed SQL: (23506) INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01')]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:768)
	at liquibase.changelog.visitor.UpdateVisitor.executeAcceptedChange(UpdateVisitor.java:120)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:70)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$0(ChangeLogIterator.java:110)
	at liquibase.Scope.lambda$child$0(Scope.java:197)
	at liquibase.Scope.child(Scope.java:206)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:175)
	at liquibase.Scope.child(Scope.java:263)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:100)
	at liquibase.Scope.lambda$child$0(Scope.java:197)
	at liquibase.Scope.child(Scope.java:206)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:175)
	at liquibase.Scope.child(Scope.java:263)
	at liquibase.Scope.child(Scope.java:267)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:74)
	... 115 common frames omitted
Caused by: liquibase.exception.DatabaseException: Referential integrity constraint violation: "MANAGER_ID_IN_PRODUCT: PUBLIC.PRODUCTS FOREIGN KEY(MANAGER_ID) REFERENCES PUBLIC.MANAGERS(ID) (UUID '523e4567-e89b-12d3-a456-010000000003')"; SQL statement:
INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01') [23506-214] [Failed SQL: (23506) INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01')]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:467)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:180)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1291)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1273)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:728)
	... 131 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: "MANAGER_ID_IN_PRODUCT: PUBLIC.PRODUCTS FOREIGN KEY(MANAGER_ID) REFERENCES PUBLIC.MANAGERS(ID) (UUID '523e4567-e89b-12d3-a456-010000000003')"; SQL statement:
INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01') [23506-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:508)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.constraint.ConstraintReferential.checkRowOwnTable(ConstraintReferential.java:311)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:252)
	at org.h2.table.Table.fireConstraints(Table.java:1172)
	at org.h2.table.Table.fireAfterRow(Table.java:1190)
	at org.h2.command.dml.Insert.insertRows(Insert.java:188)
	at org.h2.command.dml.Insert.update(Insert.java:135)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:461)
	... 136 common frames omitted
2023-11-02 01:16:41,768 ERROR [main] org.springframework.test.context.TestContextManager : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [de.telran.bankapp.controller.ManagerControllerTest@d41518b]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@41dbf02b testClass = de.telran.bankapp.controller.ManagerControllerTest, locations = [], classes = [de.telran.bankapp.BankAppApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [[ImportsContextCustomizer@6a28d987 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@302c971f, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6f10d5b6, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6b695b06, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@65f8f5ae, org.springframework.boot.test.context.SpringBootTestAnnotation@7c8f9b8], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:143)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos:
     Reason: liquibase.exception.DatabaseException: Referential integrity constraint violation: "MANAGER_ID_IN_PRODUCT: PUBLIC.PRODUCTS FOREIGN KEY(MANAGER_ID) REFERENCES PUBLIC.MANAGERS(ID) (UUID '523e4567-e89b-12d3-a456-010000000003')"; SQL statement:
INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01') [23506-214] [Failed SQL: (23506) INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01')]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1406)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:187)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:119)
	... 72 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos:
     Reason: liquibase.exception.DatabaseException: Referential integrity constraint violation: "MANAGER_ID_IN_PRODUCT: PUBLIC.PRODUCTS FOREIGN KEY(MANAGER_ID) REFERENCES PUBLIC.MANAGERS(ID) (UUID '523e4567-e89b-12d3-a456-010000000003')"; SQL statement:
INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01') [23506-214] [Failed SQL: (23506) INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01')]
	at liquibase.command.CommandScope.execute(CommandScope.java:236)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:223)
	at liquibase.Scope.lambda$child$0(Scope.java:197)
	at liquibase.Scope.child(Scope.java:206)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:175)
	at liquibase.Liquibase.runInScope(Liquibase.java:1361)
	at liquibase.Liquibase.update(Liquibase.java:215)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 95 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos:
     Reason: liquibase.exception.DatabaseException: Referential integrity constraint violation: "MANAGER_ID_IN_PRODUCT: PUBLIC.PRODUCTS FOREIGN KEY(MANAGER_ID) REFERENCES PUBLIC.MANAGERS(ID) (UUID '523e4567-e89b-12d3-a456-010000000003')"; SQL statement:
INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01') [23506-214] [Failed SQL: (23506) INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01')]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:122)
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:87)
	at liquibase.Scope.lambda$child$0(Scope.java:197)
	at liquibase.Scope.child(Scope.java:206)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:175)
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:86)
	at liquibase.command.core.UpdateCommandStep.run(UpdateCommandStep.java:102)
	at liquibase.command.CommandScope.execute(CommandScope.java:213)
	... 107 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-insert_test_data_products-changelog.xml::insert test data into products table::n.kapinos:
     Reason: liquibase.exception.DatabaseException: Referential integrity constraint violation: "MANAGER_ID_IN_PRODUCT: PUBLIC.PRODUCTS FOREIGN KEY(MANAGER_ID) REFERENCES PUBLIC.MANAGERS(ID) (UUID '523e4567-e89b-12d3-a456-010000000003')"; SQL statement:
INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01') [23506-214] [Failed SQL: (23506) INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01')]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:768)
	at liquibase.changelog.visitor.UpdateVisitor.executeAcceptedChange(UpdateVisitor.java:120)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:70)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$0(ChangeLogIterator.java:110)
	at liquibase.Scope.lambda$child$0(Scope.java:197)
	at liquibase.Scope.child(Scope.java:206)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:175)
	at liquibase.Scope.child(Scope.java:263)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:100)
	at liquibase.Scope.lambda$child$0(Scope.java:197)
	at liquibase.Scope.child(Scope.java:206)
	at liquibase.Scope.child(Scope.java:196)
	at liquibase.Scope.child(Scope.java:175)
	at liquibase.Scope.child(Scope.java:263)
	at liquibase.Scope.child(Scope.java:267)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:74)
	... 115 common frames omitted
Caused by: liquibase.exception.DatabaseException: Referential integrity constraint violation: "MANAGER_ID_IN_PRODUCT: PUBLIC.PRODUCTS FOREIGN KEY(MANAGER_ID) REFERENCES PUBLIC.MANAGERS(ID) (UUID '523e4567-e89b-12d3-a456-010000000003')"; SQL statement:
INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01') [23506-214] [Failed SQL: (23506) INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01')]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:467)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:180)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1291)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1273)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:728)
	... 131 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Referential integrity constraint violation: "MANAGER_ID_IN_PRODUCT: PUBLIC.PRODUCTS FOREIGN KEY(MANAGER_ID) REFERENCES PUBLIC.MANAGERS(ID) (UUID '523e4567-e89b-12d3-a456-010000000003')"; SQL statement:
INSERT INTO PUBLIC.products (id, manager_id, name, status, currency_code, interest_rate, product_limit, created_at, updated_at) VALUES ('523e4567-e89b-12d3-a456-020000000003', '523e4567-e89b-12d3-a456-010000000003', 'Deposit up to 100.000 EUR', 'ACTIVE', 'EUR', '10.0', '1000000', '2023-03-01', '2023-03-01') [23506-214]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:508)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:477)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.constraint.ConstraintReferential.checkRowOwnTable(ConstraintReferential.java:311)
	at org.h2.constraint.ConstraintReferential.checkRow(ConstraintReferential.java:252)
	at org.h2.table.Table.fireConstraints(Table.java:1172)
	at org.h2.table.Table.fireAfterRow(Table.java:1190)
	at org.h2.command.dml.Insert.insertRows(Insert.java:188)
	at org.h2.command.dml.Insert.update(Insert.java:135)
	at org.h2.command.dml.DataChangeStatement.update(DataChangeStatement.java:74)
	at org.h2.command.CommandContainer.update(CommandContainer.java:169)
	at org.h2.command.Command.executeUpdate(Command.java:252)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:461)
	... 136 common frames omitted
2023-11-02 01:18:32,341 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 19716 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-02 01:18:32,348 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-02 01:18:33,328 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 01:18:33,329 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-02 01:18:33,358 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 01:18:33,359 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 01:18:33,360 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 01:18:33,361 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 01:18:33,362 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 01:18:33,362 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 0 JDBC repository interfaces.
2023-11-02 01:18:33,370 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 01:18:33,370 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-02 01:18:33,406 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 5 JPA repository interfaces.
2023-11-02 01:18:34,107 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-02 01:18:34,470 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-02 01:18:34,471 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-02 01:18:34,534 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-02 01:18:34,833 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 01:18:34,842 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-02 01:18:35,032 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-02 01:18:35,040 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-02 01:18:35,042 INFO  [main] liquibase.command : Command execution complete
2023-11-02 01:18:35,593 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-02 01:18:35,605 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 01:18:35,701 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 01:18:35,708 INFO  [main] liquibase.command : Using deploymentId: 8884315707
2023-11-02 01:18:35,711 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 01:18:35,825 INFO  [main] liquibase.changelog : Table managers created
2023-11-02 01:18:35,828 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 25ms
2023-11-02 01:18:35,868 INFO  [main] liquibase.changelog : Table products created
2023-11-02 01:18:35,868 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 18ms
2023-11-02 01:18:35,883 INFO  [main] liquibase.changelog : Table clients created
2023-11-02 01:18:35,884 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 5ms
2023-11-02 01:18:35,892 INFO  [main] liquibase.changelog : Table accounts created
2023-11-02 01:18:35,893 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 6ms
2023-11-02 01:18:35,909 INFO  [main] liquibase.changelog : Table agreements created
2023-11-02 01:18:35,910 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 14ms
2023-11-02 01:18:35,929 INFO  [main] liquibase.changelog : Table transactions created
2023-11-02 01:18:35,929 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 14ms
2023-11-02 01:18:35,938 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 01:18:35,940 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 01:18:35,940 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 5ms
2023-11-02 01:18:35,949 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-02 01:18:35,949 INFO  [main] liquibase.util : Run:                          7
2023-11-02 01:18:35,949 INFO  [main] liquibase.util : Previously run:               0
2023-11-02 01:18:35,950 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-02 01:18:35,950 INFO  [main] liquibase.util : -------------------------------
2023-11-02 01:18:35,950 INFO  [main] liquibase.util : Total change sets:            7

2023-11-02 01:18:35,952 INFO  [main] liquibase.util : Update summary generated
2023-11-02 01:18:35,955 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-02 01:18:35,957 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-02 01:18:35,958 INFO  [main] liquibase.command : Command execution complete
2023-11-02 01:18:36,332 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-02 01:18:36,451 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-02 01:18:36,453 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-02 01:18:36,552 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 01:18:36,693 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-02 01:18:37,018 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 01:18:37,668 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-02 01:18:37,670 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 01:18:38,791 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-02 01:18:40,967 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-02 01:18:42,353 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-02 01:18:42,420 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-02 01:18:42,420 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-02 01:18:42,421 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 0 ms
2023-11-02 01:18:42,488 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Started ManagerControllerTest in 10.546 seconds (process running for 11.856)
2023-11-02 01:18:43,177 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-02 01:18:43,178 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-02 01:18:43,302 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING)]. Manager creation error: Manager with ID 523e4567-e89b-12d3-a456-010000000011 already exists
2023-11-02 01:18:43,324 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 01:18:43,326 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-02 01:18:43,358 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-02 01:55:55,993 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 15304 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-02 01:55:56,000 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-02 01:55:56,853 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 01:55:56,853 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-02 01:55:56,882 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 01:55:56,883 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 01:55:56,884 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 01:55:56,884 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 01:55:56,885 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 01:55:56,886 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 0 JDBC repository interfaces.
2023-11-02 01:55:56,898 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 01:55:56,899 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-02 01:55:56,930 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 5 JPA repository interfaces.
2023-11-02 01:55:57,736 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-02 01:55:58,104 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-02 01:55:58,106 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-02 01:55:58,171 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-02 01:55:58,425 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 01:55:58,429 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-02 01:55:58,584 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-02 01:55:58,591 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-02 01:55:58,593 INFO  [main] liquibase.command : Command execution complete
2023-11-02 01:55:59,024 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-02 01:55:59,032 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 01:55:59,121 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 01:55:59,127 INFO  [main] liquibase.command : Using deploymentId: 8886559126
2023-11-02 01:55:59,130 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 01:55:59,207 INFO  [main] liquibase.changelog : Table managers created
2023-11-02 01:55:59,209 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 12ms
2023-11-02 01:55:59,251 INFO  [main] liquibase.changelog : Table products created
2023-11-02 01:55:59,252 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 31ms
2023-11-02 01:55:59,265 INFO  [main] liquibase.changelog : Table clients created
2023-11-02 01:55:59,265 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 7ms
2023-11-02 01:55:59,276 INFO  [main] liquibase.changelog : Table accounts created
2023-11-02 01:55:59,276 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 8ms
2023-11-02 01:55:59,294 INFO  [main] liquibase.changelog : Table agreements created
2023-11-02 01:55:59,294 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 13ms
2023-11-02 01:55:59,329 INFO  [main] liquibase.changelog : Table transactions created
2023-11-02 01:55:59,332 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 26ms
2023-11-02 01:55:59,345 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 01:55:59,348 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 01:55:59,349 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 8ms
2023-11-02 01:55:59,360 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-02 01:55:59,362 INFO  [main] liquibase.util : Run:                          7
2023-11-02 01:55:59,362 INFO  [main] liquibase.util : Previously run:               0
2023-11-02 01:55:59,362 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-02 01:55:59,362 INFO  [main] liquibase.util : -------------------------------
2023-11-02 01:55:59,362 INFO  [main] liquibase.util : Total change sets:            7

2023-11-02 01:55:59,364 INFO  [main] liquibase.util : Update summary generated
2023-11-02 01:55:59,368 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-02 01:55:59,372 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-02 01:55:59,373 INFO  [main] liquibase.command : Command execution complete
2023-11-02 01:55:59,746 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-02 01:55:59,914 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-02 01:55:59,915 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-02 01:56:00,048 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 01:56:00,191 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-02 01:56:00,510 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 01:56:01,147 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-02 01:56:01,149 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 01:56:02,062 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-02 01:56:04,275 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-02 01:56:05,869 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-02 01:56:05,958 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-02 01:56:05,958 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-02 01:56:05,959 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 0 ms
2023-11-02 01:56:06,022 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Started ManagerControllerTest in 10.436 seconds (process running for 11.407)
2023-11-02 01:56:06,849 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-02 01:56:06,850 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-02 01:56:07,060 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING)]. Manager creation error: Manager with ID 523e4567-e89b-12d3-a456-010000000011 already exists
2023-11-02 01:56:07,061 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-02 01:56:07,062 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@2358a9f9,[]>
END OF REQUEST
2023-11-02 01:56:07,078 WARN  [main] org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver : Failure in @ExceptionHandler de.telran.bankapp.controller.ResponseExceptionHandler#handleManagerCreationException(ManagerCreationException)
org.springframework.web.HttpMediaTypeNotAcceptableException: No acceptable representation
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:322)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:413)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:141)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1341)
	at org.springframework.test.web.servlet.TestDispatcherServlet.processHandlerException(TestDispatcherServlet.java:144)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1152)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at de.telran.bankapp.controller.ManagerControllerTest.shouldReceiveCreationException(ManagerControllerTest.java:81)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2023-11-02 01:56:07,137 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 01:56:07,142 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-02 01:56:07,161 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-02 02:15:36,863 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 28360 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-02 02:15:36,870 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-02 02:15:37,668 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 02:15:37,669 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-02 02:15:37,697 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 02:15:37,698 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 02:15:37,699 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 02:15:37,700 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 02:15:37,701 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 02:15:37,701 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-11-02 02:15:37,709 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 02:15:37,710 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-02 02:15:37,746 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 5 JPA repository interfaces.
2023-11-02 02:15:38,387 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-02 02:15:38,759 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-02 02:15:38,760 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-02 02:15:38,822 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-02 02:15:39,020 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 02:15:39,025 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-02 02:15:39,170 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-02 02:15:39,183 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-02 02:15:39,184 INFO  [main] liquibase.command : Command execution complete
2023-11-02 02:15:39,578 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-02 02:15:39,587 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 02:15:39,670 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 02:15:39,675 INFO  [main] liquibase.command : Using deploymentId: 8887739675
2023-11-02 02:15:39,680 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 02:15:39,772 INFO  [main] liquibase.changelog : Table managers created
2023-11-02 02:15:39,775 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 16ms
2023-11-02 02:15:39,807 INFO  [main] liquibase.changelog : Table products created
2023-11-02 02:15:39,808 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 16ms
2023-11-02 02:15:39,832 INFO  [main] liquibase.changelog : Table clients created
2023-11-02 02:15:39,836 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 18ms
2023-11-02 02:15:39,863 INFO  [main] liquibase.changelog : Table accounts created
2023-11-02 02:15:39,863 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 18ms
2023-11-02 02:15:39,905 INFO  [main] liquibase.changelog : Table agreements created
2023-11-02 02:15:39,906 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 31ms
2023-11-02 02:15:39,936 INFO  [main] liquibase.changelog : Table transactions created
2023-11-02 02:15:39,937 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 22ms
2023-11-02 02:15:39,952 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 02:15:39,956 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 02:15:39,957 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 10ms
2023-11-02 02:15:39,966 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-02 02:15:39,966 INFO  [main] liquibase.util : Run:                          7
2023-11-02 02:15:39,966 INFO  [main] liquibase.util : Previously run:               0
2023-11-02 02:15:39,966 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-02 02:15:39,966 INFO  [main] liquibase.util : -------------------------------
2023-11-02 02:15:39,967 INFO  [main] liquibase.util : Total change sets:            7

2023-11-02 02:15:39,968 INFO  [main] liquibase.util : Update summary generated
2023-11-02 02:15:39,970 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-02 02:15:39,972 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-02 02:15:39,973 INFO  [main] liquibase.command : Command execution complete
2023-11-02 02:15:40,363 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-02 02:15:40,494 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-02 02:15:40,496 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-02 02:15:40,602 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 02:15:40,751 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-02 02:15:41,060 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 02:15:41,650 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-02 02:15:41,652 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 02:15:42,451 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-02 02:15:44,603 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-02 02:15:46,130 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-02 02:15:46,246 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-02 02:15:46,247 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-02 02:15:46,248 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-02 02:15:46,305 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Started ManagerControllerTest in 9.816 seconds (process running for 10.797)
2023-11-02 02:15:47,046 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-02 02:15:47,047 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-02 02:15:47,175 ERROR [main] de.telran.bankapp.aspect.LoggingAspect : Request throw an exception. Cause - [ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING)]. Manager creation error: Manager with ID 523e4567-e89b-12d3-a456-010000000011 already exists
2023-11-02 02:15:47,177 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ResponseExceptionHandler.handleManagerCreationException
2023-11-02 02:15:47,178 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <400 BAD_REQUEST Bad Request,de.telran.bankapp.dto.ErrorDto@2a6b4454,[]>
END OF REQUEST
2023-11-02 02:15:47,185 WARN  [main] org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver : Failure in @ExceptionHandler de.telran.bankapp.controller.ResponseExceptionHandler#handleManagerCreationException(ManagerCreationException)
org.springframework.web.HttpMediaTypeNotAcceptableException: No acceptable representation
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:322)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:245)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:413)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:74)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:141)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1341)
	at org.springframework.test.web.servlet.TestDispatcherServlet.processHandlerException(TestDispatcherServlet.java:144)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1152)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at org.springframework.test.web.servlet.TestDispatcherServlet.service(TestDispatcherServlet.java:72)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.springframework.mock.web.MockFilterChain$ServletFilterProxy.doFilter(MockFilterChain.java:165)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.mock.web.MockFilterChain.doFilter(MockFilterChain.java:132)
	at org.springframework.test.web.servlet.MockMvc.perform(MockMvc.java:201)
	at de.telran.bankapp.controller.ManagerControllerTest.shouldReceiveCreationException(ManagerControllerTest.java:82)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2023-11-02 02:15:47,223 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 02:15:47,226 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-02 02:15:47,229 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-02 13:43:12,773 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 22976 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-02 13:43:12,784 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-02 13:43:13,651 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 13:43:13,653 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-02 13:43:13,680 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 13:43:13,682 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 13:43:13,683 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 13:43:13,683 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 13:43:13,684 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 13:43:13,684 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-11-02 13:43:13,692 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 13:43:13,693 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-02 13:43:13,724 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 5 JPA repository interfaces.
2023-11-02 13:43:14,348 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-02 13:43:14,691 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-02 13:43:14,692 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-02 13:43:14,744 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-02 13:43:14,967 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 13:43:14,973 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-02 13:43:15,121 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-02 13:43:15,128 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-02 13:43:15,130 INFO  [main] liquibase.command : Command execution complete
2023-11-02 13:43:15,601 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-02 13:43:15,618 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 13:43:15,728 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 13:43:15,735 INFO  [main] liquibase.command : Using deploymentId: 8928995734
2023-11-02 13:43:15,739 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 13:43:15,843 INFO  [main] liquibase.changelog : Table managers created
2023-11-02 13:43:15,845 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 15ms
2023-11-02 13:43:15,877 INFO  [main] liquibase.changelog : Table products created
2023-11-02 13:43:15,877 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 20ms
2023-11-02 13:43:15,899 INFO  [main] liquibase.changelog : Table clients created
2023-11-02 13:43:15,900 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 11ms
2023-11-02 13:43:15,915 INFO  [main] liquibase.changelog : Table accounts created
2023-11-02 13:43:15,916 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 8ms
2023-11-02 13:43:15,929 INFO  [main] liquibase.changelog : Table agreements created
2023-11-02 13:43:15,929 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 8ms
2023-11-02 13:43:15,939 INFO  [main] liquibase.changelog : Table transactions created
2023-11-02 13:43:15,939 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 7ms
2023-11-02 13:43:15,946 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 13:43:15,947 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 13:43:15,947 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 4ms
2023-11-02 13:43:15,951 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-02 13:43:15,952 INFO  [main] liquibase.util : Run:                          7
2023-11-02 13:43:15,952 INFO  [main] liquibase.util : Previously run:               0
2023-11-02 13:43:15,952 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-02 13:43:15,952 INFO  [main] liquibase.util : -------------------------------
2023-11-02 13:43:15,952 INFO  [main] liquibase.util : Total change sets:            7

2023-11-02 13:43:15,954 INFO  [main] liquibase.util : Update summary generated
2023-11-02 13:43:15,955 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-02 13:43:15,957 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-02 13:43:15,958 INFO  [main] liquibase.command : Command execution complete
2023-11-02 13:43:16,195 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-02 13:43:16,268 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-02 13:43:16,270 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-02 13:43:16,373 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 13:43:16,476 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-02 13:43:16,728 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 13:43:17,315 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-02 13:43:17,318 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 13:43:18,275 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-02 13:43:20,262 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-02 13:43:21,435 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-02 13:43:21,486 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-02 13:43:21,486 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-02 13:43:21,487 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-02 13:43:21,524 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Started ManagerControllerTest in 9.081 seconds (process running for 10.23)
2023-11-02 13:43:22,052 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-02 13:43:22,053 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-02 13:43:22,241 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-02 13:43:22,261 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-02 13:43:22,261 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-02 13:43:22,274 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-02 13:43:22,312 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 13:43:22,316 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-02 13:43:22,319 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-02 14:01:56,249 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 15000 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-02 14:01:56,257 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-02 14:01:57,010 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 14:01:57,011 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-02 14:01:57,040 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 14:01:57,042 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 14:01:57,043 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 14:01:57,044 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 14:01:57,045 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 14:01:57,045 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 0 JDBC repository interfaces.
2023-11-02 14:01:57,057 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 14:01:57,058 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-02 14:01:57,104 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 5 JPA repository interfaces.
2023-11-02 14:01:57,790 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-02 14:01:58,090 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-02 14:01:58,091 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-02 14:01:58,144 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-02 14:01:58,354 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 14:01:58,359 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-02 14:01:58,508 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-02 14:01:58,517 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-02 14:01:58,518 INFO  [main] liquibase.command : Command execution complete
2023-11-02 14:01:58,953 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-02 14:01:58,965 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 14:01:59,056 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 14:01:59,062 INFO  [main] liquibase.command : Using deploymentId: 8930119062
2023-11-02 14:01:59,065 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 14:01:59,147 INFO  [main] liquibase.changelog : Table managers created
2023-11-02 14:01:59,150 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 15ms
2023-11-02 14:01:59,180 INFO  [main] liquibase.changelog : Table products created
2023-11-02 14:01:59,181 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 16ms
2023-11-02 14:01:59,193 INFO  [main] liquibase.changelog : Table clients created
2023-11-02 14:01:59,193 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 7ms
2023-11-02 14:01:59,204 INFO  [main] liquibase.changelog : Table accounts created
2023-11-02 14:01:59,204 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 7ms
2023-11-02 14:01:59,218 INFO  [main] liquibase.changelog : Table agreements created
2023-11-02 14:01:59,219 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 10ms
2023-11-02 14:01:59,230 INFO  [main] liquibase.changelog : Table transactions created
2023-11-02 14:01:59,230 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 8ms
2023-11-02 14:01:59,235 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 14:01:59,237 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 14:01:59,238 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 4ms
2023-11-02 14:01:59,245 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-02 14:01:59,246 INFO  [main] liquibase.util : Run:                          7
2023-11-02 14:01:59,246 INFO  [main] liquibase.util : Previously run:               0
2023-11-02 14:01:59,246 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-02 14:01:59,246 INFO  [main] liquibase.util : -------------------------------
2023-11-02 14:01:59,246 INFO  [main] liquibase.util : Total change sets:            7

2023-11-02 14:01:59,247 INFO  [main] liquibase.util : Update summary generated
2023-11-02 14:01:59,251 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-02 14:01:59,253 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-02 14:01:59,253 INFO  [main] liquibase.command : Command execution complete
2023-11-02 14:01:59,475 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-02 14:01:59,719 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-02 14:01:59,723 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-02 14:01:59,891 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 14:01:59,993 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-02 14:02:00,253 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 14:02:00,817 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-02 14:02:00,819 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 14:02:01,738 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-02 14:02:03,843 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-02 14:02:05,061 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-02 14:02:05,119 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-02 14:02:05,120 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-02 14:02:05,121 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-02 14:02:05,196 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Started ManagerControllerTest in 9.291 seconds (process running for 10.214)
2023-11-02 14:02:05,312 ERROR [main] org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener : Could not detect default SQL script for test class [de.telran.bankapp.controller.ManagerControllerTest]: class path resource [de/telran/bankapp/controller/ManagerControllerTest.sql] does not exist. Either declare statements or scripts via @Sql or make the default SQL script available.
2023-11-02 14:02:05,312 WARN  [main] org.springframework.test.context.TestContextManager : Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void de.telran.bankapp.controller.ManagerControllerTest.shouldCreateManager() throws java.lang.Exception] and test instance [de.telran.bankapp.controller.ManagerControllerTest@3353d096]
java.lang.IllegalStateException: Could not detect default SQL script for test class [de.telran.bankapp.controller.ManagerControllerTest]: class path resource [de/telran/bankapp/controller/ManagerControllerTest.sql] does not exist. Either declare statements or scripts via @Sql or make the default SQL script available.
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.detectDefaultScript(SqlScriptsTestExecutionListener.java:394)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.getScripts(SqlScriptsTestExecutionListener.java:360)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:263)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:233)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:233)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:180)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:135)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)
2023-11-02 14:02:05,895 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 14:02:05,896 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-02 14:02:05,899 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-02 14:02:30,470 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 25616 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-02 14:02:30,477 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-02 14:02:31,330 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 14:02:31,332 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-02 14:02:31,377 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 14:02:31,379 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 14:02:31,381 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 14:02:31,383 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 14:02:31,384 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 14:02:31,384 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 0 JDBC repository interfaces.
2023-11-02 14:02:31,393 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 14:02:31,393 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-02 14:02:31,426 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 5 JPA repository interfaces.
2023-11-02 14:02:32,012 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-02 14:02:32,337 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-02 14:02:32,337 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-02 14:02:32,388 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-02 14:02:32,579 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 14:02:32,586 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-02 14:02:32,742 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-02 14:02:32,753 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-02 14:02:32,754 INFO  [main] liquibase.command : Command execution complete
2023-11-02 14:02:33,218 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-02 14:02:33,228 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 14:02:33,301 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 14:02:33,305 INFO  [main] liquibase.command : Using deploymentId: 8930153305
2023-11-02 14:02:33,309 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 14:02:33,380 INFO  [main] liquibase.changelog : Table managers created
2023-11-02 14:02:33,382 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 11ms
2023-11-02 14:02:33,406 INFO  [main] liquibase.changelog : Table products created
2023-11-02 14:02:33,406 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 13ms
2023-11-02 14:02:33,417 INFO  [main] liquibase.changelog : Table clients created
2023-11-02 14:02:33,418 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 6ms
2023-11-02 14:02:33,430 INFO  [main] liquibase.changelog : Table accounts created
2023-11-02 14:02:33,431 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 9ms
2023-11-02 14:02:33,446 INFO  [main] liquibase.changelog : Table agreements created
2023-11-02 14:02:33,447 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 10ms
2023-11-02 14:02:33,457 INFO  [main] liquibase.changelog : Table transactions created
2023-11-02 14:02:33,457 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 6ms
2023-11-02 14:02:33,465 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 14:02:33,466 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 14:02:33,467 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 5ms
2023-11-02 14:02:33,473 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-02 14:02:33,473 INFO  [main] liquibase.util : Run:                          7
2023-11-02 14:02:33,474 INFO  [main] liquibase.util : Previously run:               0
2023-11-02 14:02:33,474 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-02 14:02:33,474 INFO  [main] liquibase.util : -------------------------------
2023-11-02 14:02:33,474 INFO  [main] liquibase.util : Total change sets:            7

2023-11-02 14:02:33,475 INFO  [main] liquibase.util : Update summary generated
2023-11-02 14:02:33,479 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-02 14:02:33,481 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-02 14:02:33,481 INFO  [main] liquibase.command : Command execution complete
2023-11-02 14:02:33,760 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-02 14:02:33,916 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-02 14:02:33,925 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-02 14:02:34,080 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 14:02:34,185 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-02 14:02:34,464 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 14:02:35,034 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-02 14:02:35,037 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 14:02:36,001 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-02 14:02:37,822 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-02 14:02:39,085 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-02 14:02:39,149 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-02 14:02:39,150 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-02 14:02:39,150 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 0 ms
2023-11-02 14:02:39,177 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Started ManagerControllerTest in 9.025 seconds (process running for 9.943)
2023-11-02 14:02:39,716 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-02 14:02:39,717 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-02 14:02:39,857 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-02 14:02:39,867 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-02 14:02:39,867 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-02 14:02:39,873 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-02 14:02:39,897 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 14:02:39,899 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-02 14:02:39,900 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-02 14:02:46,278 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 2820 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-02 14:02:46,286 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-02 14:02:47,121 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 14:02:47,123 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-02 14:02:47,151 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 14:02:47,152 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 14:02:47,153 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 14:02:47,154 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 14:02:47,155 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 14:02:47,156 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 0 JDBC repository interfaces.
2023-11-02 14:02:47,164 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 14:02:47,165 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-02 14:02:47,193 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 5 JPA repository interfaces.
2023-11-02 14:02:47,760 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-02 14:02:48,087 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-02 14:02:48,088 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-02 14:02:48,137 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-02 14:02:48,368 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 14:02:48,373 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-02 14:02:48,519 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-02 14:02:48,532 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-02 14:02:48,535 INFO  [main] liquibase.command : Command execution complete
2023-11-02 14:02:48,950 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-02 14:02:48,960 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 14:02:49,037 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 14:02:49,044 INFO  [main] liquibase.command : Using deploymentId: 8930169043
2023-11-02 14:02:49,047 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 14:02:49,122 INFO  [main] liquibase.changelog : Table managers created
2023-11-02 14:02:49,124 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 12ms
2023-11-02 14:02:49,147 INFO  [main] liquibase.changelog : Table products created
2023-11-02 14:02:49,147 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 12ms
2023-11-02 14:02:49,162 INFO  [main] liquibase.changelog : Table clients created
2023-11-02 14:02:49,163 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 10ms
2023-11-02 14:02:49,179 INFO  [main] liquibase.changelog : Table accounts created
2023-11-02 14:02:49,180 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 11ms
2023-11-02 14:02:49,200 INFO  [main] liquibase.changelog : Table agreements created
2023-11-02 14:02:49,202 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 16ms
2023-11-02 14:02:49,225 INFO  [main] liquibase.changelog : Table transactions created
2023-11-02 14:02:49,226 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 16ms
2023-11-02 14:02:49,240 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 14:02:49,242 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 14:02:49,244 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 10ms
2023-11-02 14:02:49,257 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-02 14:02:49,257 INFO  [main] liquibase.util : Run:                          7
2023-11-02 14:02:49,258 INFO  [main] liquibase.util : Previously run:               0
2023-11-02 14:02:49,258 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-02 14:02:49,258 INFO  [main] liquibase.util : -------------------------------
2023-11-02 14:02:49,258 INFO  [main] liquibase.util : Total change sets:            7

2023-11-02 14:02:49,260 INFO  [main] liquibase.util : Update summary generated
2023-11-02 14:02:49,265 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-02 14:02:49,271 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-02 14:02:49,271 INFO  [main] liquibase.command : Command execution complete
2023-11-02 14:02:49,524 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-02 14:02:49,677 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-02 14:02:49,682 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-02 14:02:49,860 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 14:02:49,964 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-02 14:02:50,220 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 14:02:50,847 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-02 14:02:50,849 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 14:02:51,670 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-02 14:02:53,607 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-02 14:02:54,814 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-02 14:02:54,879 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-02 14:02:54,880 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-02 14:02:54,881 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 1 ms
2023-11-02 14:02:54,940 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Started ManagerControllerTest in 9.009 seconds (process running for 9.842)
2023-11-02 14:02:55,636 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-02 14:02:55,636 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-02 14:02:55,782 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-02 14:02:55,792 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-02 14:02:55,793 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-02 14:02:55,799 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-02 14:02:55,820 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 14:02:55,822 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-02 14:02:55,824 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
2023-11-02 14:03:33,568 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Starting ManagerControllerTest using Java 19.0.2 with PID 2520 (started by natal in D:\Natalia\TelRan\TestH2\BankApp)
2023-11-02 14:03:33,576 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : No active profile set, falling back to 1 default profile: "default"
2023-11-02 14:03:34,435 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 14:03:34,436 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-11-02 14:03:34,465 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AccountRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 14:03:34,466 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.AgreementRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 14:03:34,467 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ClientRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 14:03:34,468 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ManagerRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 14:03:34,469 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport : Spring Data JDBC - Could not safely identify store assignment for repository candidate interface de.telran.bankapp.repository.ProductRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-11-02 14:03:34,469 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-11-02 14:03:34,479 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode
2023-11-02 14:03:34,479 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-11-02 14:03:34,510 INFO  [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 5 JPA repository interfaces.
2023-11-02 14:03:35,093 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Starting...
2023-11-02 14:03:35,396 INFO  [main] com.zaxxer.hikari.pool.HikariPool : HikariPool-1 - Added connection conn1: url=jdbc:h2:file:/data/bank_test user=SA
2023-11-02 14:03:35,397 INFO  [main] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Start completed.
2023-11-02 14:03:35,444 INFO  [main] liquibase.database : Set default schema name to PUBLIC
2023-11-02 14:03:35,683 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 14:03:35,689 INFO  [main] liquibase.command : Dropping Database Objects in schema: BANK_TEST.PUBLIC
2023-11-02 14:03:35,844 INFO  [main] liquibase.database : Successfully deleted all supported object types in schema BANK_TEST.PUBLIC.
2023-11-02 14:03:35,855 WARN  [main] liquibase.lockservice : Failed to release change log lock
2023-11-02 14:03:35,856 INFO  [main] liquibase.command : Command execution complete
2023-11-02 14:03:36,274 INFO  [main] liquibase.changelog : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2023-11-02 14:03:36,289 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 14:03:36,371 INFO  [main] liquibase.lockservice : Successfully acquired change log lock
2023-11-02 14:03:36,376 INFO  [main] liquibase.command : Using deploymentId: 8930216376
2023-11-02 14:03:36,379 INFO  [main] liquibase.changelog : Reading from PUBLIC.DATABASECHANGELOG
2023-11-02 14:03:36,450 INFO  [main] liquibase.changelog : Table managers created
2023-11-02 14:03:36,453 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-create-table-manager-changelog.xml::create managers table::n.kapinos ran successfully in 12ms
2023-11-02 14:03:36,473 INFO  [main] liquibase.changelog : Table products created
2023-11-02 14:03:36,473 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/02-create-table-product-changelog.xml::create products table::n.kapinos ran successfully in 11ms
2023-11-02 14:03:36,482 INFO  [main] liquibase.changelog : Table clients created
2023-11-02 14:03:36,483 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/03-create-table-client-changelog.xml::create clients table::n.kapinos ran successfully in 5ms
2023-11-02 14:03:36,492 INFO  [main] liquibase.changelog : Table accounts created
2023-11-02 14:03:36,493 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/04-create-table-account-changelog.xml::create accounts table::n.kapinos ran successfully in 6ms
2023-11-02 14:03:36,504 INFO  [main] liquibase.changelog : Table agreements created
2023-11-02 14:03:36,504 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/05-create-table-agreement-changelog.xml::create agreements table::n.kapinos ran successfully in 8ms
2023-11-02 14:03:36,515 INFO  [main] liquibase.changelog : Table transactions created
2023-11-02 14:03:36,516 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/06-create-table-transaction-changelog.xml::create transactions table::n.kapinos ran successfully in 8ms
2023-11-02 14:03:36,525 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 14:03:36,527 INFO  [main] liquibase.changelog : New row inserted into managers
2023-11-02 14:03:36,528 INFO  [main] liquibase.changelog : ChangeSet dbtest/changelog/changes/v0.0.1-SNAPSHOT/01-insert_test_data_managers-changelog.xml::insert test data into managers table::n.kapinos ran successfully in 8ms
2023-11-02 14:03:36,535 INFO  [main] liquibase.util : UPDATE SUMMARY
2023-11-02 14:03:36,535 INFO  [main] liquibase.util : Run:                          7
2023-11-02 14:03:36,536 INFO  [main] liquibase.util : Previously run:               0
2023-11-02 14:03:36,536 INFO  [main] liquibase.util : Filtered out:                 0
2023-11-02 14:03:36,536 INFO  [main] liquibase.util : -------------------------------
2023-11-02 14:03:36,536 INFO  [main] liquibase.util : Total change sets:            7

2023-11-02 14:03:36,538 INFO  [main] liquibase.util : Update summary generated
2023-11-02 14:03:36,541 INFO  [main] liquibase.command : Update command completed successfully.
2023-11-02 14:03:36,543 INFO  [main] liquibase.lockservice : Successfully released change log lock
2023-11-02 14:03:36,544 INFO  [main] liquibase.command : Command execution complete
2023-11-02 14:03:36,767 INFO  [main] org.hibernate.jpa.internal.util.LogHelper : HHH000204: Processing PersistenceUnitInfo [name: default]
2023-11-02 14:03:36,977 INFO  [main] org.hibernate.Version : HHH000412: Hibernate ORM core version 6.2.7.Final
2023-11-02 14:03:36,989 INFO  [main] org.hibernate.cfg.Environment : HHH000406: Using bytecode reflection optimizer
2023-11-02 14:03:37,141 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 14:03:37,238 INFO  [main] org.springframework.orm.jpa.persistenceunit.SpringPersistenceUnitInfo : No LoadTimeWeaver setup: ignoring JPA class transformer
2023-11-02 14:03:37,543 INFO  [main] org.hibernate.bytecode.internal.BytecodeProviderInitiator : HHH000021: Bytecode provider name : bytebuddy
2023-11-02 14:03:38,085 INFO  [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-11-02 14:03:38,088 INFO  [main] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 14:03:38,924 INFO  [main] org.springframework.data.jpa.repository.query.QueryEnhancerFactory : Hibernate is in classpath; If applicable, HQL parser will be used.
2023-11-02 14:03:40,877 WARN  [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-11-02 14:03:41,954 INFO  [main] org.springframework.boot.autoconfigure.h2.H2ConsoleAutoConfiguration : H2 console available at '/h2-console'. Database available at 'jdbc:h2:file:/data/bank_test'
2023-11-02 14:03:42,014 INFO  [main] org.springframework.boot.test.mock.web.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-02 14:03:42,014 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Initializing Servlet ''
2023-11-02 14:03:42,016 INFO  [main] org.springframework.test.web.servlet.TestDispatcherServlet : Completed initialization in 2 ms
2023-11-02 14:03:42,065 INFO  [main] de.telran.bankapp.controller.ManagerControllerTest : Started ManagerControllerTest in 8.847 seconds (process running for 9.758)
2023-11-02 14:03:42,692 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers
HTTP_METHOD : POST
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.createManager
2023-11-02 14:03:42,693 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.createManager
2023-11-02 14:03:42,839 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <201 CREATED Created,[]>
END OF REQUEST
2023-11-02 14:03:42,850 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
NEW REQUEST:
IP : 127.0.0.1
URL : http://localhost/managers/523e4567-e89b-12d3-a456-010000000011
HTTP_METHOD : GET
CONTROLLER_METHOD : de.telran.bankapp.controller.ManagerController.getManagerByID
2023-11-02 14:03:42,850 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : RUN SERVICE:
SERVICE_METHOD : de.telran.bankapp.service.implementations.ManagerServiceImpl.getManagerByID
2023-11-02 14:03:42,857 INFO  [main] de.telran.bankapp.aspect.LoggingAspect : 
Return value: <200 OK OK,ManagerDto(id=523e4567-e89b-12d3-a456-010000000011, firstName=John, lastName=Smith, status=WORKING),[]>
END OF REQUEST
2023-11-02 14:03:42,879 INFO  [SpringApplicationShutdownHook] org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2023-11-02 14:03:42,880 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown initiated...
2023-11-02 14:03:42,882 INFO  [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource : HikariPool-1 - Shutdown completed.
